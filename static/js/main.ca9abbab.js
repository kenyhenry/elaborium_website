/*! For license information please see main.ca9abbab.js.LICENSE.txt */
(()=>{var e={123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var s,o,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in s=Object(arguments[l]))n.call(s,u)&&(a[u]=s[u]);if(t){o=t(s);for(var c=0;c<o.length;c++)r.call(s,o[c])&&(a[o[c]]=s[o[c]])}}return a}},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),I=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function q(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case I:return"Portal";case T:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function se(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Se=null,Ee=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ie(e.stateNode,e.type,t))}}function ke(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ae(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return xe(e,t,n)}finally{Ne=!1,(null!==Se||null!==Ee)&&(Ae(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function qe(e,t,n,r,i,s,o,a,l){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,St,Et,Tt,kt=!1,Ct=[],xt=null,At=null,Nt=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){kt=!1,null!==xt&&jt(xt)&&(xt=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Pt.forEach(Ut),Rt.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return qt(t,e)}if(0<Ct.length){qt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&qt(xt,e),null!==At&&qt(At,e),null!==Nt&&qt(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Bt=w.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=1,Wt(e,t,n,r)}finally{bt=i,Bt.transition=s}}function Ht(e,t,n,r){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=4,Wt(e,t,n,r)}finally{bt=i,Bt.transition=s}}function Wt(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=F({},un,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return En}var kn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),xn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Nn=sn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Pn),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Gn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){jr(e,0)}function $n(e){if(W(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&$n(Wn)){var t=[];Gn(t,Wn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Wn)}function sr(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Er={};function Tr(e){if(Sr[e])return Sr[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var kr=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Ar=Tr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(xr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(qe.apply(this,arguments),Me){if(!Me)throw Error(s(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,a,u),s=l}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[qr]){e[qr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=_e(n),o=[];e:{var a=Nr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case kr:case Cr:case xr:l=vn;break;case Ar:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&c.push(Gr(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==u?a:wi(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)c=Wr(c),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Wr(c),d=Wr(d)}c=null}else c=null;null!==l&&Qr(o,a,l,c,!1),null!==u&&null!==h&&Qr(o,h,u,c,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Kn(a))if(Yn)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(v=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=qn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Re(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Re(n,s))&&o.unshift(Gr(n,l,a)):i||null!=(l=Re(n,s))&&o.push(Gr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ii=[],Si=-1;function Ei(e){return{current:e}}function Ti(e){0>Si||(e.current=Ii[Si],Ii[Si]=null,Si--)}function ki(e,t){Si++,Ii[Si]=e.current,e.current=t}var Ci={},xi=Ei(Ci),Ai=Ei(!1),Ni=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ti(Ai),Ti(xi)}function Di(e,t,n){if(xi.current!==Ci)throw Error(s(168));ki(xi,t),ki(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,B(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=xi.current,ki(xi,e),ki(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(xi),ki(xi,e)):Ti(Ai),ki(Ai,n)}var ji=null,Ui=!1,Vi=!1;function qi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var Bi=[],Ki=0,Gi=null,Hi=0,Wi=[],Qi=0,$i=null,Ji=1,Yi="";function Xi(e,t){Bi[Ki++]=Hi,Bi[Ki++]=Gi,Gi=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Ji,Wi[Qi++]=Yi,Wi[Qi++]=$i,$i=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=s+e}else Ji=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Gi;)Gi=Bi[--Ki],Bi[Ki]=null,Hi=Bi[--Ki],Bi[Ki]=null;for(;e===$i;)$i=Wi[--Qi],Wi[Qi]=null,Yi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Pu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===S?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ju(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case I:return(t=ju(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lu(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case I:return n.key===i?c(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),is&&Xi(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return is&&Xi(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Xi(i,m),u}function g(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?c=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),is&&Xi(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return is&&Xi(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Xi(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===S){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&ys(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=gs(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((s=Lu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Du(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case I:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=ju(o,r.mode,l)).return=r,r=s}return a(r);case R:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(L(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=bs(!0),_s=bs(!1),Is=Ei(null),Ss=null,Es=null,Ts=null;function ks(){Ts=Es=Ss=null}function Cs(e){var t=Is.current;Ti(Is),e._currentValue=t}function xs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function As(e,t){Ss=e,Ts=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ns(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===Ss)throw Error(s(308));Es=e,Ss.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ps=null;function Rs(e){null===Ps?Ps=[e]:Ps.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ds(e,r)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ds(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ds(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=h}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ks={},Gs=Ei(Ks),Hs=Ei(Ks),Ws=Ei(Ks);function Qs(e){if(e===Ks)throw Error(s(174));return e}function $s(e,t){switch(ki(Ws,t),ki(Hs,e),ki(Gs,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Gs),ki(Gs,t)}function Js(){Ti(Gs),Ti(Hs),Ti(Ws)}function Ys(e){Qs(Ws.current);var t=Qs(Gs.current),n=le(t,e.type);t!==n&&(ki(Hs,e),ki(Gs,n))}function Xs(e){Hs.current===e&&(Ti(Gs),Ti(Hs))}var Zs=Ei(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,fo=0;function po(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Xo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,oo.lanes|=h,Ml|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Ml|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=bo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Eo(e,t){var n=oo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Po(9,ko.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&so)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ko(e,t,n,r){t.value=n,t.getSnapshot=r,xo(t)&&Ao(e)}function Co(e,t,n){return n((function(){xo(t)&&Ao(e)}))}function xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ao(e){var t=Ds(e,1);null!==t&&nu(t,e,1,-1)}function No(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ro(){return bo().memoizedState}function Oo(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=Po(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Po(t,n,s,r))}oo.flags|=e,i.memoizedState=Po(1|t,n,s,r)}function Lo(e,t){return Oo(8390656,8,e,t)}function Mo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function jo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Vo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function qo(){}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ko(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Ml|=n,e.baseState=!0),t)}function Go(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Ho(){return bo().memoizedState}function Wo(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e))Jo(t,n);else if(null!==(n=Os(e,t,n,r))){nu(n,e,r,eu()),Yo(n,t,r)}}function Qo(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Jo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Os(e,t,i,r))&&(nu(n,e,r,i=eu()),Yo(n,t,r))}}function $o(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Ns,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ns,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ns,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oo(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wo.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:No,useDebugValue:qo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=Go.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&so)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Po(9,ko.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Al.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ns,useCallback:zo,useContext:Ns,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:Bo,useReducer:_o,useRef:Ro,useState:function(){return _o(wo)},useDebugValue:qo,useDeferredValue:function(e){return Ko(bo(),ao.memoizedState,e)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ho,unstable_isNewReconciler:!1},ta={readContext:Ns,useCallback:zo,useContext:Ns,useEffect:Mo,useImperativeHandle:Vo,useInsertionEffect:Fo,useLayoutEffect:jo,useMemo:Bo,useReducer:Io,useRef:Ro,useState:function(){return Io(wo)},useDebugValue:qo,useDeferredValue:function(e){var t=bo();return null===ao?t.memoizedState=e:Ko(t,ao.memoizedState,e)},useTransition:function(){return[Io(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ho,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=js(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nu(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=js(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nu(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=js(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nu(t,e,r,n),Vs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ns(s):(i=Ri(t)?Ni:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ns(s):(s=Ri(t)?Ni:xi.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Gl=r),ha(0,t)},n}function pa(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?_s(t,null,n,r):ws(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var s=t.ref;return As(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||ba?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ia(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ru(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Ou(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return ka(e,t,n,r,i)}function Ea(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Ol,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Ol,Rl),Rl|=r;return wa(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var s=Ri(n)?Ni:xi.current;return s=Pi(t,s),As(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||ba?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ca(e,t,n,r,i){if(Ri(n)){var s=!0;Mi(t)}else s=!1;if(As(t,i),null===t.stateNode)Ba(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ns(u):u=Pi(t,u=Ri(n)?Ni:xi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),Ls=!1;var d=t.memoizedState;o.state=d,zs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ai.current||Ls?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Ls||sa(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ns(l):l=Pi(t,l=Ri(n)?Ni:xi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Ls=!1,d=t.memoizedState,o.state=d,zs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ai.current||Ls?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(u=Ls||sa(t,n,u,r,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return xa(e,t,n,r,s,i)}function xa(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ka(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),$s(e,t.containerInfo)}function Na(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wa(e,t,n,r),t.child}var Pa,Ra,Oa,Da,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(Zs,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mu(l,i,0,null),e=Lu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):ja(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mu({mode:"visible",children:r.children},i,0,null),(o=Lu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,o);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ds(e,i),nu(r,e,i,-1))}return mu(),Ua(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Wi[Qi++]=Ji,Wi[Qi++]=Yi,Wi[Qi++]=$i,Ji=e.id,Yi=e.overflow,$i=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ou(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ou(r,a):(a=Lu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Ou(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xs(e.return,t,n)}function qa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function za(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qa(t,!0,n,null,s);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ba(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ha(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ha(t),null;case 3:return r=t.stateNode,Js(),Ti(Ai),Ti(xi),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Ra(e,t),Ha(t),null;case 5:Xs(t);var i=Qs(Ws.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ha(t),null}if(e=Qs(Gs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&b(e,o,c,l))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ha(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Ws.current),Qs(Gs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ha(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ha(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ha(t),null);case 4:return Js(),Ra(e,t),null===e&&zr(t.stateNode.containerInfo),Ha(t),null;case 10:return Cs(t.type._context),Ha(t),null;case 19:if(Ti(Zs),null===(o=t.memoizedState))return Ha(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ga(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ga(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>zl&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ha(t),null}else 2*Ye()-o.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Ha(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ha(t),6&t.subtreeFlags&&(t.flags|=8192)):Ha(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qa(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Ti(Ai),Ti(xi),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Js(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Gs.current);var s,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ur("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ja=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||Za(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Ja&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Eu(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,dl(e,t,n),Ja=r):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=xu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));fl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Eu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Eu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Eu(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Eu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(i,o),be(l,a);var c=be(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Eu(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Eu(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Eu(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=Ye())),4&r&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(c=Ja)||h,ml(t,e),Ja=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Xa=e,h=e.child;null!==h;){for(d=Xa=h;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Eu(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Xa=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Eu(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Eu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Eu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xa=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$a;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=$a;var u=Ja;if($a=o,(Ja=l)&&!u)for(Xa=i;null!==Xa;)l=(o=Xa).child,22===o.tag&&null!==o.memoizedState?Il(i):null!==l?(l.return=o,Xa=l):Il(i);for(;null!==s;)Xa=s,bl(s,t,n),s=s.sibling;Xa=i,$a=a,Ja=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xa=s):wl(e)}}function wl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Bs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&il(t)}catch(f){Eu(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function _l(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function Il(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Eu(t,i,l)}}var s=t.return;try{il(t)}catch(l){Eu(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Eu(t,o,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Sl,El=Math.ceil,Tl=w.ReactCurrentDispatcher,kl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,xl=0,Al=null,Nl=null,Pl=0,Rl=0,Ol=Ei(0),Dl=0,Ll=null,Ml=0,Fl=0,jl=0,Ul=null,Vl=null,ql=0,zl=1/0,Bl=null,Kl=!1,Gl=null,Hl=null,Wl=!1,Ql=null,$l=0,Jl=0,Yl=null,Xl=-1,Zl=0;function eu(){return 0!==(6&xl)?Ye():-1!==Xl?Xl:Xl=Ye()}function tu(e){return 0===(1&e.mode)?1:0!==(2&xl)&&0!==Pl?Pl&-Pl:null!==ms.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nu(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(s(185));vt(e,n,r),0!==(2&xl)&&e===Al||(e===Al&&(0===(2&xl)&&(Fl|=n),4===Dl&&au(e,Pl)),ru(e,r),1===n&&0===xl&&0===(1&t.mode)&&(zl=Ye()+500,Ui&&zi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Al?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,qi(e)}(lu.bind(null,e)):qi(lu.bind(null,e)),oi((function(){0===(6&xl)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Zl=0,0!==(6&xl))throw Error(s(327));var n=e.callbackNode;if(Iu()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=xl;xl|=2;var o=pu();for(Al===e&&Pl===t||(Bl=null,zl=Ye()+500,du(e,t));;)try{yu();break}catch(l){fu(e,l)}ks(),Tl.current=o,xl=i,null!==Nl?t=0:(Al=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=su(e,i))),1===t)throw n=Ll,du(e,0),au(e,r),ru(e,Ye()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=pt(e))&&(r=o,t=su(e,o))),1===t))throw n=Ll,du(e,0),au(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_u(e,Vl,Bl);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=ql+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_u.bind(null,e,Vl,Bl),t);break}_u(e,Vl,Bl);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(_u.bind(null,e,Vl,Bl),r);break}_u(e,Vl,Bl);break;default:throw Error(s(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Vl,Vl=n,null!==t&&ou(t)),e}function ou(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function au(e,t){for(t&=~jl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&xl))throw Error(s(327));Iu();var t=dt(e,0);if(0===(1&t))return ru(e,Ye()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Ll,du(e,0),au(e,t),ru(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Vl,Bl),ru(e,Ye()),null}function uu(e,t){var n=xl;xl|=1;try{return e(t)}finally{0===(xl=n)&&(zl=Ye()+500,Ui&&zi())}}function cu(e){null!==Ql&&0===Ql.tag&&0===(6&xl)&&Iu();var t=xl;xl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(xl=t))&&zi()}}function hu(){Rl=Ol.current,Ti(Ol)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Js(),Ti(Ai),Ti(xi),no();break;case 5:Xs(r);break;case 4:Js();break;case 13:case 19:Ti(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Al=e,Nl=e=Ou(e.current,null),Pl=Rl=t,Dl=0,Ll=null,jl=Fl=Ml=0,Vl=Ul=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ps=null}return e}function fu(e,t){for(;;){var n=Nl;try{if(ks(),ro.current=Xo,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,kl.current=null,null===n||null===n.return){Dl=1,Ll=t,Nl=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Pl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ma(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ma(o,c,t),mu();break e}u=Error(s(426))}else if(is&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),ps(ua(u,l));break e}}o=u=ua(u,l),4!==Dl&&(Dl=2),null===Ul?Ul=[o]:Ul.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,qs(o,fa(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hl||!Hl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,qs(o,pa(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(w){t=w,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pu(){var e=Tl.current;return Tl.current=Xo,null===e?Xo:e}function mu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Al||0===(268435455&Ml)&&0===(268435455&Fl)||au(Al,Pl)}function gu(e,t){var n=xl;xl|=2;var r=pu();for(Al===e&&Pl===t||(Bl=null,du(e,t));;)try{vu();break}catch(i){fu(e,i)}if(ks(),xl=n,Tl.current=r,null!==Nl)throw Error(s(261));return Al=null,Pl=0,Dl}function vu(){for(;null!==Nl;)bu(Nl)}function yu(){for(;null!==Nl&&!$e();)bu(Nl)}function bu(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wu(e):Nl=t,kl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wa(n,t,Rl)))return void(Nl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Dl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Dl&&(Dl=5)}function _u(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{Iu()}while(null!==Ql);if(0!==(6&xl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Al&&(Nl=Al=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wl||(Wl=!0,Au(tt,(function(){return Iu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=bt;bt=1;var l=xl;xl|=4,kl.current=null,function(e,t){if(ei=Kt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===i&&(l=a),f===o&&++h===r&&(u=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){Eu(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Je(),xl=l,bt=a,Cl.transition=o}else e.current=n;if(Wl&&(Wl=!1,Ql=e,$l=i),o=e.pendingLanes,0===o&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kl)throw Kl=!1,e=Gl,Gl=null,e;0!==(1&$l)&&0!==e.tag&&Iu(),o=e.pendingLanes,0!==(1&o)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,zi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function Iu(){if(null!==Ql){var e=wt($l),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,$l=0,0!==(6&xl))throw Error(s(331));var i=xl;for(xl|=4,Xa=e.current;null!==Xa;){var o=Xa,a=o.child;if(0!==(16&Xa.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xa=c;null!==Xa;){var h=Xa;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Xa=d;else for(;null!==Xa;){var f=(h=Xa).sibling,p=h.return;if(sl(h),h===c){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(o=Xa).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xa=y;break e}Xa=o.return}}var b=e.current;for(Xa=b;null!==Xa;){var w=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Xa=w;else e:for(a=b;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(I){Eu(l,l.return,I)}if(l===a){Xa=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xa=_;break e}Xa=l.return}}if(xl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(I){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Su(e,t,n){e=Us(e,t=fa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=Us(t,e=pa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Ye()-ql?du(e,0):jl|=n),ru(e,t)}function ku(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ds(e,t))&&(vt(e,t,n),ru(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function xu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),ku(e,n)}function Au(e,t){return We(e,t)}function Nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pu(e,t,n,r){return new Nu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Pu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ru(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Lu(n.children,i,o,t);case E:a=8,i|=8;break;case T:return(e=Pu(12,n,t,2|i)).elementType=T,e.lanes=o,e;case A:return(e=Pu(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Pu(19,n,t,i)).elementType=N,e.lanes=o,e;case O:return Mu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case C:a=9;break e;case x:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lu(e,t,n,r){return(e=Pu(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Pu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Pu(6,e,null,t)).lanes=n,e}function ju(e,t,n){return(t=Pu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,s,o,a,l){return e=new Uu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function qu(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function zu(e,t,n,r,i,s,o,a,l){return(e=Vu(n,r,!0,e,0,s,0,a,l)).context=qu(null),n=e.current,(s=js(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function Bu(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,o))&&(nu(e,i,o,s),Vs(e,i,o)),o}function Ku(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hu(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:Ys(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:$s(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Is,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(ki(Zs,1&Zs.current),null!==(e=Ka(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return za(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Ka(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ba(e,t),e=t.pendingProps;var i=Pi(t,xi.current);As(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=xa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ba(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ca(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Ia(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Fs(e,t),zs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Na(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ka(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return Fa(e,t,n);case 4:return $s(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(Is,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ai.current){t=Ka(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=js(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),xs(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,As(t,n),r=r(i=Ns(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ia(e,t,r,i=na(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ba(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,As(t,n),oa(t,r,i),la(t,r,i,n),xa(null,t,r,!0,e,n);case 19:return za(e,t,n);case 22:return Ea(e,t,n)}throw Error(s(156,t.tag))};var Wu="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function $u(e){this._internalRoot=e}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Ku(o);a.call(e)}}Bu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Ku(o);s.call(e)}}var o=zu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Ku(l);a.call(e)}}var l=Vu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),cu((function(){Bu(t,l,n,r)})),l}(n,t,e,i,r);return Ku(o)}$u.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bu(e,t,null,null)},$u.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Bu(null,e,null,null)})),t[pi]=null}},$u.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ye()),0===(6&xl)&&(zl=Ye()+500,zi()))}break;case 13:cu((function(){var t=Ds(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Hu(e,1)}},It=function(e){if(13===e.tag){var t=Ds(e,134217728);if(null!==t)nu(t,e,134217728,eu());Hu(e,134217728)}},St=function(e){if(13===e.tag){var t=tu(e),n=Ds(e,t);if(null!==n)nu(n,e,t,eu());Hu(e,t)}},Et=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ie=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));W(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=uu,Ae=cu;var ec={usingClientEntryPoint:!1,Events:[bi,wi,_i,ke,Ce,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ju(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ju(e))throw Error(s(299));var n=!1,r="",i=Wu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(s(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ju(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Wu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=zu(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $u(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(s(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},366:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var a,l,u,c;if(Array.isArray(e)){if((a=e.length)!=o.length)return!1;for(l=a;0!==l--;)if(!s(e[l],o[l]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!s(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((a=e.length)!=o.length)return!1;for(l=a;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((a=(u=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!s(e[u[l]],o[u[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return s(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},542:(e,t,n)=>{"use strict";var r,i=n(43),s=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var l,u=[];function c(){l=e(u.map((function(e){return e.props}))),h.canUseDOM?t(l):n&&(l=n(l))}var h=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return l},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,u=[],e};var o=i.prototype;return o.UNSAFE_componentWillMount=function(){u.push(this),c()},o.componentDidUpdate=function(){c()},o.componentWillUnmount=function(){var e=u.indexOf(this);u.splice(e,1),c()},o.render=function(){return s.createElement(r,this.props)},i}(i.PureComponent);return o(h,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),o(h,"canUseDOM",a),h}}},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.jsx=u,t.jsxs=u},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)I.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+x(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var u=0;u<e.length;u++){var c=s+x(a=e[u],u);l+=A(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=A(a=a.value,t,i,c=s+x(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)I.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,O(I);else{var t=r(c);null!==t&&D(_,t.startTime-e)}}function I(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(w(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!A());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),w(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&D(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,T=null,k=-1,C=5,x=-1;function A(){return!(t.unstable_now()-x<C)}function N(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?S():(E=!1,T=null)}}else E=!1}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,S=function(){R.postMessage(null)}}else S=function(){v(N,0)};function O(e){T=e,E||(E=!0,S())}function D(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(y(k),k=-1):g=!0,D(_,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,O(I))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".37546b10.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="elaborium_website:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/elaborium_website/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkelaborium_website=self.webpackChunkelaborium_website||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>gn,SDK_VERSION:()=>Qr,_DEFAULT_ENTRY_NAME:()=>Rr,_addComponent:()=>Fr,_addOrOverwriteComponent:()=>jr,_apps:()=>Dr,_clearComponents:()=>Kr,_components:()=>Mr,_getProvider:()=>Vr,_isFirebaseApp:()=>zr,_isFirebaseServerApp:()=>Br,_registerComponent:()=>Ur,_removeServiceInstance:()=>qr,_serverApps:()=>Lr,deleteApp:()=>Zr,getApp:()=>Yr,getApps:()=>Xr,initializeApp:()=>$r,initializeServerApp:()=>Jr,onLog:()=>ti,registerVersion:()=>ei,setLogLevel:()=>ni});var t,r=n(43),i=n.t(r,2),s=n(391),o=n(950),a=n.t(o,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const u="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,h=t.Pop,m=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){h=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:h,location:w.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let w={get action(){return h},get location(){return e(s,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),m=e,()=>{s.removeEventListener(u,y),m=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(w.location,e,n);r&&r(i,e),g=v()+1;let l=d(i,g),u=w.createHref(i);try{a.pushState(l,"",u)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(u)}o&&m&&m({action:h,location:w.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(w.location,e,n);r&&r(i,e),g=v();let s=d(i,g),l=w.createHref(i);a.replaceState(s,"",l),o&&m&&m({action:h,location:w.location,delta:0})},go:e=>a.go(e)};return w}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let s=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=R(i);o=N(s[a],e,r)}return o}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(c(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=j([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:A(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of _(e.path))i(e,t,r);else i(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=_(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const I=/^:[\w-]+$/,S=3,E=2,T=1,k=10,C=-2,x=e=>"*"===e;function A(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=C),t&&(r+=E),n.filter((e=>!x(e))).reduce(((e,t)=>e+(I.test(t)?S:""===t?T:k)),r)}function N(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,u="/"===s?t:t.slice(s.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),h=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),o.push({params:i,pathname:j([s,c.pathname]),pathnameBase:U(j([s,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(s=j([s,c.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function R(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=L(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function F(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),c(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:V(r),hash:q(i)}}(i,s),h=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const j=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],K=(new Set(B),["get",...B]);new Set(K),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const H=r.createContext(null);const W=r.createContext(null);const Q=r.createContext(null);const $=r.createContext(null);const J=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=r.createContext(null);function X(){return null!=r.useContext($)}function Z(){return X()||c(!1),r.useContext($).location}function ee(e){r.useContext(Q).static||r.useLayoutEffect(e)}function te(){let{isDataRoute:e}=r.useContext(J);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=fe(ce.UseNavigateStable),n=r.useRef(!1);return ee((()=>{n.current=!0})),r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))}),[e,t])}():function(){X()||c(!1);let e=r.useContext(H),{basename:t,future:n,navigator:i}=r.useContext(Q),{matches:s}=r.useContext(J),{pathname:o}=Z(),a=JSON.stringify(M(s,n.v7_relativeSplatPath)),l=r.useRef(!1);return ee((()=>{l.current=!0})),r.useCallback((function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let s=F(n,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:j([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,a,o,e])}()}function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(Q),{matches:s}=r.useContext(J),{pathname:o}=Z(),a=JSON.stringify(M(s,i.v7_relativeSplatPath));return r.useMemo((()=>F(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function re(e,n,i,s){X()||c(!1);let{navigator:o}=r.useContext(Q),{matches:a}=r.useContext(J),l=a[a.length-1],u=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=Z();if(n){var p;let e="string"===typeof n?m(n):n;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||c(!1),d=e}else d=f;let g=d.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(e,{pathname:v});let w=le(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:j([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:j([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,s);return n&&w?r.createElement($.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},w):w}function ie(){let e=function(){var e;let t=r.useContext(Y),n=de(ce.UseRouteError),i=fe(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const se=r.createElement(ie,null);class oe extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(J.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(J.Provider,{value:t},i)}function le(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,c=!1,d=null,f=null;var p;n&&(o=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||se,u&&(h<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),c=!0,f=null):h===s&&(c=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:c?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(ae,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(oe,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function he(e){let t=r.useContext(H);return t||c(!1),t}function de(e){let t=r.useContext(W);return t||c(!1),t}function fe(e){let t=function(){let e=r.useContext(J);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const pe={};const me={};const ge=(e,t,n)=>{var r;me[r="\u26a0\ufe0f React Router Future Flag Warning: "+t+". You can use the `"+e+"` future flag to opt-in early. For more information, see "+n+"."]||(me[r]=!0,console.warn(r))};function ve(e,t){null!=e&&e.v7_startTransition||ge("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),null!=e&&e.v7_relativeSplatPath||t&&t.v7_relativeSplatPath||ge("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),t&&(t.v7_fetcherPersist||ge("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),t.v7_normalizeFormMethod||ge("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),t.v7_partialHydration||ge("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),t.v7_skipActionErrorRevalidation||ge("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}i.startTransition;function ye(e){c(!1)}function be(e){let{basename:n="/",children:i=null,location:s,navigationType:o=t.Pop,navigator:a,static:l=!1,future:u}=e;X()&&c(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:a,static:l,future:G({v7_relativeSplatPath:!1},u)})),[h,u,a,l]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=s,b=r.useMemo((()=>{let e=O(f,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:o}}),[h,f,p,g,v,y,o]);return null==b?null:r.createElement(Q.Provider,{value:d},r.createElement($.Provider,{children:i,value:b}))}function we(e){let{children:t,location:n}=e;return re(_e(t),n)}new Promise((()=>{}));r.Component;function _e(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,_e(e.props.children,s));e.type!==ye&&c(!1),e.props.index&&e.props.children&&c(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=_e(e.props.children,s)),n.push(o)})),n}function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(KS){}new Map;const Te=i.startTransition;a.flushSync,i.useId;function ke(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:p(t))}),(function(e,t){h("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=o.current,[u,c]=r.useState({action:l.action,location:l.location}),{v7_startTransition:d}=i||{},v=r.useCallback((e=>{d&&Te?Te((()=>c(e))):c(e)}),[c,d]);return r.useLayoutEffect((()=>l.listen(v)),[l,v]),r.useEffect((()=>ve(i)),[i]),r.createElement(be,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:i})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:u,to:h,preventScrollReset:d,viewTransition:f}=e,m=Se(e,Ee),{basename:g}=r.useContext(Q),v=!1;if("string"===typeof h&&xe.test(h)&&(n=h,Ce))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=O(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(KS){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;X()||c(!1);let{basename:i,navigator:s}=r.useContext(Q),{hash:o,pathname:a,search:l}=ne(e,{relative:n}),u=a;return"/"!==i&&(u="/"===a?i:j([i,a])),s.createHref({pathname:u,search:l,hash:o})}(h,{relative:s}),b=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,viewTransition:l}=void 0===t?{}:t,u=te(),c=Z(),h=ne(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:p(c)===p(h);u(e,{replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l})}}),[c,u,h,i,s,n,e,o,a,l])}(h,{replace:a,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:f});return r.createElement("a",Ie({},m,{href:n||y,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Ne,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ne||(Ne={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));var Re="undefined"===typeof window||"Deno"in globalThis;function Oe(){}function De(e,t){return"function"===typeof e?e(t):e}function Le(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o)if(r){if(t.queryHash!==Fe(o,t.options))return!1}else if(!Ue(t.queryKey,o))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof a||t.isStale()===a)&&((!i||i===t.state.fetchStatus)&&!(s&&!s(t)))}function Me(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(je(t.options.mutationKey)!==je(s))return!1}else if(!Ue(t.options.mutationKey,s))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function Fe(e,t){return(t?.queryKeyHashFn||je)(e)}function je(e){return JSON.stringify(e,((e,t)=>ze(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function Ue(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((n=>!Ue(e[n],t[n]))))}function Ve(e,t){if(e===t)return e;const n=qe(e)&&qe(t);if(n||ze(e)&&ze(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,a=n?[]:{};let l=0;for(let u=0;u<o;u++){const i=n?u:s[u];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(a[i]=void 0,l++):(a[i]=Ve(e[i],t[i]),a[i]===e[i]&&void 0!==e[i]&&l++)}return i===o&&l===i?e:a}return t}function qe(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ze(e){if(!Be(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Be(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function Be(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ke(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Ve(e,t):t}function Ge(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function He(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var We=Symbol();function Qe(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==We?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var $e=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=e=>setTimeout(e,0);const s=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:s=>{let o;t++;try{o=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return o},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];s((()=>{e(...n)}))},schedule:s,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),Je=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ye=new class extends Je{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Re&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},Xe=new class extends Je{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Re&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function Ze(e){return Math.min(1e3*2**e,3e4)}function et(e){return"online"!==(e??"online")||Xe.isOnline()}var tt=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function nt(e){return e instanceof tt}function rt(e){let t,n=!1,r=0,i=!1;const s=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),o=()=>Ye.isFocused()&&("always"===e.networkMode||Xe.isOnline())&&e.canRun(),a=()=>et(e.networkMode)&&e.canRun(),l=n=>{i||(i=!0,e.onSuccess?.(n),t?.(),s.resolve(n))},u=n=>{i||(i=!0,e.onError?.(n),t?.(),s.reject(n))},c=()=>new Promise((n=>{t=e=>{(i||o())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,i||e.onContinue?.()})),h=()=>{if(i)return;let t;const s=0===r?e.initialPromise:void 0;try{t=s??e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(l).catch((t=>{if(i)return;const s=e.retry??(Re?0:3),a=e.retryDelay??Ze,l="function"===typeof a?a(r,t):a,d=!0===s||"number"===typeof s&&r<s||"function"===typeof s&&s(r,t);var f;!n&&d?(r++,e.onFail?.(r,t),(f=l,new Promise((e=>{setTimeout(e,f)}))).then((()=>o()?void 0:c())).then((()=>{n?u(t):h()}))):u(t)}))};return{promise:s,cancel:t=>{i||(u(new tt(t)),e.abort?.())},continue:()=>(t?.(),s),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?h():c().then(h),s)}}var it=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"===typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#i=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Re?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},st=class extends it{#s;#o;#a;#l;#u;#c;constructor(e){super(),this.#c=!1,this.#u=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#s=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#s,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#l?.promise}setOptions(e){this.options={...this.#u,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#a.remove(this)}setData(e,t){const n=Ke(this.state.data,e,this.options);return this.#h({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#h({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#l?.promise;return this.#l?.cancel(e),t?t.then(Oe).catch(Oe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.observers.some((e=>!1!==function(e,t){return"function"===typeof e?e(t):e}(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===We||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#l?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#l?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#l&&(this.#c?this.#l.cancel({revert:!0}):this.#l.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#l)return this.#l.continueRetry(),this.#l.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#c=!0,n.signal)})},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{const e=Qe(this.options,t),n={queryKey:this.queryKey,meta:this.meta};return r(n),this.#c=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(i),this.options.behavior?.onFetch(i,this),this.#o=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#h({type:"fetch",meta:i.fetchOptions?.meta});const s=e=>{nt(e)&&e.silent||this.#h({type:"error",error:e}),nt(e)||(this.#a.config.onError?.(e,this),this.#a.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#l=rt({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void s(t)}this.#a.config.onSuccess?.(e,this),this.#a.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else s(new Error(`${this.queryHash} data is undefined`))},onError:s,onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#l.start()}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...ot(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return nt(n)&&n.revert&&this.#o?{...this.#o,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),$e.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#a.notify({query:this,type:"updated",action:e})}))}};function ot(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:et(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var at=class extends Je{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#d=new Map}#d;build(e,t,n){const r=t.queryKey,i=t.queryHash??Fe(r,t);let s=this.get(i);return s||(s=new st({cache:this,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#d.has(e.queryHash)||(this.#d.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#d.get(e.queryHash);t&&(e.destroy(),t===e&&this.#d.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$e.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#d.get(e)}getAll(){return[...this.#d.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Le(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>Le(e,t))):t}notify(e){$e.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){$e.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){$e.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},lt=class extends it{#f;#p;#l;constructor(e){super(),this.mutationId=e.mutationId,this.#p=e.mutationCache,this.#f=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#f.includes(e)||(this.#f.push(e),this.clearGcTimeout(),this.#p.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#f=this.#f.filter((t=>t!==e)),this.scheduleGc(),this.#p.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#f.length||("pending"===this.state.status?this.scheduleGc():this.#p.remove(this))}continue(){return this.#l?.continue()??this.execute(this.state.variables)}async execute(e){this.#l=rt({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#p.canRun(this)});const t="pending"===this.state.status,n=!this.#l.canStart();try{if(!t){this.#h({type:"pending",variables:e,isPaused:n}),await(this.#p.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#h({type:"pending",context:t,variables:e,isPaused:n})}const r=await this.#l.start();return await(this.#p.config.onSuccess?.(r,e,this.state.context,this)),await(this.options.onSuccess?.(r,e,this.state.context)),await(this.#p.config.onSettled?.(r,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(r,null,e,this.state.context)),this.#h({type:"success",data:r}),r}catch(r){try{throw await(this.#p.config.onError?.(r,e,this.state.context,this)),await(this.options.onError?.(r,e,this.state.context)),await(this.#p.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,r,e,this.state.context)),r}finally{this.#h({type:"error",error:r})}}finally{this.#p.runNext(this)}}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),$e.batch((()=>{this.#f.forEach((t=>{t.onMutationUpdate(e)})),this.#p.notify({mutation:this,type:"updated",action:e})}))}};var ut=class extends Je{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#m=new Map,this.#g=Date.now()}#m;#g;build(e,t,n){const r=new lt({mutationCache:this,mutationId:++this.#g,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=ct(e),n=this.#m.get(t)??[];n.push(e),this.#m.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=ct(e);if(this.#m.has(t)){const n=this.#m.get(t)?.filter((t=>t!==e));n&&(0===n.length?this.#m.delete(t):this.#m.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#m.get(ct(e))?.find((e=>"pending"===e.state.status));return!t||t===e}runNext(e){const t=this.#m.get(ct(e))?.find((t=>t!==e&&t.state.isPaused));return t?.continue()??Promise.resolve()}clear(){$e.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}getAll(){return[...this.#m.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find((e=>Me(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>Me(e,t)))}notify(e){$e.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return $e.batch((()=>Promise.all(e.map((e=>e.continue().catch(Oe))))))}};function ct(e){return e.options.scope?.id??String(e.mutationId)}function ht(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let n=!1;const u=Qe(t.options,t.fetchOptions),c=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const s={queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};var o;o=s,Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const a=await u(s),{maxPages:l}=t.options,c=i?He:Ge;return{pages:c(e.pages,a,l),pageParams:c(e.pageParams,r,l)}};if(i&&s.length){const e="backward"===i,t={pages:s,pageParams:o},n=(e?ft:dt)(r,t);a=await c(t,n,e)}else{const t=e??s.length;do{const e=0===l?o[0]??r.initialPageParam:dt(r,a);if(l>0&&null==e)break;a=await c(a,e),l++}while(l<t)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function dt(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function ft(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var pt=n(579),mt=r.createContext(void 0),gt=e=>{let{client:t,children:n}=e;return r.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,pt.jsx)(mt.Provider,{value:t,children:n})};const vt=()=>((0,r.useEffect)((()=>{const e=document.querySelectorAll(".custom-button");let t=0;e.forEach((e=>{t=Math.max(t,e.scrollWidth)})),e.forEach((e=>{e.style.width=`${t}px`,e.style.margin="20px"}))}),[]),(0,pt.jsx)("div",{id:"div",children:(0,pt.jsxs)("div",{id:"main_div",children:[(0,pt.jsx)("h1",{children:"Expert Logiciel"}),(0,pt.jsx)("a",{href:"https://calendly.com/kenyh/45min",target:"_blank",rel:"noopener noreferrer",children:(0,pt.jsx)("button",{className:"kave-btn",children:"Cr\xe9neaux rendez-vous"})}),(0,pt.jsx)(Ae,{to:"/Website",children:(0,pt.jsx)("button",{className:"kave-btn",children:"Website"})}),(0,pt.jsx)("a",{href:"https://github.com/kenyhenry",target:"_blank",rel:"noopener noreferrer",children:(0,pt.jsx)("button",{className:"kave-btn",children:"Github"})}),(0,pt.jsx)("a",{href:"https://instagram.com/elaborium_dev?igshid=NTc4MTIwNjQ2YQ==",target:"_blank",rel:"noopener noreferrer",children:(0,pt.jsx)("button",{className:"kave-btn",children:"Instagram"})})]})}));var yt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bt=r.createContext&&r.createContext(yt),wt=["attr","size","title"];function _t(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function It(){return It=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e){return e&&e.map(((e,t)=>r.createElement(e.tag,Et({key:t},e.attr),kt(e.child))))}function Ct(e){return t=>r.createElement(xt,It({attr:Et({},e.attr)},t),kt(e.child))}function xt(e){var t=t=>{var n,{attr:i,size:s,title:o}=e,a=_t(e,wt),l=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",It({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,a,{className:n,style:Et(Et({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==bt?r.createElement(bt.Consumer,null,(e=>t(e))):t(yt)}function At(e){return Ct({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function Nt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}function Pt(e){return Ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}const Rt=n.p+"static/media/11.cb2d833a444c2c5970ce.jpg",Ot=e=>{let{text:t,speed:n}=e;const[i,s]=(0,r.useState)("");return(0,r.useEffect)((()=>{let e=0,r="",i=setInterval((()=>{e<t.length&&(r+=t[e],s(r),++e)}),n);return()=>{clearInterval(i)}}),[t,n]),(0,pt.jsx)("span",{children:i})};const Dt=function(){const e={backgroundImage:`url(${Rt})`,backgroundSize:"cover",backgroundPosition:"center",height:"300px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"24px",fontWeight:"bold"};return(0,pt.jsx)("header",{style:e,children:(0,pt.jsxs)("div",{children:[(0,pt.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL0AAACeCAYAAABn7wuoAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAAEsAAAAAQAAASwAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAL2gAwAEAAAAAQAAAJ4AAAAAKcs4KQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAAIutJREFUeAHtXQl4FFXy//UcOUjCjSIeIHIs4ApuYFFECSpegCJuVFwVEIS/5+66sCzuqvF2V10Uj289ULyAj6igICsoEsVjURFFwQNkEZErQkgg98z0//caAjFMMjUz3T2dTD++YSb9quvVq1dd/V69qnoa3NKUOOD549nNDr/lwrKZXh+6ZaXgMI8HHoRQHdCxZdEanH7BP7GVHdabUqej7YsW7Q0uvHM5sPTvOO707lgFL7LCURmsxIbeD6DHmjWoClefLNc8ydLRJOinZ3AXLK5P4FX/vanoePeZGMyfST3uSd35pvQgTDizVZbmR6cIffJe8Fu8tiAPaRHgmnS1K/RNY3g9j44qehka9XykoiG1Zxr8kcCacr0r9E1gdHMBzetFT2lXOrfj0jaJiyv0jX/wtdOvRHuPF21EXdFRpY3DHhFsEwVyhb4JDOyEwXiDE5vUiF3REXr9Y5wQEa6JA7hC38gH+MM8tPL40V3SDT2IkjvexwYJbFOGcYW+kY/u0q/RigZIkTWmqhobVq5EoJF3OW7yXaGPm4UJReCZei7elFKQ6kcxYZN6N1bxyhV6qcQ4EC47G166GbQVkaajmv8uEME2cSBX6BvxAE/pj16aF81FXdBRlOxWmxo+uUJfw4lG+J17EpZyQyryGNJMuWojftsIu2gJyZEZZkmzLtJ4OXBfLlrAh9YSPHoAP//m79gkgU0GGFfoG+coe246F69KSQ8G8V/CJv0CtoZfrtDXcKIRfWdnZ3t1HZ2lJA+5A7+XwiYDXGMTeuX/H+lTe9wiwUrra+NM+O9re69sl5KCIySE0If+x+kTkU5Y1Ve3kAO+xsCF3Fxusq/t5d3cvPgQL8LHzt7cSvUh5If+j1nYedfYg9aM0qr4B/rel1C8IQ16Vhb0nAKE8thUonnWriV+I3I7IKGBAAqPyET61/fAc80Sw05/gPw9e37JH9XHu841HhADplU59Lw8lB+4gT/4t3qAUFyMYKg9fBnl8J6YhxJeSjhfFF2S4uinPzc311v4Sb7/1lE4ffDxyGeHUjlMHs5O9zFYMwatRlvXnrOa1a8Q29K/34YFoRC27izG21Pfx+sFBQiSltrtSXhtGoz+IsrIBUP4okBq9OUQ+IM8rF1Vw7/6+lhTr+4hhxD4+Ftccu0bWMgd3+raiJz4uzbxjqPv6evQcVx/fMb3UUsS54ypWAglb3+JY4b845da0y7mPXst2o8ZaMS52tWktB1dr8ZP879E9sgHsEN6UyLgHCv0JU+gbVYGzWzRazTL+cjBXecZjV+xIdtf6RXPYHlqGgZa3slYG6BS0C6nOdXBxRna81AGqaCI550o8IpU7oK2V4Ebh5Jt7RX9CTRLTcGJ1rYSJ3YPmhc9jufixGLp7Y4U+pw+LVvQOaq/pT2PB7mGtMIc+0Pu5n2FrlQEGfGQbse9LZvjd1MvFAa12EFQnTYcKfT/uWH3W16/MY+vQ65j/vSg0F7L17rpSB2RjYWO4UBDhHjQ7I7z8R5BbH8bNkRWTZ3ThF57eCK6pqUZr3Cn0VbDMzWTL0c7VBy8YP2v9z5HipaCo6xvyZwWfCn41b2XoqM52MzF4rQnUdv7JFZlZKK3ud00GVsAP2pX4hiTsTaIrvQpzGyWgdENAjmtshpbtNHGg1qf6TMhFDtJm3oeH4+BGc3QIyGckDYaQunitThdCm4SnMY1jt1txk+6D+3fnoqT4kdkLgbHCP30sWhzzWmcs3qQYm4XTcKmc0MqiMIX30PXc+7D9yZhFaFZMhldmJtSFiwiwmgTEDcSz+iBBTa1Jm7GKdMbNa1ZzGnNECnlG37Eos4d0OLD7zGSWtCb7oW/sqJO/KcvNgtLZQAaJ+wBxpRqHv5unY6UtGbY2+svxqaL7bb50Ex8zfm82hdouHCn+usf8fruCowrLUdwb+XBheSuEgSz6E5RF0FFs19ea5u5L2EUHXs81D4Brq8M14+SCmhBP9KzO+LlpV/h8zOOx3ipgqquxHspYzGobtuJ+tsRvjfXnofDM9JxipQJoSpsfWEKhuclYHNISqOJcB6m6+siwUe/+aKef8VIwirhVgrtECGX4GkAZjfr1Dhpe5/CqRkZ+HUDsAeq/F6ceEr3tlkffPuzI/LtJHx6ozZcHroI71KfNDvApYZ/6ExstCUvOQQe+nNYQvEVKSdNw06yrkbQa74b5mZstfqp/8AZtdpqGIsPWaNO/nlow0D21SZa6DU9Dcv86egm7rKynFyBfmL4RgyYxykGJbeztAuzV+I0KWy8cKvW42e6lv0oxXPdELzIQHZHrEsSKvRkgtJgnaSM40Jy755yZBPeSi0mJsdqwFOmIIsuDyK/eXKkatQJ9L60r+g0R3bkmCi34siFyWU/uA4FBEz4OjKhQn9ZVxyvRWOV0PF984nUMElSuBjtxcVimqS7nM9/nohsB1UBLJfQp2BSU9HjvAH27m+Eoy1hTx3nqm04j/9B7EsSRPH2bTiy/WSUhutIE7ym6c/TWiRRCvRnv30OWuQtsFXTH2C5/gLdrKWpSKpRyDfEYQduTsCPRGl6jRpigVjgaSO/6UX0TSKBx9s3UzC8TNknKMFqbKLA/yLCSXCbaSBjZ3AHnQ+eCKEf7WieVj5ECVO4CRH6F67FcSmpxtxcxKeqCqyftji5Eo+u204zpeSQBXKQQeKfixhpEdDMAvxQVSnfsOOu+xl/OD9x2t52oV+WB9+ofjwbSb7zGvrzHGML3vZNIYtkRIR2wmmYKwKk6fYvi3A5YRO5uNf/tQTnkAIVRhm5cJ0y7SKsIGBCtL3tQr92HU7kgV+dI3NmH0SgEl8++pYjw+OkXYgaLvdUtPN4hK7V1dg8Ld9ej89wHZo6Bz/sLcMH4erCXeOGW0euBQrC1Vl9zVahH57dodk1Q3iAgLTQHOarwgCCJ1KLSak1C06bdRXeEm3W0e1g4Wqc7RD+6Dn34nzD7VrICSahOpagtmt7O4Xe0/vYLb/lE95GyBMsWo1LtImJsUhIaTQbbvoNSKEv+vESvKFqbB/+IL6RwNoBM3wD9lDbL5G2xUCh9kP7GYIvvcUUONuEftKFaHvnBbTYSBKOqq7pqOyZkZjXnymcjRFJRik6SRewdMewNZAlUpfyuL7ImoARtOMURYI16jX4F/4BX/C3bXKo2rWtsXsvYIZdLzKNzkb6j+avBxeiz7F5zhrUSGSbUK9dNUiuKWcUoK8JbZqO4vYFzJBck5soEnYPMhlIPp9gtk1z7BB6jV6U7X0+uX8NX9ubJ83Gt5H41dTqtzzA3UpNlolYWUrGz8AuJ/IgLx/ry8uwSkpbyywMstOEaYfQY3ou3hebKDmY05YjhwxLpsWrIR/f7aJVyyd7G77+Gc6VClUi4NLTotgs427u/SOwzC46LRd6mqVW0UR5nLhDIeyYNCP5cqkrt4xBPTBPxKcgSqe9Ivd5EeE0Gajgewzm3F7shelPw6/G59gT+G7pPEp/lrZmH/1rpH4ZjD9ldizZvN/kQUo0uvUP4ujjjpA97Myw9gMzrHVKNM2S9qn0Sjj+WSLYamxjv2RepRKE9cCIghPquTfi5VdX4cSRJx3MIhzxhiC+jghjMgC38DXMYhZgDacStVqAqe3/zvwtNq2aTFJEdMbGzixLp3+Ltcu4w2pCKavCy83SMVaCiv1qzzfe53RI6yOBjxXGMk2vkhN1acOnXJMFelN7bfvsAxzT90n7st7qs5gTUseZpHEEGejstCOxjnD09ykz6EIKPTMXmlOYZXkv13SyzGw8BfH2fByWNx+7zWn9UCxWzem1YzK5JS0UeO7iVdw8DyfbJfB85R5Bgb+J7HiKNN7Gb1fgD5UN067kLzfeoDK/HNru/3wO5rBxyxSyJUI/ZTiO5kkZvaRcYwDET/fNx0YpfDxw+hzudnrxIHGoT+QMA/E05t5rcODiJ7A2UIX1UnZkZmJwdjfrppemC70K9L7vInzM15ko4kcxggHNtiRr1WczXWAI09nkKOkAuHDmcOCxJUwBIt+wSvlwitx5LVoKTRd6no/xPmfxh4sJ0bGLCxcVxW9p4XSmF5k+jY0MtrQhF3lYDvxxNnaUlxpJXUX7Lynp6DqsB7oSmenTHLOFXqM15MiwvQ53USVC1dAzXJWZ1/S5Bk13EucgM/G6uKLigH5qXoehtN0XC+/SFkzFinO7yAwhQpwGmJlC73nkSpxDs1M7MQE6NtJKsF0MHwMgBd5LRo/hrRfEcLt7i4kcWLllS1llZRQ7rz60GjXQyK9jIhUmOpxNH48O15+N10md7HXEQG86DVvvMBVEDmm6gh8zH3Cic0ssHPjoJ1zMYz43Se+94gy8+tYUczMomCUInokD8B+Ku2yzi16Ub3yCgVb7ylPLZ3IerwS+u5TJLpy1HBich0C/uzP7BqqF6zgvUk/rjtdIlUyZCsg3Q+i1vMvQiSZKuWAFsGPYdKwR0BcfSDXzLuruwjU+Jpp/96r1ewsZbPKZFHOKHz3yRkaxVoyAOG6h58HGnlvPNrwo/RHaOljt57a/xV6Uht+Ph7nRNXNfjQc70WR/iawr8fb+updwCRVStQgPtf3UoViqkgqI4CMAxS30c4djFRevciehEHNRWrx4NfqcjpP5fWKE/rvVh3IgnZdSDr1s7pVZ72P3ziJ6PQkLTZjd+nXgiZMmTHPienJ2TqczmRbFuUIMIyvea9OWf8hI8tpNyNPaYCrViEoprXxQTJtH1m6AGs5DzNJkpooeu1IZqv6qpE2W+b3U4oPe9nqMYRa3YdTfIuc+pnMfltMJqQUb44uoi0foPc2zaH6Sug2r3nrwc8trhfGTtbgT40+l5eV+/Acb+ZlC+RKF8hNeMl/jKa9OHQ/w/8iFATVc8N3MQHFLzbq1CPEYDyTsS7lSSS/MVB8m1qKh/p90UX71L3i29bXx7ahLWB+WCOMI+wHMaiXMwsU0QEV7ytDNrgSs3IFdRcJjcVH9lgN/PS5jTG++uWbOgrXQ3t0I321DDO/TyGsglRE4VRg+GHaUYrjYjiNaCF27WJi4KYYm6t5Cd+LNPDNGtqlJRTDnAxw76nF5gErd9mLV9J4RPfGkWOBDqFr+Nc487R7bXtOqn6JXZl2GGH9T39EfSC3oZJ6BYZGEv8gBfpt8iyzw+24vtFP4wlNs/dXLpqPPrJuwTSRPVLK/64sldJ5SO/kxLbpjWchq43PQoU1L5EjZUV6ODx9Zl/uFFD7BcBqZb/60Zn+nQrp8DbT0a/mRRAnmWVzN8zCJnbt2G7Z4ER5fGrr93+noIAIOAxS10H86Ab7HR9NEKRUMmqVW/IQh+fn5pmvNMP0x41KQ+qPYDER1cfAQCj/T9cneQAydPOO4pEl0pS9ciwnkuyzzMVeHj12J/9blr/TvaKc3Wq++mOdPFWsrnVp+jtqFkxKUcDiNLtEh9OCaYC8HIWql0BD9326ip6cw2wHxlJCS4/SXGsJoQZ3G3mso0UZhowXY60U5+jHsHPFrzGne3EhGWy9cTQWPPjwqMBPv+sZE70QY1UL2mqEtWj12cfH3tMu3qmm8oW+9Cts9Ywwbfkxzr4ZwR6qj0G4izNGR4MLUhyjsPEASVayLij9hcNW91DwKnJa8beoSFOZvZV96i0J/cZg6yy+FZmIbjw8VuaZTvnY+sxzdos3/E42m1+4ZVjxXKvCKO5rHyFluu8DHOTLKhq5OOlSfRJYWCWpcTe+kC23TSQzoWMjGx0kQ8+Foc2k/5FPozyS8WM7Er28VAtiyudyPhWe9btKuNDIMSOh3YZzDAeUakLDpKA9ZHk/Z+Z+UHRmUyZH9hebO/UilQq8ZIYBym3z5wPsNF4CkOkhBOlAuXMMcuPQJupwHxRnStBeuxuKcHLlfjkTotQcvxwk04omDQ6qqsOqjNbbtvDbMQbe20XEg/yPsYrDJp1LCmzGD3nlHUUaFJaLQr8lDxk1n8ZAAaRAGQwDpHDSS8OI5lpBWFyyJOPDQYgyntq8UdZlemJPPkmd7jij05X6mZPPJtXwwgC9s8aIUccMFaqwc+Gs+iq96zDiFRtYFr3FckcjaFknotU1F8q14hoHtLPjOyBYmI9SFcjnQAAee/S8+Y04kmemW601m1RPtpEcSerSSnhxC4nmcStbrq6PIXdlAh90qlwP9j8Xh9IFKNZsTkYReb9/RiG6RWWF4TOa03+Eds4l08SUnB965GYvoui5LGkZ3l827ZLOSSEKPHtfztItq+cHF+7eHFyTnMLm9NosDW6djcrMMI6xUglKfuQxDpe4uEYWeLeqPFHBBUS2PpvF6cZqEUhfGkRxwhNWtXXP8QcodZrzedXeBkT1NdItE6LF8b+6uojKm+JAWRrg8NhpnEVy0mpaideFs4YBaDEbjnmI6UbuewGyuD0X+N6rxTTvx0Pr1hq+UiBaxUD53Hdpcko2VqWlCD0sGjkx+BUc/MA87RJSYDBSHw5nSdGoNoz7xaD3lvyLlr2orYVv/bLumqHDBKvqWvpEoh7Pu3ZH1za2cUktzKDGdDN1dxA+I6qj4iabrZ9GigThrzkR8zsWFiphvuHBRe98F+IBC342A8QhPw+2YX6tMZEv5UYcSx+Z4pVySdVzH/yPzSdEfYtpwdUfiiwqg8ZCe7xJEivb+jcx4IBV4nmtw91zxvP9Al6Sa6MANFU9R20sXGNT2i75A/6H380GxucSh6ddR/CbTDvA27QZipVC7e29+ivbn9MaXHLzID001XaDT5Vvotdux5HcpqQ4hqI0zMkJY0kR9SEdm44hX/kSjiTDNe0UZVqSPZ26jKEvUg/rcJxg2YRADeSX2e2r7s3vitWV5OE66so6SfivA1VSjhK/M0liRVz9Ls61E4Jmv/Zl3cfK4Z4QbMLES1Ejue/kG+tsIBZ6KKfj8UqYPiaGIFrK18U58EtuqK4z0GLUv1/ubx2ke859PjVdQ1G3Vi1RWEfVbbD9a9YqPa0PElyrMwqBjLwV+i6w7TRtq60O4j/7x0rhXvaIcSyfOji3RQCyCqH/2PdNeBxlOJyx3X4R5Ob3a2R2UEWtMroocUj7lMRWeZ7WaN8r4qgkdqmKipPHcNOksZLRvjWvEFAexh9Oas8XwdQCjnt6o+0+6B9urZ2CFL12WO5zJig4f2qdwSMEazOftdi3YfmRbHRW9URdGiRpHbUaZ90bltdFD9Nzwylr8cB2ON/Lny8DtgbI/7412z6U0HPjk7it0anwnHmbEJPSqwZJSjGztxzoSe1hEAugMNOk8zP1hBzo++pZtr/NtpEvFuSq7czSlFYHPw2zDszSqe3PUIffSbAfcNh/Qle6zAUeYKmv44+HoqLfUVn4W1Vy08nvqhWjNRAPZ0jZClfifbywulMKHg4t13mvg+tsFOPqui5hy2yc+EXqTZ99J15Zrex6qdhvfKZeQ0B7hOt7ANbWQ3cNP9LksVWypJguaJ21F8UyjGqA/niolD2q/4C26h4+OB5HwXm3X43ijVUucK4JnNNX9r6PzX/KZGCqOErOmV23e/Ro2/+18fJPuM5KlRiSDr/0j7rgIPW99xTgZXAmXdSXExbZmLKCjFXql6VRQdvSB2dGoEOnDYR2HGsLcsqFKs+pGnor2rbJwuhQfp5xb4xV41ZZswVU/VfqUlzGUdl01jYhcPPDfcj7eWTxJuGkTGWP9EH7jSMaYEwLVj7jJ15Szh7LxjI8VWv44Hr3KqCcRGm5E9Zlszn5GvEKPR/6Dnf9eiov4upZpbj8OO+uE2LNTiRhEIOaALKamf58/v5Pe48IZHIjmfRUry7TCR/Fv5ZErRBA6+5/ot3p77HsntduJW+iJLPT06g7vVFZEkUXWg061ibDst9pP0PGmZfhdxDFxgOkN09u2wO+lN9Mmv37JanwlhY8EZ4bQY+XKLeVPvmtkxJItUD3IDD2Hb0mcpVpFG2ssRl9hO8qPxi0O4cDb4zCH05oMKTl7KvGoFFYCZ4rQsyH9xufxCWNk/ydpVMEwU1rXh6+MKe2etIl9cB3wIX88xY/sgYwOuwsdJQf6dELLli24DhSWyjJ8fti1eEQILgIzS+hVY/pDb3ElHkWSnv8bZPjom0nDIZ3WBtMEF6TVHcbG2CH17gV7OfDxrVRCEr8tRRb3Mq6aKbfuSHtiqsBNYtLU0nL5IjWFWXl7947ikDZpr+rAaVdwsyWIqWT2wjpV7p82cuBv56GjP0W+nisqwcuz3jc/aZjpc+pevZD51RR6Yfpkdu5AFX7avBFdjs2L7/AsydjRL6YL55IPE/Y8CXySwqhNuYXcnMo1u/88hWUHt+9kmfJCKNMul8/7o6HVVE2vGl6zBqV3LjB22ERzaPrlHHnYUXiVt5r+ANZlBDX+emr8m3hdTXfcYiMHyp/GG2KBp0WQytAyNwjThZ581G/Nx4qqCnkGhWZ+nPzP3OhCvmIdLwr+txT8P3O+eANxKAuSWyzmQHYHNEvlGEubofn7a/9V5r9patq3QugV7pDfQ58cafGj5aRhxlrAcm2vSFJzfO33NINpuJqfPF76Ql13izUcePc2TpeEB3koCvrcEv3pItFQbpXQwzMGIwKVcvu45sPRc28wfHhsEXzFJAY/L8eluINafxz//BM/atrzMT8l/CRrUcmVsszq/OaHcXFGlvxcg8pSfPbNT9hpVvvh8FgqYNmd0eLT22k5kQSSK+oCKBz8DDoUFDjK3TYc3xCYiY+8KbL4zFlL0en3M/BDWERN/CJPBN9Bo4Zs8RpE2fE34fA1hfIApVjYZ5mmV8Ss3ICSzT/jGTFhPrRdNp6LzUZQeDRmBxGZTKmRrAI/PBvHUOG1EvGJQLuKkW+1wCtaLBV61cAVD2MSXdGUGUxSVHxqe32Gea9XSaPRwnAn+Rjam2VCH6L5NknL63/iuk6aziOI4jbXY4wdrLJa6PWCjahctNKIdJF5YaqgbJ8ReG7p1Cse5t54JhfdksHk65oHIA+Ip63Gem/FDKhgy0wR/Xwb/uZm4wRwEXi8QFYLvaJPHzoNbzLf4FYxsV505HpAHT/puMLNtxS+siOHSJJyxssWncl4Ysd1wmKC9GfRMjWFoZDCEqrGllU/2hZGav30pqbf2XcaB6+JNqxIVVrBVMMvx3Ha/svJTAIlPHCOudWTTuDVeOsa39TS4BDC81A+cYxsjTzF822HpjfoW7UeP+8ulkexZ2bgpCfGoHs8nbPiXp6NK6OJQTUfbEWOFTQ4Gec7f0U289d0kdLI4zO/4qF8u6TwZsDZJvQkVp+7ClfQGFksJFybcDrt6Da4JwjpQV4uWoutESHsGjjF/tR40r5YBccMDy+JcTN30p3z7T9r2E6hB7Ojba2sxkoxU3xovfzv1u7OiWnhw3fbMMMtNnJ+Sqac+9dCnBIF7iYB2vdYdGdWa7GW316MZ/Lmy889MItJCZkz09txNzWmLNtAgLBBHMsoqN1mdToWPHNzkZI7gpsmkhyV1Si6eDTa5YOUJ0k5+Sikf3gv0+x5IctkF0AR84W2TgR7bNX0NR08/6H0E0LSaY4PLat06zzuamiK9H3RMDwpEngiqqjG2mQSeMW7gtu5wJcKvI7AXa/K0sZEGpdY6hMi9AtWlv9YXiH3y0lJwYlPXxdjir5YuHLoPVowKLcjXzabuT6TqPTvguYMCPqttMv0yfrfLfPxvRTebLiECD07od/7Dl1HOfcVdYgmzDF9sXRZHretElBycuD1eYVz1SCK5i211mEqASxosMn3pvK8J8lm3X4sPn9iXU0SJfS4ew42l5fjowa5WauSKb+PY67ID2pdsu3n2K7oTC9Q6WbZDtsIc0BDpU/hrpR09JaSUlaKN+nandDItYQJPZmk3/kGTxeP4tRCapPuardPymCz4C4/hVE/kg0pZnpb+DkGmtVuY8DD4JArpHTSJr8t42ph3kop0hjgEin0uHcedlVURqG9lcXHKz86MQZ+HHILExP5mYlLZoYLYefwB5NnasMQwJl0rz7mEKbVc4GeqSodS8JLQoWevdfTJ/AIlVAUmzg+HG8n1z65EQXS9qa8YeTrl7laSJE6GC4tHaOk5OlMAOAfy/SPDiiJFnqDBfNWcFdOmguTm0RlTxkaww7atVBInG9Rrw5howPG1BYS1j+A6ZzypYgaY/6afjcLjyQSIYwPyA7BiUjhyEfwBaPfv4sIuB8gvRn69emIk7p0MTLeqj5Yssk2/DcYzNe3zG8+iMJp+eK4AWlXpXCq/w19FI+i/dTgO4SG47ujb8e2uPKQinouVJZjzcotsZ0PVQ/KuC5bIiyxUMRsCO0njzBOLfRK7qerciWdvwK0n+81RkeFn5hQ6Bm5TxGoU+5CTFrhE6SSpun1rvnoeku+PK2hCaQaKF65AUeN7IelnFOlk3a1G+rdbwrmIUKkf19RUy5JPMO+vu+7J7T/7RtgXnhlWvaQ36nqm2+/NI9fmG6db/CuN6DV+l3OiTs2RVD28Sj+//c+iSUZmRgSPyZ7MfABLLokAW4HdOdQ8cft7e1tdK1tK8S/j/hDFIeoRYc+JujaT3ZMCMy8aVAeRigBMhOnHbgqA1hnt9tB1Qxj29/RAs/3Q7HTBF7Jg6OEnvO+8h0lUbim2iHRgjauekGehVeATgTCw8n6iwATCFRW4cxMco6a3tSMT/A5/MQ5o2wBWXNTor5DKN+fc9FWU6X+Eo/IOThnT1Tv62+XIYDaaBxZP0Diahyl6WvY8MC+lN+VNX87+Ft/YjFOI322CjzbU8rKkWNnjBXTtfe/15zzoQx8Jv/nSMZ9Won1fDXK0wKazBQxugBKn1qbkJSA6iGrEtNpMyB32Vd//I1zd6YdKfT5+QjNWoHf7Te92Txk8uaCIexYuZLeQwkoTJC7KQHNSprUn1/KXXYHF0cKPfmlX/00NgarDBcAu6cO4uFa8IV8G16MVAj4p1eQQ1CJ7V2I0RQwZdHfMHG2czaiwvXKqUKvaNV5HPqQMY+iK4PJd3J4K6j5A4b2D+3/Vq4L8X+CxKLwqo/8AWO7e7yJm4I9vgjb/j6Lzl5cMFLQStiHKlIf5EfxRPVJ/T74UX385WcfTF242vfU/a1gaz4H6xTeMmIvfHgRetBtWOacF04abbrmSOtNnb57cnOhbdgAT+eKfbuua/cDpKVBz8ri0NZT2hXUX1f7lsJO3LlMQWb/I3HVfVfjH7Xr6v0dwE+M8ZSeg1ovGpMq1DhquWHcMQpz9vGsbjuKN9xbULyrl39174kSNsztzrjUGITeLk5plc/gE4a9RU48RC23+FP0Pmda4jS9XUxpiu04eXpjO79TUmVmNj2AkhnT5DG+tnfEbbBBDrhCv589zKP+rnSzp6wSn9rtdtDgKLqVUXHAFfr97Nq+W25XPuOfNKe6pdFywBV6Dp0KCTyspTCTWhB7VqyPItKr0YpG0yXcFXqObc8MHKVJM67pKOQt0Vg8mq70NNKeudYbmvk4n98uOheJYW8DpqDFR5tR3kjH2yWbHEh6Tc9DFjJEAk9m0WqzxRX4xv/cJL3Qf3gDnpYOI8PltklhXTjnciDZhd7TvJk4PFH/6DP5eajOHXKXsqQWeiYezaRtPkMiBszbsmHANHcuL+GV02GSWei1sYOYLlpyNhKduG58yQgWcfp4uvQJOJDM1hsPQ+6UC1tNmoz62cWDIehc1oYATnPlrZ9mt6ZeDiStpjc8EiVJWZWk68YR967A1ytGjasiaYXecKsV+s8PuNOd2jQusW6Y2qQVerIltGy1IDUdk8vS7aCkYTa6tY2JA8ks9PjjTLzGWKD6BZrRVJdNQ+fGNKAurZE5kNRCv3o7ynj2UV960oQ9Bogxuktnr3R2vGfkIXYh6nIgma03B3iRkwPfsquZfFVn0lbdSK1R/sIX6H3lAyg9AOT+cDngcsDlgMsBlwMuB1wOuBxwOeBywOWAywGXAy4HXA64HHA54HLABg78P3j776Dz/ejIAAAAAElFTkSuQmCC",alt:"",style:{width:"13vh",height:"auto"}}),(0,pt.jsx)("h1",{style:{fontSize:"7vh",marginTop:"0px"},children:(0,pt.jsx)(Ot,{text:"Expertise Logiciel",speed:100})})]})})},Lt=[{title:"D\xe9veloppement de scripts automatis\xe9s",description:"Cr\xe9ation de scripts personnalis\xe9s pour automatiser des t\xe2ches r\xe9p\xe9titives ou complexes.",text:"Gr\xe2ce \xe0 mon expertise approfondie dans les langages de script tels que Python, JavaScript, PowerShell, et bien d'autres, je suis en mesure de concevoir des solutions automatis\xe9es qui acc\xe9l\xe8rent les workflows, r\xe9duisent les erreurs humaines et optimisent les op\xe9rations quotidiennes. Que ce soit pour l'automatisation de t\xe2ches de gestion, le d\xe9ploiement de logiciels, la collecte de donn\xe9es ou la manipulation de fichiers, je suis en mesure de cr\xe9er des scripts sur mesure qui r\xe9pondent \xe0 vos exigences.Faites confiance \xe0 mon expertise et \xe0 mon exp\xe9rience pour vous fournir des solutions efficaces qui vous permettront de gagner du temps, d'augmenter votre productivit\xe9 et de lib\xe9rer vos ressources pour des activit\xe9s \xe0 plus forte valeur ajout\xe9e.",price:"50"},{title:"D\xe9veloppement d'applications de bureau/web",description:"Cr\xe9ation d'applications de bureau pour r\xe9pondre aux besoins sp\xe9cifiques d'une entreprise.",text:"Je suis d\xe9di\xe9s \xe0 la construction d'applications robustes, fonctionnelles et intuitives pour r\xe9pondre aux besoins sp\xe9cifiques de mes clients. j'excelle dans le d\xe9veloppement d'applications de bureau qui fonctionnent sur les syst\xe8mes d'exploitation courants tels que Windows, macOS et Linux. Je ma\xeetrise les technologies et les langages de programmation n\xe9cessaires pour cr\xe9er des applications de bureau performantes, fiables et personnalis\xe9es. Le titre \"D\xe9veloppement d'applications de bureau/web\" d\xe9crit mon expertise et ma sp\xe9cialisation dans la cr\xe9ation et la conception d'applications logicielles \xe0 la fois pour les environnements de bureau et web.\n    Que ce soit pour des sites web interactifs, des applications SaaS (Software-as-a-Service) ou des solutions bas\xe9es sur le cloud, J'ai acquis une expertise approfondie dans les technologies web modernes telles que HTML, CSS, JavaScript, ainsi que les frameworks et biblioth\xe8ques populaires comme React, Angular et VueJS.\n    En combinant mon savoir-faire dans le d\xe9veloppement d'applications de bureau et web, Je suis en mesure de proposer des solutions compl\xe8tes qui r\xe9pondent aux besoins vari\xe9s de mes clients. Je travaille en \xe9troite collaboration avec mes clients pour comprendre leurs objectifs, leurs sp\xe9cifications et leurs contraintes, afin de cr\xe9er des applications sur mesure qui offrent une exp\xe9rience utilisateur exceptionnelle et r\xe9pondent \xe0 leurs exigences fonctionnelles et techniques.\n    mon approche de d\xe9veloppement se base sur les meilleures pratiques de l'industrie, la qualit\xe9 du code, les tests rigoureux et la s\xe9curit\xe9 des applications. Je m'engage \xe0 livrer des applications de bureau et web performantes, \xe9volutives et faciles \xe0 maintenir.\n    Que ce soit pour automatiser des processus m\xe9tier, am\xe9liorer l'efficacit\xe9 op\xe9rationnelle, offrir une exp\xe9rience utilisateur optimale ou cr\xe9er des outils sur mesure, Je suis l\xe0 pour transformer vos id\xe9es en r\xe9alit\xe9 \xe0 travers mes comp\xe9tences en d\xe9veloppement d'applications de bureau/web.",price:"100"},{title:"D\xe9veloppement de logiciels/backend personnalis\xe9s",description:"Cr\xe9ation de logiciels sur mesure r\xe9pondant aux besoins uniques d'une entreprise, avec une interface graphique conviviale.",text:"Pensez-y comme \xe0 la cr\xe9ation d'un moteur puissant qui alimente tout le fonctionnement d'un site web ou d'une application, mais de mani\xe8re invisible pour les utilisateurs. Ce moteur personnalis\xe9 est con\xe7u pour g\xe9rer les t\xe2ches complexes et les bases de donn\xe9es, traiter les informations, et garantir que tout fonctionne de mani\xe8re fluide et sans accrocs.\n    Prenons l'exemple d'une entreprise de vente en ligne de v\xeatements qui souhaite d\xe9velopper un logiciel/backend personnalis\xe9 pour g\xe9rer ses stocks et ses commandes de mani\xe8re efficace.\n    L'\xe9quipe de d\xe9veloppement travaillerait \xe0 la cr\xe9ation d'un syst\xe8me sur mesure qui permettrait \xe0 l'entreprise de suivre en temps r\xe9el les niveaux de stock de chaque article, de g\xe9rer les commandes des clients et de coordonner l'exp\xe9dition des produits.\n    Le logiciel/backend personnalis\xe9 serait con\xe7u pour offrir des fonctionnalit\xe9s sp\xe9cifiques \xe0 l'entreprise, telles que :\n    Gestion des stocks : Le syst\xe8me permettrait de suivre le nombre de chaque article en stock, d'enregistrer les entr\xe9es et les sorties, et d'envoyer des alertes lorsque les niveaux de stock sont bas.\n    Traitement des commandes : Lorsqu'un client passe une commande, le logiciel/backend personnalis\xe9 enregistrerait les d\xe9tails de la commande, v\xe9rifierait la disponibilit\xe9 des articles et mettrait \xe0 jour les stocks en cons\xe9quence. Il pourrait \xe9galement g\xe9n\xe9rer automatiquement des factures et des bons de livraison.\n    Gestion des exp\xe9ditions : Le syst\xe8me aiderait \xe0 coordonner les exp\xe9ditions en g\xe9n\xe9rant des \xe9tiquettes d'exp\xe9dition, en suivant les colis et en mettant \xe0 jour les statuts de livraison. Cela permettrait \xe0 l'entreprise et aux clients de suivre l'avancement des exp\xe9ditions.\n    Rapports et analyses : Le logiciel/backend personnalis\xe9 pourrait fournir des rapports d\xe9taill\xe9s sur les ventes, les tendances des produits, les performances du stock, etc. Cela aiderait l'entreprise \xe0 prendre des d\xe9cisions \xe9clair\xe9es pour optimiser ses op\xe9rations.\n    En d\xe9veloppant un logiciel/backend personnalis\xe9, l'entreprise pourrait b\xe9n\xe9ficier d'un syst\xe8me adapt\xe9 \xe0 ses besoins sp\xe9cifiques, offrant une meilleure gestion des stocks, une automatisation des processus et une optimisation des op\xe9rations. Cela lui permettrait d'am\xe9liorer l'efficacit\xe9 de son activit\xe9, de r\xe9duire les erreurs et d'offrir une meilleure exp\xe9rience client.\n    En r\xe9sum\xe9, le d\xe9veloppement de logiciels/backend personnalis\xe9s consiste \xe0 cr\xe9er un moteur sp\xe9cialis\xe9 qui alimente les sites web et les applications en coulisses, en leur offrant des fonctionnalit\xe9s avanc\xe9es et en r\xe9pondant aux besoins sp\xe9cifiques de l'entreprise. C'est comme construire un moteur sur mesure pour faire fonctionner les choses en douceur et de mani\xe8re optimale.",price:"200"},{title:"Int\xe9gration de syst\xe8mes",description:"Int\xe9gration de diff\xe9rentes applications et syst\xe8mes existants pour am\xe9liorer l'efficacit\xe9 et la productivit\xe9 de l'entreprise.",text:"L'int\xe9gration de syst\xe8mes, c'est comme mettre ensemble diff\xe9rents ordinateurs, logiciels et appareils pour qu'ils puissent travailler ensemble. C'est un peu comme connecter des pi\xe8ces de puzzle pour cr\xe9er un ensemble coh\xe9rent.\n    L'id\xe9e est de faire en sorte que ces diff\xe9rents syst\xe8mes puissent communiquer entre eux et partager des informations de mani\xe8re fluide. Cela permet d'\xe9viter les r\xe9p\xe9titions inutiles de t\xe2ches et de rendre les choses plus efficaces.\n    L'int\xe9gration de syst\xe8mes peut se faire \xe0 l'int\xe9rieur d'une entreprise, par exemple en connectant les diff\xe9rentes applications utilis\xe9es par les employ\xe9s. Cela permet d'avoir un seul endroit o\xf9 toutes les informations sont disponibles, ce qui facilite le travail.\n    Elle peut aussi se faire entre diff\xe9rentes entreprises, par exemple lorsqu'elles ont besoin de partager des informations ou de travailler ensemble sur un projet commun. Cela permet de simplifier les \xe9changes et de collaborer plus facilement.\n    L'int\xe9gration de syst\xe8mes n\xe9cessite des personnes qui comprennent comment faire fonctionner tous ces \xe9l\xe9ments ensemble. Elles doivent s'assurer que les diff\xe9rents syst\xe8mes peuvent se comprendre et \xe9changer des informations de mani\xe8re s\xe9curis\xe9e.\n    En r\xe9sum\xe9, l'int\xe9gration de syst\xe8mes consiste \xe0 connecter et faire travailler ensemble diff\xe9rents ordinateurs, logiciels et appareils, afin de rendre les choses plus simples, plus efficaces et de permettre une meilleure collaboration.",price:"300"},{title:"Optimisation des performances",description:" Analyse et am\xe9lioration des performances des applications existantes pour assurer une utilisation plus efficace des ressources.",text:"L'optimisation des performances est une pratique qui vise \xe0 am\xe9liorer la vitesse, l'efficacit\xe9 et la r\xe9activit\xe9 d'un syst\xe8me, d'un site web, d'une application ou d'un processus. L'objectif principal est d'obtenir une meilleure exp\xe9rience utilisateur en r\xe9duisant les temps de chargement, en augmentant la fluidit\xe9 des interactions et en minimisant les erreurs ou les ralentissements.\n    L'optimisation des performances consiste \xe0 examiner en d\xe9tail chaque aspect du syst\xe8me ou de l'application, en identifiant les goulots d'\xe9tranglement et les probl\xe8mes qui ralentissent les performances. Cela peut inclure l'analyse du code source, l'optimisation des requ\xeates de base de donn\xe9es, la compression des fichiers, la mise en cache des donn\xe9es fr\xe9quemment utilis\xe9es, l'optimisation des images et des ressources, ainsi que l'am\xe9lioration de l'architecture et de l'infrastructure sous-jacente.\n    Lorsque l'optimisation des performances est appliqu\xe9e avec succ\xe8s, les utilisateurs peuvent profiter d'une exp\xe9rience plus fluide et r\xe9active, avec des temps de chargement plus courts, des transitions plus fluides entre les pages, une navigation plus intuitive et une utilisation g\xe9n\xe9rale plus agr\xe9able. Cela peut \xe9galement contribuer \xe0 r\xe9duire la consommation de bande passante, \xe0 \xe9conomiser des ressources mat\xe9rielles et \xe0 am\xe9liorer l'efficacit\xe9 globale du syst\xe8me.\n    L'optimisation des performances est essentielle dans le domaine du d\xe9veloppement logiciel et de la cr\xe9ation de sites web, car elle permet de r\xe9pondre aux attentes croissantes des utilisateurs en mati\xe8re de rapidit\xe9 et de fluidit\xe9. Elle est particuli\xe8rement importante pour les sites web et les applications qui g\xe8rent de grandes quantit\xe9s de donn\xe9es, des interactions complexes ou qui doivent prendre en charge un grand nombre d'utilisateurs simultan\xe9ment.",price:"700"},{title:"S\xe9curit\xe9 des applications",description:" Audit et renforcement de la s\xe9curit\xe9 des applications et des syst\xe8mes pour prot\xe9ger les donn\xe9es sensibles de l'entreprise.",text:"La s\xe9curit\xe9 des applications concerne la protection des applications informatiques contre les menaces et les attaques potentielles, afin de pr\xe9server la confidentialit\xe9, l'int\xe9grit\xe9 et la disponibilit\xe9 des donn\xe9es.\n    Lorsque nous utilisons des applications, que ce soit sur mon t\xe9l\xe9phone, mon ordinateur ou sur le Web, nous voulons nous assurer que nos informations personnelles et nos donn\xe9es sensibles sont en s\xe9curit\xe9. La s\xe9curit\xe9 des applications vise \xe0 garantir que les informations que nous partageons avec ces applications sont prot\xe9g\xe9es et utilis\xe9es de mani\xe8re appropri\xe9e.\n    Pour assurer la s\xe9curit\xe9 des applications, diff\xe9rentes mesures sont mises en place :\n    Authentification et autorisation, Chiffrement des donn\xe9es, Gestion des vuln\xe9rabilit\xe9s, Protection contre les attaques, Sensibilisation \xe0 la s\xe9curit\xe9.\n    En r\xe9sum\xe9, la s\xe9curit\xe9 des applications est essentielle pour prot\xe9ger les donn\xe9es personnelles et sensibles des utilisateurs. Elle implique l'utilisation de techniques de protection telles que l'authentification, le chiffrement, la gestion des vuln\xe9rabilit\xe9s et la protection contre les attaques. La s\xe9curit\xe9 des applications vise \xe0 garantir que les utilisateurs peuvent faire confiance aux applications qu'ils utilisent et \xe0 prot\xe9ger leurs informations contre les menaces potentielles.",price:"800"},{title:"Migration de donn\xe9es",description:"Assistance lors de la migration de donn\xe9es d'un syst\xe8me \xe0 un autre, en garantissant la coh\xe9rence et l'int\xe9grit\xe9 des donn\xe9es.",text:"La migration de donn\xe9es est un processus crucial lorsqu'il s'agit de transf\xe9rer des informations d'un syst\xe8me \xe0 un autre. Que vous passiez \xe0 une nouvelle plateforme, une nouvelle application ou que vous fusionniez des bases de donn\xe9es, la migration de donn\xe9es garantit un transfert fluide et pr\xe9cis de vos pr\xe9cieuses informations.\n    La migration de donn\xe9es implique plusieurs \xe9tapes cl\xe9s. Tout d'abord, il est essentiel de comprendre les besoins et les objectifs de votre migration. Cela inclut l'identification des donn\xe9es \xe0 migrer, la d\xe9finition des r\xe8gles de transformation ou de conversion n\xe9cessaires et la planification de la p\xe9riode de transition.\n    Ensuite, vient l'\xe9tape de l'extraction des donn\xe9es \xe0 partir de la source d'origine. Cela peut impliquer l'extraction de donn\xe9es \xe0 partir de fichiers, de bases de donn\xe9es, de syst\xe8mes en ligne, ou m\xeame de sources externes. Une fois les donn\xe9es extraites, elles doivent \xeatre nettoy\xe9es, transform\xe9es et pr\xe9par\xe9es pour le chargement dans le nouveau syst\xe8me.\n    La troisi\xe8me \xe9tape est le chargement des donn\xe9es dans le syst\xe8me cible. Cela peut n\xe9cessiter des processus de validation, de correspondance et de mapping pour assurer l'int\xe9grit\xe9 des donn\xe9es migr\xe9es. Il est important de r\xe9aliser des tests et des v\xe9rifications rigoureuses pour s'assurer que toutes les donn\xe9es ont \xe9t\xe9 transf\xe9r\xe9es correctement et qu'elles sont conformes aux attentes.\n    Enfin, une fois la migration termin\xe9e, il est essentiel de surveiller et de valider les donn\xe9es dans le nouveau syst\xe8me pour s'assurer qu'elles fonctionnent correctement et qu'elles sont coh\xe9rentes. Tout probl\xe8me ou incoh\xe9rence doit \xeatre r\xe9solu rapidement pour \xe9viter toute perturbation des op\xe9rations commerciales.\n    La migration de donn\xe9es est une t\xe2che complexe qui requiert une planification minutieuse, une expertise technique et une gestion rigoureuse. En confiant cette t\xe2che \xe0 des professionnels exp\xe9riment\xe9s, vous pouvez vous assurer que vos donn\xe9es sont migr\xe9es en toute s\xe9curit\xe9, avec pr\xe9cision et sans interruption de vos activit\xe9s quotidiennes.\n    Je poss\xe8de l'expertise et les outils n\xe9cessaires pour g\xe9rer votre migration de donn\xe9es de mani\xe8re efficace et transparente. Que ce soit pour une migration vers une nouvelle plateforme, une consolidation de bases de donn\xe9es ou une mise \xe0 niveau de syst\xe8me, je suis l\xe0 pour vous accompagner \xe0 chaque \xe9tape du processus.\n    Faites confiance \xe0 mon expertise en migration de donn\xe9es pour vous aider \xe0 r\xe9aliser une transition sans heurts, tout en pr\xe9servant l'int\xe9grit\xe9 et la valeur de vos pr\xe9cieuses informations. Contactez-moi d\xe8s aujourd'hui pour discuter de vos besoins en migration de donn\xe9es et d\xe9couvrir comment je peux vous aider \xe0 atteindre vos objectifs.",price:"500"},{title:"D\xe9veloppement d'applications mobiles",description:"Cr\xe9ation d'applications mobiles pour les plateformes iOS et Android, offrant des fonctionnalit\xe9s sp\xe9cifiques \xe0 l'entreprise.",text:"Le d\xe9veloppement d'applications mobiles est un domaine en plein essor qui permet de cr\xe9er des applications pour les smartphones et les tablettes. Ces applications offrent une exp\xe9rience utilisateur optimis\xe9e et permettent aux utilisateurs d'acc\xe9der \xe0 des fonctionnalit\xe9s sp\xe9cifiques directement depuis leurs appareils mobiles.\n    Que vous soyez une entreprise cherchant \xe0 d\xe9velopper une application pour vos clients ou un entrepreneur avec une id\xe9e innovante, le d\xe9veloppement d'applications mobiles offre de nombreuses opportunit\xe9s.\n    Les applications mobiles peuvent \xeatre d\xe9velopp\xe9es pour les plateformes iOS (iPhone et iPad) et Android, couvrant ainsi une large gamme d'appareils. Elles peuvent offrir des fonctionnalit\xe9s vari\xe9es, telles que la r\xe9servation de services, le shopping en ligne, la gestion de t\xe2ches, les m\xe9dias sociaux, les jeux, les services de localisation, et bien plus encore.\n    L'un des avantages cl\xe9s du d\xe9veloppement d'applications mobiles est sa portabilit\xe9. Les applications mobiles sont con\xe7ues pour fonctionner sp\xe9cifiquement sur des appareils mobiles, en tirant parti de leurs fonctionnalit\xe9s telles que les \xe9crans tactiles, les capteurs et les fonctionnalit\xe9s de g\xe9olocalisation. Cela permet une exp\xe9rience utilisateur optimis\xe9e et une utilisation pratique pour les utilisateurs finaux.\n    Lors du d\xe9veloppement d'une application mobile, il est important de prendre en compte la conception, l'exp\xe9rience utilisateur, la s\xe9curit\xe9 et les performances. Une conception intuitive et attrayante garantit une navigation ais\xe9e et une exp\xe9rience agr\xe9able pour les utilisateurs. La s\xe9curit\xe9 des donn\xe9es est primordiale pour prot\xe9ger les informations sensibles des utilisateurs. Enfin, des performances optimales, avec des temps de chargement rapides et une r\xe9activit\xe9 fluide, sont essentielles pour offrir une exp\xe9rience utilisateur de qualit\xe9.\n    Que vous souhaitiez d\xe9velopper une application pour votre entreprise ou lancer une startup ax\xe9e sur les applications mobiles, je peux vous accompagner tout au long du processus de d\xe9veloppement.\n    mon approche agile et mon expertise technique me permet de d\xe9velopper des applications mobiles de haute qualit\xe9, adapt\xe9es \xe0 vos besoins sp\xe9cifiques. Je prends en compte les derni\xe8res tendances du march\xe9, les meilleures pratiques de d\xe9veloppement et les exigences sp\xe9cifiques de votre projet pour vous offrir une solution sur mesure.\n    Contactez-moi d\xe8s aujourd'hui pour discuter de votre projet d'application mobile et d\xe9couvrir comment je peux vous aider \xe0 le concr\xe9tiser. Ensemble, nous pouvons cr\xe9er une application mobile performante, attrayante et r\xe9pondant aux attentes de vos utilisateurs.",price:"200"},{title:"Solutions embarqu\xe9es/Objets connect\xe9s",description:"Syst\xe8mes embarqu\xe9s, technologie qui permet de cr\xe9er des appareils intelligents et connect\xe9s.",text:"Je suis sp\xe9cialis\xe9s dans les solutions embarqu\xe9es, qui consistent \xe0 int\xe9grer des composants mat\xe9riels et logiciels dans des appareils intelligents et autonomes. Gr\xe2ce \xe0 cette technologie, vous pouvez b\xe9n\xe9ficier de nombreuses possibilit\xe9s dans divers domaines tels que les objets connect\xe9s, l'automatisation industrielle, les dispositifs m\xe9dicaux, la s\xe9curit\xe9, et bien plus encore.\n    je suis l\xe0 pour vous conseiller et concevoir des solutions sur mesure en fonction de vos besoins et objectifs. Je travaille en \xe9troite collaboration avec vous pour comprendre vos exigences et d\xe9finir une architecture adapt\xe9e \xe0 votre projet. Vous pouvez compter sur mon expertise technique et mon exp\xe9rience pour r\xe9aliser une solution embarqu\xe9e de qualit\xe9.\n    En choisissant mes services, vous b\xe9n\xe9ficiez d'une s\xe9rie d'avantages. Je suis les derni\xe8res avanc\xe9es technologiques pour vous offrir des solutions \xe0 la pointe de l'innovation. mon objectif est de vous fournir des solutions fiables et performantes qui r\xe9pondent \xe0 vos attentes. Je vous offre un suivi continu tout au long du processus, de la conception \xe0 la mise en production, et je suis l\xe0 pour vous soutenir techniquement et r\xe9pondre \xe0 vos questions.\n    Je suis d\xe9termin\xe9s \xe0 fournir des solutions accessibles \xe0 tous, sans jargon technique compliqu\xe9. Je suis l\xe0 pour vous guider et vous expliquer chaque \xe9tape du processus de mani\xe8re claire et compr\xe9hensible. Je souhaite que vous vous sentiez \xe0 l'aise et en confiance avec moi.\n    N'h\xe9sitez pas \xe0 me contacter d\xe8s aujourd'hui pour discuter de votre projet de solution embarqu\xe9e. Ensemble, nous r\xe9aliserons une technologie intelligente et connect\xe9e qui r\xe9pondra \xe0 vos besoins et vous aidera \xe0 atteindre vos objectifs technologiques.",price:"400"}],Mt=()=>{const e=te(),t=(0,r.useRef)(null),n=(0,r.useRef)(null),i=(0,r.useRef)(null),[s,o]=(0,r.useState)(!1);return(0,pt.jsxs)("div",{style:{overflowY:"auto"},children:[(0,pt.jsx)("div",{children:(0,pt.jsxs)("nav",{className:"navbar",children:[(0,pt.jsx)("div",{className:"navbar-logo"}),(0,pt.jsx)("button",{className:"navbar-toggle",onClick:()=>{o(!s)},children:(0,pt.jsx)("span",{className:"menu-icon"})}),(0,pt.jsxs)("ul",{className:"navbar-menu "+(s?"open":""),children:[(0,pt.jsx)("li",{className:"nav-item"}),(0,pt.jsx)("li",{className:"nav-item",children:(0,pt.jsx)("button",{className:"button-style",onClick:e=>{e.preventDefault(),n.current.scrollIntoView({behavior:"smooth"})},children:" Mes offres"})}),(0,pt.jsx)("li",{className:"nav-item",children:(0,pt.jsx)("button",{className:"button-style",onClick:e=>{e.preventDefault(),i.current.scrollIntoView({behavior:"smooth"})},children:" Contact"})}),(0,pt.jsx)("li",{className:"nav-item",children:(0,pt.jsx)("button",{className:"button-style",onClick:()=>{e("/Realisation")},children:" R\xe9alisation"})}),(0,pt.jsx)("li",{className:"nav-item",children:(0,pt.jsx)("button",{className:"button-style",onClick:()=>{e("/CV")},children:" CV"})})]})]})}),(0,pt.jsx)(Dt,{}),(0,pt.jsx)("div",{ref:t,className:"container"}),(0,pt.jsxs)("div",{className:"container",children:[(0,pt.jsx)("h2",{style:{textAlign:"center"},children:"Mes Offres"}),(0,pt.jsx)("div",{ref:n,className:"offers-container",children:Lt.map(((t,n)=>(0,pt.jsxs)("div",{className:"offer-item",style:{wordWrap:"break-word"},children:[(0,pt.jsx)("h2",{className:"project-title",children:t.title}),(0,pt.jsx)("p",{className:"project-description",children:t.description}),(0,pt.jsx)("button",{className:"button-style",onClick:()=>{e("/Offer",{state:{title:t.title,text:t.text,price:t.price}})},children:"Voir plus"}),(0,pt.jsx)("p",{className:"project-description"})]},n)))})]}),(0,pt.jsxs)("div",{ref:i,style:{height:"100%",paddingTop:"10px",alignItems:"center",background:"#333",textAlign:"center"},children:[(0,pt.jsx)("h2",{style:{textAlign:"center",color:"white"},children:"Contact"}),(0,pt.jsxs)("p",{style:{color:"white"},children:["K\xe9ny HENRY mobile:",(0,pt.jsx)("a",{href:"tel:+33640292594",className:"project-link",children:"+33640292594"}),"mail:",(0,pt.jsx)("a",{href:"mailto:henry.keny@outlook.fr",className:"project-link",children:"henry.keny@outlook.fr"})]}),(0,pt.jsxs)("footer",{className:"footer",children:[(0,pt.jsxs)("ul",{className:"social-icons",children:[(0,pt.jsx)("li",{children:(0,pt.jsx)("a",{href:"https://github.com/kenyhenry",target:"_blank",rel:"noopener noreferrer",children:(0,pt.jsx)(At,{size:32})})}),(0,pt.jsx)("li",{children:(0,pt.jsx)("a",{href:"https://www.linkedin.com/in/keny-h-69b373101/",target:"_blank",rel:"noopener noreferrer",children:(0,pt.jsx)(Nt,{size:32})})})]}),(0,pt.jsx)("p",{children:"\xa9 2023 K\xe9ny HENRY. Tous droits r\xe9serv\xe9s."})]})]})]})};var Ft=n(139),jt=n.n(Ft);const Ut=["xxl","xl","lg","md","sm","xs"],Vt="xs",qt=r.createContext({prefixes:{},breakpoints:Ut,minBreakpoint:Vt}),{Consumer:zt,Provider:Bt}=qt;function Kt(e,t){const{prefixes:n}=(0,r.useContext)(qt);return e||n[t]||t}const Gt=r.forwardRef(((e,t)=>{let{bsPrefix:n,variant:r,animation:i="border",size:s,as:o="div",className:a,...l}=e;n=Kt(n,"spinner");const u=`${n}-${i}`;return(0,pt.jsx)(o,{ref:t,...l,className:jt()(a,u,s&&`${u}-${s}`,r&&`text-${r}`)})}));Gt.displayName="Spinner";const Ht=Gt,Wt=e=>{const t=te(),n=Z(),{title:r,text:i}=n.state,s=i.split(".");return(0,pt.jsxs)("div",{style:{width:"100%"},children:[(0,pt.jsx)("button",{className:"button-style",onClick:()=>{t("/Website")},children:" Return"}),(0,pt.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:[(0,pt.jsx)("h2",{children:r}),s.map(((e,t)=>(0,pt.jsxs)("p",{style:{fontSize:"20px"},children:[e,"."]},t)))]})]})},Qt=n.p+"static/media/kaouka-logo.88817ab8297bcf544ec9.png",$t=n.p+"static/media/invoice-logo.432e14751ba328d1ed0e.png",Jt=()=>{const e=te(),t=t=>{console.log(t),e("/"+t)},n=[{title:"Kaouka",img:Qt,description:"Kaouka est un r\xe9seau social qui permet aux utilisateurs de constater les posts des autres utilisateurs en fonction de leurs g\xe9olocalisation."},{title:"GithubInvoice",img:$t,description:"Github invoice est un outil de facturation qui permet de g\xe9n\xe9rer des factures \xe0 partir des issues de github."}];return(0,pt.jsxs)("div",{className:"container",children:[(0,pt.jsx)("button",{className:"button-style",onClick:()=>{e("/Website")},children:" Return"}),(0,pt.jsx)("div",{className:"offers-container",children:n.map(((e,n)=>(0,pt.jsxs)("div",{className:"offer-item",style:{wordWrap:"break-word"},onClick:()=>t(e.title),children:[(0,pt.jsx)("h2",{className:"project-title",children:e.title}),(0,pt.jsx)("img",{alt:e.title,src:e.img,loading:"lazy",width:80,height:80,style:{textAlign:"center"}}),(0,pt.jsx)("p",{className:"project-description",children:e.description}),(0,pt.jsx)("button",{className:"button-style",onClick:()=>t(e.title),children:" En Savoir Plus "})]},n)))})]})},Yt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Xt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Yt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Zt;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Zt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const en=function(e){return function(e){const t=Yt(e);return Xt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},tn=function(e){try{return Xt.decodeString(e,!0)}catch(KS){console.error("base64Decode failed: ",KS)}return null};function nn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=nn(e[n],t[n]));return e}function rn(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const sn=()=>{try{return rn().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/elaborium_website",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(KS){return}const t=e&&tn(e[1]);return t&&JSON.parse(t)})()}catch(KS){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${KS}`)}},on=()=>{var e;return null===(e=sn())||void 0===e?void 0:e.config};class an{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ln(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function un(){var e;const t=null===(e=sn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(KS){return!1}}function cn(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}function hn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function dn(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function fn(){const e=ln();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pn(){return!un()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mn(){try{return"object"===typeof indexedDB}catch(KS){return!1}}class gn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}}class vn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(yn,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new gn(n,s,t)}}const yn=/\{\$([^}]+)}/g;function bn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(_n(n)&&_n(s)){if(!wn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _n(e){return null!==e&&"object"===typeof e}function In(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Sn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function En(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Tn(e,t){const n=new kn(e,t);return n.subscribe.bind(n)}class kn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Cn),void 0===r.error&&(r.error=Cn),void 0===r.complete&&(r.complete=Cn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(KS){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(KS){"undefined"!==typeof console&&console.error&&console.error(KS)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Cn(){}function xn(e){return e&&e._delegate?e._delegate:e}class An{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Nn="[DEFAULT]";class Pn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new an;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(KS){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(KS){if(r)return null;throw KS}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Nn})}catch(KS){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(KS){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Nn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nn;return this.component?this.component.multipleInstances?e:Nn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const On=[];var Dn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Dn||(Dn={}));const Ln={debug:Dn.DEBUG,verbose:Dn.VERBOSE,info:Dn.INFO,warn:Dn.WARN,error:Dn.ERROR,silent:Dn.SILENT},Mn=Dn.INFO,Fn={[Dn.DEBUG]:"log",[Dn.VERBOSE]:"log",[Dn.INFO]:"info",[Dn.WARN]:"warn",[Dn.ERROR]:"error"},jn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Fn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class Un{constructor(e){this.name=e,this._logLevel=Mn,this._logHandler=jn,this._userLogHandler=null,On.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Dn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ln[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.DEBUG,...t),this._logHandler(this,Dn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.VERBOSE,...t),this._logHandler(this,Dn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.INFO,...t),this._logHandler(this,Dn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.WARN,...t),this._logHandler(this,Dn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Dn.ERROR,...t),this._logHandler(this,Dn.ERROR,...t)}}let Vn,qn;const zn=new WeakMap,Bn=new WeakMap,Kn=new WeakMap,Gn=new WeakMap,Hn=new WeakMap;let Wn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Bn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Kn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Qn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(qn||(qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Yn(this),n),Jn(zn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Jn(e.apply(Yn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Yn(this),t,...r);return Kn.set(s,t.sort?t.sort():[t]),Jn(s)}}function $n(e){return"function"===typeof e?Qn(e):(e instanceof IDBTransaction&&function(e){if(Bn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Bn.set(e,t)}(e),t=e,(Vn||(Vn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Wn):e);var t}function Jn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Jn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&zn.set(t,e)})).catch((()=>{})),Hn.set(t,e),t}(e);if(Gn.has(e))return Gn.get(e);const t=$n(e);return t!==e&&(Gn.set(e,t),Hn.set(t,e)),t}const Yn=e=>Hn.get(e);const Xn=["get","getKey","getAll","getAllKeys","count"],Zn=["put","add","delete","clear"],er=new Map;function tr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(er.get(t))return er.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Zn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Xn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return er.set(t,s),s}Wn=(e=>({...e,get:(t,n,r)=>tr(t,n)||e.get(t,n,r),has:(t,n)=>!!tr(t,n)||e.has(t,n)}))(Wn);class nr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const rr="@firebase/app",ir="0.10.15",sr=new Un("@firebase/app"),or="@firebase/app-compat",ar="@firebase/analytics-compat",lr="@firebase/analytics",ur="@firebase/app-check-compat",cr="@firebase/app-check",hr="@firebase/auth",dr="@firebase/auth-compat",fr="@firebase/database",pr="@firebase/data-connect",mr="@firebase/database-compat",gr="@firebase/functions",vr="@firebase/functions-compat",yr="@firebase/installations",br="@firebase/installations-compat",wr="@firebase/messaging",_r="@firebase/messaging-compat",Ir="@firebase/performance",Sr="@firebase/performance-compat",Er="@firebase/remote-config",Tr="@firebase/remote-config-compat",kr="@firebase/storage",Cr="@firebase/storage-compat",xr="@firebase/firestore",Ar="@firebase/vertexai",Nr="@firebase/firestore-compat",Pr="firebase",Rr="[DEFAULT]",Or={[rr]:"fire-core",[or]:"fire-core-compat",[lr]:"fire-analytics",[ar]:"fire-analytics-compat",[cr]:"fire-app-check",[ur]:"fire-app-check-compat",[hr]:"fire-auth",[dr]:"fire-auth-compat",[fr]:"fire-rtdb",[pr]:"fire-data-connect",[mr]:"fire-rtdb-compat",[gr]:"fire-fn",[vr]:"fire-fn-compat",[yr]:"fire-iid",[br]:"fire-iid-compat",[wr]:"fire-fcm",[_r]:"fire-fcm-compat",[Ir]:"fire-perf",[Sr]:"fire-perf-compat",[Er]:"fire-rc",[Tr]:"fire-rc-compat",[kr]:"fire-gcs",[Cr]:"fire-gcs-compat",[xr]:"fire-fst",[Nr]:"fire-fst-compat",[Ar]:"fire-vertex","fire-js":"fire-js",[Pr]:"fire-js-all"},Dr=new Map,Lr=new Map,Mr=new Map;function Fr(e,t){try{e.container.addComponent(t)}catch(KS){sr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,KS)}}function jr(e,t){e.container.addOrOverwriteComponent(t)}function Ur(e){const t=e.name;if(Mr.has(t))return sr.debug(`There were multiple attempts to register component ${t}.`),!1;Mr.set(t,e);for(const n of Dr.values())Fr(n,e);for(const n of Lr.values())Fr(n,e);return!0}function Vr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function qr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rr;Vr(e,t).clearInstance(n)}function zr(e){return void 0!==e.options}function Br(e){return void 0!==e.settings}function Kr(){Mr.clear()}const Gr=new vn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Hr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new An("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}class Wr extends Hr{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,ei(rr,ir,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Zr(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Gr.create("server-app-deleted")}}const Qr="11.0.1";function $r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Rr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=on()),!n)throw Gr.create("no-options");const s=Dr.get(i);if(s){if(wn(n,s.options)&&wn(r,s.config))return s;throw Gr.create("duplicate-app",{appName:i})}const o=new Rn(i);for(const l of Mr.values())o.addComponent(l);const a=new Hr(n,r,o);return Dr.set(i,a),a}function Jr(e,t){if(("undefined"!==typeof window||cn())&&!cn())throw Gr.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=zr(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw Gr.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const o=Lr.get(i);if(o)return o.incRefCount(t.releaseOnDeref),o;const a=new Rn(i);for(const u of Mr.values())a.addComponent(u);const l=new Wr(n,t,i,a);return Lr.set(i,l),l}function Yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rr;const t=Dr.get(e);if(!t&&e===Rr&&on())return $r();if(!t)throw Gr.create("no-app",{appName:e});return t}function Xr(){return Array.from(Dr.values())}async function Zr(e){let t=!1;const n=e.name;if(Dr.has(n))t=!0,Dr.delete(n);else if(Lr.has(n)){e.decRefCount()<=0&&(Lr.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ei(e,t,n){var r;let i=null!==(r=Or[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void sr.warn(e.join(" "))}Ur(new An(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function ti(e,t){if(null!==e&&"function"!==typeof e)throw Gr.create("invalid-log-argument");!function(e,t){for(const n of On){let r=null;t&&t.level&&(r=Ln[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Dn[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function ni(e){var t;t=e,On.forEach((e=>{e.setLogLevel(t)}))}const ri="firebase-heartbeat-store";let ii=null;function si(){return ii||(ii=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Jn(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Jn(o.result),e.oldVersion,e.newVersion,Jn(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ri)}catch(KS){console.warn(KS)}}}).catch((e=>{throw Gr.create("idb-open",{originalErrorMessage:e.message})}))),ii}async function oi(e,t){try{const n=(await si()).transaction(ri,"readwrite"),r=n.objectStore(ri);await r.put(t,ai(e)),await n.done}catch(KS){if(KS instanceof gn)sr.warn(KS.message);else{const t=Gr.create("idb-set",{originalErrorMessage:null===KS||void 0===KS?void 0:KS.message});sr.warn(t.message)}}}function ai(e){return`${e.name}!${e.options.appId}`}class li{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ci(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ui();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(KS){sr.warn(KS)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ui(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),hi(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hi(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=en(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(KS){return sr.warn(KS),""}}}function ui(){return(new Date).toISOString().substring(0,10)}class ci{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!mn()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await si()).transaction(ri),n=await t.objectStore(ri).get(ai(e));return await t.done,n}catch(KS){if(KS instanceof gn)sr.warn(KS.message);else{const t=Gr.create("idb-get",{originalErrorMessage:null===KS||void 0===KS?void 0:KS.message});sr.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return oi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return oi(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function hi(e){return en(JSON.stringify({version:2,heartbeats:e})).length}var di;di="",Ur(new An("platform-logger",(e=>new nr(e)),"PRIVATE")),Ur(new An("heartbeat",(e=>new li(e)),"PRIVATE")),ei(rr,ir,di),ei(rr,ir,"esm2017"),ei("fire-js","");class fi{constructor(e,t){this._delegate=e,this.firebase=t,Fr(e,new An("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Zr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Fr(this._delegate,e)}_addOrOverwriteComponent(e){jr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pi=new vn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const mi=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=$r(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(bn(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:ei,setLogLevel:ni,onLog:ti,apps:null,SDK_VERSION:Qr,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Ur(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw pi.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&nn(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!bn(n,e=e||Rr))throw pi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(fi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){nn(n,e)},createSubscribe:Tn,ErrorFactory:vn,deepExtend:nn}),n}(),gi=new Un("@firebase/app-compat");try{const e=rn();if(void 0!==e.firebase){gi.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&gi.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(GS){}const vi=mi;!function(e){ei("@firebase/app-compat","0.2.45",e)}();vi.registerVersion("firebase","11.0.1","app-compat");var yi,bi,wi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},_i={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),u=s(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!c(r);){var u=s.add(r);0>=u.l(e)&&(i=i.add(n),s=u),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(s=o(n)).j(t);h(u)||0<u.l(e);)u=(s=o(n-=r)).j(t);c(s)&&(s=l),i=i.add(s),e=f(e,u)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,bi=_i.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(u))):i=(i=i.j(r)).add(o(u))}return i},yi=_i.Integer=r}).apply("undefined"!==typeof wi?wi:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ii,Si,Ei,Ti,ki,Ci,xi,Ai,Ni="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Pi={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ni&&Ni];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function I(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function E(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new k),(e=>e.reset()));class k{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,x=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(P)}};var P=()=>{for(var e;e=E();){try{e.h.call(e.g)}catch(n){S(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}x=!1};function R(){this.s=this.s,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function L(e,t){if(O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:M[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&L.aa.h.call(this)}}h(L,O);var M={2:"touch",3:"pen",4:"mouse"};L.prototype.h=function(){L.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function q(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}q.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=B(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var K="closure_lm_"+(1e6*Math.random()|0),G={};function H(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[K]=l=new q(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,o(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function $(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)$(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[K]=null)):V(e)}}}function Y(e){return e in G?G[e]:G[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new L(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function Z(e){return(e=e[K])instanceof q?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){R.call(this),this.i=new q(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var i=t;_(t=new O(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&z(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,R),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){$(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends R{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){R.call(this),this.h=e,this.g={}}h(le,R);var ue=[];function ce(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&J(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ce(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){O.call(this,"d")}function be(){O.call(this,"c")}h(ye,O),h(be,O);var we={},_e=null;function Ie(){return _e=_e||new ne}function Se(e){O.call(this,we.La,e)}function Ee(e){const t=Ie();re(t,new Se(t))}function Te(e,t){O.call(this,we.STAT_EVENT,e),this.stat=t}function ke(e){const t=Ie();re(t,new Te(t,e))}function Ce(e,t){O.call(this,we.Ma,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ae(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Se,O),we.STAT_EVENT="statevent",h(Te,O),we.Ma="timingevent",h(Ce,O),Ae.prototype.xa=function(){this.g=!1},Ae.prototype.info=function(){};var Pe,Re={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Le(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Me}function Me(){this.i=null,this.g="",this.h=!1}h(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var Fe={},je={};function Ue(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),Be(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Tt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Me,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ue[0]=i.toString()),i=ue);for(var s=0;s<i.length;s++){var o=H(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ee(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function qe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function Be(e){e.S=Date.now()+e.I,Ke(e,e.I)}function Ke(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xe(u(e.ba,e),t)}function Ge(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ce(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Jt(n)}rn(n),ke(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=xe(u(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ct(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(Ge(a),Be(a)),r.g=o}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=u[0]&&"close"!=u[0]||cn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?cn(n,7):$t(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Ee()}catch(c){}}Le.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Gt(e)?t.j():this.Y(e)},Le.prototype.Y=function(e){try{if(e==this.g)e:{const d=Gt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=d||7==t||Ee(),Ge(this);var n=this.g.Z();this.X=n;t:if(qe(this)){var r=Ht(this.g);e="";var s=r.length,o=4==Gt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),He(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,ke(12),We(this),He(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=ze(this,a),e==je){4==d&&(this.s=4,ke(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,ke(15),Ne(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Qe(this,e)}if(qe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,ke(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,ke(11))}}else Ne(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),He(this)}else Ne(this.i,this.l,a,null),Qe(this,a);4==d&&We(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Be(this)))}else(function(e){const t={};e=(e.g&&2<=Gt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=I(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,ke(12)):(this.s=0,ke(13)),We(this),He(this)}}}catch(Ri){}},Le.prototype.cancel=function(){this.J=!0,We(this)},Le.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ee(),ke(17)),We(this),this.s=2,He(this)):Ke(this,this.S-e)};var $e=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ut(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ut(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ut(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(It(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Tt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new _t(t,e.h))}function ct(e,t,n){e.i.set(t,n)}function ht(e){return ct(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function It(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){It(e),t=kt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return It(e),t=kt(e,t),e.g.has(t)}function Tt(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(kt(e,t),d(n)),e.h+=n.length)}function kt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function xt(){this.g=new fe}function At(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(KS){throw t.push(r+"type="+encodeURIComponent("_badmap")),KS}}function Nt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Rt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ot(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Lt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Lt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ct(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){It(this),this.i=null,e=kt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){It(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){It(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){It(this);let t=[];if("string"===typeof e)Et(this,e)&&(t=t.concat(this.g.get(kt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return It(this),this.i=null,Et(this,e=kt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(Nt,pe),Nt.prototype.g=function(){return new Pt(this.l,this.j)},Nt.prototype.i=(mt={},function(){return mt}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ot(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Rt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ot(this):Dt(this),3==this.readyState&&Rt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ot(this))},e.Qa=function(e){this.g&&(this.response=e,Ot(this))},e.ga=function(){this.g&&Ot(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ft,ne);var jt=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,qt(e),Bt(e)}function qt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Gt(e)||2!=e.Z()))if(e.u&&4==Gt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Gt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!jt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Gt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",qt(e)}}finally{Bt(e)}}}function Bt(e,t){if(e.g){Kt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(KS){}}}function Kt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Gt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Li){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new xt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function $t(e){if(Yt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ct(n,"SID",e.K),ct(n,"RID",t),ct(n,"TYPE","terminate"),en(e,n),(t=new Le(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Be(t)}hn(e)}function Jt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){Jt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||N(),x||(C(),x=!0),A.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ct(r,"SID",e.K),ct(r,"RID",n),ct(r,"AID",e.T),en(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Le(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ct(t,n,e)})),e.l&&rt({},(function(e,n){ct(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{At(a,e,"req"+n+"_")}catch(Ri){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||N(),x||(C(),x=!0),A.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=xe(u(e.Fa,e),un(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Le(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ct(t,"RID","rpc"),ct(t,"SID",e.K),ct(t,"AID",e.T),ct(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ct(t,"TO",e.ja),ct(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ie(),new Ce(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=xe(u(e.Ga,e,t),un(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function un(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Ae;if(i.Image){const r=new Image;r.onload=c(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=c(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ae;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else ke(2);e.G=0,e.l&&e.l.sa(t),hn(e),Yt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ct(r,n,t),ct(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Nt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Bt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){ke(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Le(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ct(n=ot(this.I),"RID",e),ct(n,"CVER",22),this.D&&ct(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Lt(s)))+"&"+t:this.m&&Mt(n,this.m,s)),et(this.h,i),this.Ua&&ct(n,"TYPE","init"),this.P?(ct(n,"$req",t),ct(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=xe(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ke(10),Jt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),rn(this),ke(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){$t(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new $e(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,gn.aa.N.call(this)},h(vn,ye),h(yn,be),h(bn,pn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ai=Pi.createWebChannelTransport=function(){return new mn},xi=Pi.getStatEventTarget=function(){return Ie()},Ci=Pi.Event=we,ki=Pi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Re.NO_ERROR=0,Re.TIMEOUT=8,Re.HTTP_ERROR=6,Ti=Pi.ErrorCode=Re,Oe.COMPLETE="complete",Ei=Pi.EventType=Oe,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Si=Pi.WebChannel=ge,Pi.FetchXmlHttpFactory=Nt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Ii=Pi.XhrIo=Ft}).apply("undefined"!==typeof Ni?Ni:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Ri="@firebase/firestore";class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let Di="11.0.0";const Li=new Un("@firebase/firestore");function Mi(){return Li.logLevel}function Fi(e){if(Li.logLevel<=Dn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vi);Li.debug(`Firestore (${Di}): ${e}`,...i)}}function ji(e){if(Li.logLevel<=Dn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vi);Li.error(`Firestore (${Di}): ${e}`,...i)}}function Ui(e){if(Li.logLevel<=Dn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vi);Li.warn(`Firestore (${Di}): ${e}`,...i)}}function Vi(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function qi(){const e=`FIRESTORE (${Di}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw ji(e),new Error(e)}function zi(e,t){e||qi()}function Bi(e,t){return e}const Ki={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gi extends gn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Wi{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qi{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Oi.UNAUTHENTICATED)))}shutdown(){}}class $i{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ji{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){zi(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hi,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Fi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Fi("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hi)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Fi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(zi("string"==typeof t.accessToken),new Wi(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return zi(null===e||"string"==typeof e),new Oi(e)}}class Yi{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Xi{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Yi(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Oi.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Zi{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class es{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){zi(void 0===this.o);const n=e=>{null!=e.error&&Fi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Fi("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Fi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Fi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(zi("string"==typeof e.token),this.R=e.token,new Zi(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ts(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ns{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=ts(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function rs(e,t){return e<t?-1:e>t?1:0}function is(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function ss(e){return e+"\0"}class os{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Gi(Ki.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Gi(Ki.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Gi(Ki.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Gi(Ki.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return os.fromMillis(Date.now())}static fromDate(e){return os.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new os(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rs(this.nanoseconds,e.nanoseconds):rs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class as{constructor(e){this.timestamp=e}static fromTimestamp(e){return new as(e)}static min(){return new as(new os(0,0))}static max(){return new as(new os(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ls{constructor(e,t,n){void 0===t?t=0:t>e.length&&qi(),void 0===n?n=e.length-t:n>e.length-t&&qi(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ls.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ls?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class us extends ls{construct(e,t,n){return new us(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Gi(Ki.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new us(e)}static emptyPath(){return new us([])}}const cs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hs extends ls{construct(e,t,n){return new hs(e,t,n)}static isValidIdentifier(e){return cs.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hs(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Gi(Ki.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Gi(Ki.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Gi(Ki.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Gi(Ki.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hs(t)}static emptyPath(){return new hs([])}}class ds{constructor(e){this.path=e}static fromPath(e){return new ds(us.fromString(e))}static fromName(e){return new ds(us.fromString(e).popFirst(5))}static empty(){return new ds(us.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===us.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return us.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ds(new us(e.slice()))}}class fs{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function ps(e){return e.fields.find((e=>2===e.kind))}function ms(e){return e.fields.filter((e=>2!==e.kind))}fs.UNKNOWN_ID=-1;class gs{constructor(e,t){this.fieldPath=e,this.kind=t}}class vs{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vs(0,ws.min())}}function ys(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=as.fromTimestamp(1e9===r?new os(n+1,0):new os(n,r));return new ws(i,ds.empty(),t)}function bs(e){return new ws(e.readTime,e.key,-1)}class ws{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ws(as.min(),ds.empty(),-1)}static max(){return new ws(as.max(),ds.empty(),-1)}}function _s(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ds.comparator(e.documentKey,t.documentKey),0!==n?n:rs(e.largestBatchId,t.largestBatchId))}const Is="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ss{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Es(e){if(e.code!==Ki.FAILED_PRECONDITION||e.message!==Is)throw e;Fi("LocalStore","Unexpectedly lost primary lease")}class Ts{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qi(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ts(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ts?t:Ts.resolve(t)}catch(e){return Ts.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ts.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ts.reject(t)}static resolve(e){return new Ts(((t,n)=>{t(e)}))}static reject(e){return new Ts(((t,n)=>{n(e)}))}static waitFor(e){return new Ts(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Ts.resolve(!1);for(const n of e)t=t.next((e=>e?Ts.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Ts(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Ts(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class ks{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Hi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Ns(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ls(t.target.error);this.V.reject(new Ns(e,n))}}static open(e,t,n,r){try{return new ks(t,e.transaction(r,n))}catch(e){throw new Ns(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Fi("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Rs(t)}}class Cs{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Cs.S(ln())&&ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fi("SimpleDb","Removing database:",e),Os(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!mn())return!1;if(Cs.v())return!0;const e=ln(),t=Cs.S(e),n=0<t&&t<10,r=xs(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.C)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(Fi("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ns(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Gi(Ki.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Gi(Ki.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ns(e,r))},r.onupgradeneeded=e=>{Fi("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{Fi("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=ks.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Ts.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Fi("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function xs(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class As{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Os(this.B.delete())}}class Ns extends Gi{constructor(e,t){super(Ki.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ps(e){return"IndexedDbTransactionError"===e.name}class Rs{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Fi("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Fi("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Os(n)}add(e){return Fi("SimpleDb","ADD",this.store.name,e,e),Os(this.store.add(e))}get(e){return Os(this.store.get(e)).next((t=>(void 0===t&&(t=null),Fi("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Fi("SimpleDb","DELETE",this.store.name,e),Os(this.store.delete(e))}count(){return Fi("SimpleDb","COUNT",this.store.name),Os(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Ts(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Ts(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){Fi("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new Ts(((n,r)=>{t.onerror=e=>{const t=Ls(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Ts(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new As(i),o=t(i.primaryKey,i.value,s);if(o instanceof Ts){const e=o.catch((e=>(s.done(),Ts.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>Ts.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Os(e){return new Ts(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ls(e.target.error);n(t)}}))}let Ds=!1;function Ls(e){const t=Cs.S(ln());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Gi("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ds||(Ds=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Ms{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){Fi("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Fi("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(e){Ps(e)?Fi("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await Es(e)}await this.X(6e4)}))}}class Fs{constructor(e,t){this.localStore=e,this.persistence=t}async ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return Ts.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Fi("IndexBackfiller",`Processing collection: ${t}`),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(Fi("IndexBackfiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=bs(t);_s(r,n)>0&&(n=r)})),new ws(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class js{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Us(e){return null==e}function Vs(e){return 0===e&&1/e==-1/0}function qs(e){return"number"==typeof e&&Number.isInteger(e)&&!Vs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function zs(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ks(t)),t=Bs(e.get(n),t);return Ks(t)}function Bs(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Ks(e){return e+"\x01\x01"}function Gs(e){const t=e.length;if(zi(t>=2),2===t)return zi("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),us.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&qi(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:qi()}s=t+2}return new us(r)}js.oe=-1;const Hs=["userId","batchId"];function Ws(e,t){return[e,zs(t)]}function Qs(e,t,n){return[e,zs(t),n]}const $s={},Js=["prefixPath","collectionGroup","readTime","documentId"],Ys=["prefixPath","collectionGroup","documentId"],Xs=["collectionGroup","readTime","prefixPath","documentId"],Zs=["canonicalId","targetId"],eo=["targetId","path"],to=["path","targetId"],no=["collectionId","parent"],ro=["indexId","uid"],io=["uid","sequenceNumber"],so=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oo=["indexId","uid","orderedDocumentKey"],ao=["userId","collectionPath","documentId"],lo=["userId","collectionPath","largestBatchId"],uo=["userId","collectionGroup","largestBatchId"],co=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ho=[...co,"documentOverlays"],fo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],po=fo,mo=[...po,"indexConfiguration","indexState","indexEntries"],go=mo,vo=[...mo,"globals"];class yo extends Ss{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function bo(e,t){const n=Bi(e);return Cs.F(n._e,t)}function wo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _o(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Io(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class So{constructor(e,t){this.comparator=e,this.root=t||To.EMPTY}insert(e,t){return new So(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,To.BLACK,null,null))}remove(e){return new So(this.comparator,this.root.remove(e,this.comparator).copy(null,null,To.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eo(this.root,e,this.comparator,!0)}}class Eo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class To{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:To.RED,this.left=null!=r?r:To.EMPTY,this.right=null!=i?i:To.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new To(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return To.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return To.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,To.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,To.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qi();if(this.right.isRed())throw qi();const e=this.left.check();if(e!==this.right.check())throw qi();return e+(this.isRed()?0:1)}}To.EMPTY=null,To.RED=!0,To.BLACK=!1,To.EMPTY=new class{constructor(){this.size=0}get key(){throw qi()}get value(){throw qi()}get color(){throw qi()}get left(){throw qi()}get right(){throw qi()}copy(e,t,n,r,i){return this}insert(e,t,n){return new To(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ko{constructor(e){this.comparator=e,this.data=new So(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Co(this.data.getIterator())}getIteratorFrom(e){return new Co(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ko))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ko(this.comparator);return t.data=e,t}}class Co{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function xo(e){return e.hasNext()?e.getNext():void 0}class Ao{constructor(e){this.fields=e,e.sort(hs.comparator)}static empty(){return new Ao([])}unionWith(e){let t=new ko(hs.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ao(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return is(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class No extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Po{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new No("Invalid base64 string: "+e):e}}(e);return new Po(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Po(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Po.EMPTY_BYTE_STRING=new Po("");const Ro=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(e){if(zi(!!e),"string"==typeof e){let t=0;const n=Ro.exec(e);if(zi(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Do(e.seconds),nanos:Do(e.nanos)}}function Do(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Lo(e){return"string"==typeof e?Po.fromBase64String(e):Po.fromUint8Array(e)}function Mo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Fo(e){const t=e.mapValue.fields.__previous_value__;return Mo(t)?Fo(t):t}function jo(e){const t=Oo(e.mapValue.fields.__local_write_time__.timestampValue);return new os(t.seconds,t.nanos)}class Uo{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Vo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}const qo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zo={nullValue:"NULL_VALUE"};function Bo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mo(e)?4:oa(e)?9007199254740991:ia(e)?10:11:qi()}function Ko(e,t){if(e===t)return!0;const n=Bo(e);if(n!==Bo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return jo(e).isEqual(jo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Oo(e.timestampValue),r=Oo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Lo(e.bytesValue).isEqual(Lo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Do(e.geoPointValue.latitude)===Do(t.geoPointValue.latitude)&&Do(e.geoPointValue.longitude)===Do(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Do(e.integerValue)===Do(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Do(e.doubleValue),r=Do(t.doubleValue);return n===r?Vs(n)===Vs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return is(e.arrayValue.values||[],t.arrayValue.values||[],Ko);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(wo(n)!==wo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ko(n[i],r[i])))return!1;return!0}(e,t);default:return qi()}}function Go(e,t){return void 0!==(e.values||[]).find((e=>Ko(e,t)))}function Ho(e,t){if(e===t)return 0;const n=Bo(e),r=Bo(t);if(n!==r)return rs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return rs(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Do(e.integerValue||e.doubleValue),r=Do(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wo(e.timestampValue,t.timestampValue);case 4:return Wo(jo(e),jo(t));case 5:return rs(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Lo(e),r=Lo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=rs(n[i],r[i]);if(0!==e)return e}return rs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=rs(Do(e.latitude),Do(t.latitude));return 0!==n?n:rs(Do(e.longitude),Do(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Qo(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o.value)||void 0===n?void 0:n.arrayValue,u=null===(r=a.value)||void 0===r?void 0:r.arrayValue,c=rs((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==u?void 0:u.values)||void 0===s?void 0:s.length)||0);return 0!==c?c:Qo(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===qo.mapValue&&t===qo.mapValue)return 0;if(e===qo.mapValue)return 1;if(t===qo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=rs(r[o],s[o]);if(0!==e)return e;const t=Ho(n[r[o]],i[s[o]]);if(0!==t)return t}return rs(r.length,s.length)}(e.mapValue,t.mapValue);default:throw qi()}}function Wo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rs(e,t);const n=Oo(e),r=Oo(t),i=rs(n.seconds,r.seconds);return 0!==i?i:rs(n.nanos,r.nanos)}function Qo(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ho(n[i],r[i]);if(e)return e}return rs(n.length,r.length)}function $o(e){return Jo(e)}function Jo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Oo(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Lo(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ds.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Jo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Jo(e.fields[i])}`;return n+"}"}(e.mapValue):qi()}function Yo(e){switch(Bo(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Fo(e);return t?16+Yo(t):16;case 5:return 2*e.stringValue.length;case 6:return Lo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Yo(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return _o(e.fields,((e,n)=>{t+=e.length+Yo(n)})),t}(e.mapValue);default:throw qi()}}function Xo(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Zo(e){return!!e&&"integerValue"in e}function ea(e){return!!e&&"arrayValue"in e}function ta(e){return!!e&&"nullValue"in e}function na(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ra(e){return!!e&&"mapValue"in e}function ia(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _o(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=sa(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=sa(e.arrayValue.values[n]);return t}return Object.assign({},e)}function oa(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}const aa={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function la(e){return"nullValue"in e?zo:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Xo(Vo.empty(),ds.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?ia(e)?aa:{mapValue:{}}:qi()}function ua(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Xo(Vo.empty(),ds.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?aa:"mapValue"in e?ia(e)?{mapValue:{}}:qo:qi()}function ca(e,t){const n=Ho(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ha(e,t){const n=Ho(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class da{constructor(e){this.value=e}static empty(){return new da({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ra(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(t)}setAll(e){let t=hs.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=sa(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ra(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ko(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ra(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){_o(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new da(sa(this.value))}}function fa(e){const t=[];return _o(e.fields,((e,n)=>{const r=new hs([e]);if(ra(n)){const e=fa(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ao(t)}class pa{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new pa(e,0,as.min(),as.min(),as.min(),da.empty(),0)}static newFoundDocument(e,t,n,r){return new pa(e,1,t,as.min(),n,r,0)}static newNoDocument(e,t){return new pa(e,2,t,as.min(),as.min(),da.empty(),0)}static newUnknownDocument(e,t){return new pa(e,3,t,as.min(),as.min(),da.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(as.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=da.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=as.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ma{constructor(e,t){this.position=e,this.inclusive=t}}function ga(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ds.comparator(ds.fromName(o.referenceValue),n.key):Ho(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function va(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ko(e.position[n],t.position[n]))return!1;return!0}class ya{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ba(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wa{}class _a extends wa{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Pa(e,t,n):"array-contains"===t?new La(e,n):"in"===t?new Ma(e,n):"not-in"===t?new Fa(e,n):"array-contains-any"===t?new ja(e,n):new _a(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ra(e,n):new Oa(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ho(t,this.value)):null!==t&&Bo(this.value)===Bo(t)&&this.matchesComparison(Ho(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qi()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ia extends wa{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ia(e,t)}matches(e){return Sa(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Sa(e){return"and"===e.op}function Ea(e){return"or"===e.op}function Ta(e){return ka(e)&&Sa(e)}function ka(e){for(const t of e.filters)if(t instanceof Ia)return!1;return!0}function Ca(e){if(e instanceof _a)return e.field.canonicalString()+e.op.toString()+$o(e.value);if(Ta(e))return e.filters.map((e=>Ca(e))).join(",");{const t=e.filters.map((e=>Ca(e))).join(",");return`${e.op}(${t})`}}function xa(e,t){return e instanceof _a?function(e,t){return t instanceof _a&&e.op===t.op&&e.field.isEqual(t.field)&&Ko(e.value,t.value)}(e,t):e instanceof Ia?function(e,t){return t instanceof Ia&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&xa(n,t.filters[r])),!0)}(e,t):void qi()}function Aa(e,t){const n=e.filters.concat(t);return Ia.create(n,e.op)}function Na(e){return e instanceof _a?function(e){return`${e.field.canonicalString()} ${e.op} ${$o(e.value)}`}(e):e instanceof Ia?function(e){return e.op.toString()+" {"+e.getFilters().map(Na).join(" ,")+"}"}(e):"Filter"}class Pa extends _a{constructor(e,t,n){super(e,t,n),this.key=ds.fromName(n.referenceValue)}matches(e){const t=ds.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ra extends _a{constructor(e,t){super(e,"in",t),this.keys=Da("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Oa extends _a{constructor(e,t){super(e,"not-in",t),this.keys=Da("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Da(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ds.fromName(e.referenceValue)))}class La extends _a{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ea(t)&&Go(t.arrayValue,this.value)}}class Ma extends _a{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Go(this.value.arrayValue,t)}}class Fa extends _a{constructor(e,t){super(e,"not-in",t)}matches(e){if(Go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Go(this.value.arrayValue,t)}}class ja extends _a{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ea(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Go(this.value.arrayValue,e)))}}class Ua{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function Va(e){return new Ua(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function qa(e){const t=Bi(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ca(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Us(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>$o(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>$o(e))).join(",")),t.ue=e}return t.ue}function za(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ba(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!xa(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!va(e.startAt,t.startAt)&&va(e.endAt,t.endAt)}function Ba(e){return ds.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ka(e,t){return e.filters.filter((e=>e instanceof _a&&e.field.isEqual(t)))}function Ga(e,t,n){let r=zo,i=!0;for(const s of Ka(e,t)){let e=zo,t=!0;switch(s.op){case"<":case"<=":e=la(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=zo}ca({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ca({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Ha(e,t,n){let r=qo,i=!0;for(const s of Ka(e,t)){let e=qo,t=!0;switch(s.op){case">=":case">":e=ua(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=qo}ha({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ha({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Wa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Qa(e,t,n,r,i,s,o,a){return new Wa(e,t,n,r,i,s,o,a)}function $a(e){return new Wa(e)}function Ja(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ya(e){return null!==e.collectionGroup}function Xa(e){const t=Bi(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ko(hs.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ya(r,n))})),e.has(hs.keyField().canonicalString())||t.ce.push(new ya(hs.keyField(),n))}return t.ce}function Za(e){const t=Bi(e);return t.le||(t.le=el(t,Xa(e))),t.le}function el(e,t){if("F"===e.limitType)return Va(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ya(e.field,t)}));const n=e.endAt?new ma(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ma(e.startAt.position,e.startAt.inclusive):null;return Va(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function tl(e,t){const n=e.filters.concat([t]);return new Wa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function nl(e,t,n){return new Wa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rl(e,t){return za(Za(e),Za(t))&&e.limitType===t.limitType}function il(e){return`${qa(Za(e))}|lt:${e.limitType}`}function sl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Na(e))).join(", ")}]`),Us(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>$o(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>$o(e))).join(",")),`Target(${t})`}(Za(e))}; limitType=${e.limitType})`}function ol(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ds.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Xa(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ga(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xa(e),t))&&!(e.endAt&&!function(e,t,n){const r=ga(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xa(e),t))}(e,t)}function al(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ll(e){return(t,n)=>{let r=!1;for(const i of Xa(e)){const e=ul(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ul(e,t,n){const r=e.field.isKeyField()?ds.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ho(r,i):qi()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qi()}}class cl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Io(this.inner)}size(){return this.innerSize}}const hl=new So(ds.comparator);function dl(){return hl}const fl=new So(ds.comparator);function pl(){let e=fl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function ml(e){let t=fl;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function gl(){return yl()}function vl(){return yl()}function yl(){return new cl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const bl=new So(ds.comparator),wl=new ko(ds.comparator);function _l(){let e=wl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Il=new ko(rs);function Sl(){return Il}function El(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vs(t)?"-0":t}}function Tl(e){return{integerValue:""+e}}function kl(e,t){return qs(t)?Tl(t):El(e,t)}class Cl{constructor(){this._=void 0}}function xl(e,t,n){return e instanceof Pl?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Mo(t)&&(t=Fo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Rl?Ol(e,t):e instanceof Dl?Ll(e,t):function(e,t){const n=Nl(e,t),r=Fl(n)+Fl(e.Pe);return Zo(n)&&Zo(e.Pe)?Tl(r):El(e.serializer,r)}(e,t)}function Al(e,t,n){return e instanceof Rl?Ol(e,t):e instanceof Dl?Ll(e,t):n}function Nl(e,t){return e instanceof Ml?function(e){return Zo(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Pl extends Cl{}class Rl extends Cl{constructor(e){super(),this.elements=e}}function Ol(e,t){const n=jl(t);for(const r of e.elements)n.some((e=>Ko(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Dl extends Cl{constructor(e){super(),this.elements=e}}function Ll(e,t){let n=jl(t);for(const r of e.elements)n=n.filter((e=>!Ko(e,r)));return{arrayValue:{values:n}}}class Ml extends Cl{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Fl(e){return Do(e.integerValue||e.doubleValue)}function jl(e){return ea(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ul{constructor(e,t){this.field=e,this.transform=t}}class Vl{constructor(e,t){this.version=e,this.transformResults=t}}class ql{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ql}static exists(e){return new ql(void 0,e)}static updateTime(e){return new ql(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Bl{}function Kl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new eu(e.key,ql.none()):new $l(e.key,e.data,ql.none());{const n=e.data,r=da.empty();let i=new ko(hs.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Jl(e.key,r,new Ao(i.toArray()),ql.none())}}function Gl(e,t,n){e instanceof $l?function(e,t,n){const r=e.value.clone(),i=Xl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jl?function(e,t,n){if(!zl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Xl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Yl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hl(e,t,n,r){return e instanceof $l?function(e,t,n,r){if(!zl(e.precondition,t))return n;const i=e.value.clone(),s=Zl(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Jl?function(e,t,n,r){if(!zl(e.precondition,t))return n;const i=Zl(e.fieldTransforms,r,t),s=t.data;return s.setAll(Yl(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return zl(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Wl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Nl(r.transform,e||null);null!=i&&(null===n&&(n=da.empty()),n.set(r.field,i))}return n||null}function Ql(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&is(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Rl&&t instanceof Rl||e instanceof Dl&&t instanceof Dl?is(e.elements,t.elements,Ko):e instanceof Ml&&t instanceof Ml?Ko(e.Pe,t.Pe):e instanceof Pl&&t instanceof Pl}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $l extends Bl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jl extends Bl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Yl(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Xl(e,t,n){const r=new Map;zi(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Al(o,a,n[i]))}return r}function Zl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,xl(e,s,t))}return r}class eu extends Bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tu extends Bl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Gl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Hl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Hl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=vl();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Kl(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(as.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_l())}isEqual(e){return this.batchId===e.batchId&&is(this.mutations,e.mutations,((e,t)=>Ql(e,t)))&&is(this.baseMutations,e.baseMutations,((e,t)=>Ql(e,t)))}}class ru{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){zi(e.mutations.length===n.length);let r=bl;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ru(e,t,n,r)}}class iu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class su{constructor(e,t){this.count=e,this.unchangedNames=t}}var ou,au;function lu(e){switch(e){default:return qi();case Ki.CANCELLED:case Ki.UNKNOWN:case Ki.DEADLINE_EXCEEDED:case Ki.RESOURCE_EXHAUSTED:case Ki.INTERNAL:case Ki.UNAVAILABLE:case Ki.UNAUTHENTICATED:return!1;case Ki.INVALID_ARGUMENT:case Ki.NOT_FOUND:case Ki.ALREADY_EXISTS:case Ki.PERMISSION_DENIED:case Ki.FAILED_PRECONDITION:case Ki.ABORTED:case Ki.OUT_OF_RANGE:case Ki.UNIMPLEMENTED:case Ki.DATA_LOSS:return!0}}function uu(e){if(void 0===e)return ji("GRPC error has no .code"),Ki.UNKNOWN;switch(e){case ou.OK:return Ki.OK;case ou.CANCELLED:return Ki.CANCELLED;case ou.UNKNOWN:return Ki.UNKNOWN;case ou.DEADLINE_EXCEEDED:return Ki.DEADLINE_EXCEEDED;case ou.RESOURCE_EXHAUSTED:return Ki.RESOURCE_EXHAUSTED;case ou.INTERNAL:return Ki.INTERNAL;case ou.UNAVAILABLE:return Ki.UNAVAILABLE;case ou.UNAUTHENTICATED:return Ki.UNAUTHENTICATED;case ou.INVALID_ARGUMENT:return Ki.INVALID_ARGUMENT;case ou.NOT_FOUND:return Ki.NOT_FOUND;case ou.ALREADY_EXISTS:return Ki.ALREADY_EXISTS;case ou.PERMISSION_DENIED:return Ki.PERMISSION_DENIED;case ou.FAILED_PRECONDITION:return Ki.FAILED_PRECONDITION;case ou.ABORTED:return Ki.ABORTED;case ou.OUT_OF_RANGE:return Ki.OUT_OF_RANGE;case ou.UNIMPLEMENTED:return Ki.UNIMPLEMENTED;case ou.DATA_LOSS:return Ki.DATA_LOSS;default:return qi()}}(au=ou||(ou={}))[au.OK=0]="OK",au[au.CANCELLED=1]="CANCELLED",au[au.UNKNOWN=2]="UNKNOWN",au[au.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",au[au.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",au[au.NOT_FOUND=5]="NOT_FOUND",au[au.ALREADY_EXISTS=6]="ALREADY_EXISTS",au[au.PERMISSION_DENIED=7]="PERMISSION_DENIED",au[au.UNAUTHENTICATED=16]="UNAUTHENTICATED",au[au.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",au[au.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",au[au.ABORTED=10]="ABORTED",au[au.OUT_OF_RANGE=11]="OUT_OF_RANGE",au[au.UNIMPLEMENTED=12]="UNIMPLEMENTED",au[au.INTERNAL=13]="INTERNAL",au[au.UNAVAILABLE=14]="UNAVAILABLE",au[au.DATA_LOSS=15]="DATA_LOSS";let cu=null;function hu(){return new TextEncoder}const du=new yi([4294967295,4294967295],0);function fu(e){const t=hu().encode(e),n=new bi;return n.update(t),new Uint8Array(n.digest())}function pu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new yi([n,r],0),new yi([i,s],0)]}class mu{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new gu(`Invalid padding: ${t}`);if(n<0)throw new gu(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new gu(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new gu(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=yi.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(yi.fromNumber(n)));return 1===r.compare(du)&&(r=new yi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=fu(e),[n,r]=pu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new mu(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=fu(e),[n,r]=pu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new vu(as.min(),r,new So(rs),dl(),_l())}}class yu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new yu(n,t,_l(),_l(),_l())}}class bu{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class wu{constructor(e,t){this.targetId=e,this.me=t}}class _u{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Po.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Iu{constructor(){this.fe=0,this.ge=Tu(),this.pe=Po.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_l(),t=_l(),n=_l();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qi()}})),new yu(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Tu()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,zi(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Su{constructor(e){this.Le=e,this.Be=new Map,this.ke=dl(),this.qe=Eu(),this.Qe=new So(rs)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:qi()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Ba(i))if(0===n){const e=new ds(i.path);this.Ue(t,e,pa.newNoDocument(e,as.min()))}else zi(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==cu||cu.et(function(e,t,n,r,i){var s,o,a,l,u,c;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(c=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==c?c:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Lo(n).toUint8Array()}catch(e){if(e instanceof No)return Ui("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new mu(s,r,i)}catch(e){return Ui(e instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Ba(i.target)){const t=new ds(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,pa.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=_l();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new vu(e,t,this.Qe,this.ke,n);return this.ke=dl(),this.qe=Eu(),this.Qe=new So(rs),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Iu,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ko(rs),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Fi("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Iu),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Eu(){return new So(ds.comparator)}function Tu(){return new So(ds.comparator)}const ku={asc:"ASCENDING",desc:"DESCENDING"},Cu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xu={and:"AND",or:"OR"};class Au{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Nu(e,t){return e.useProto3Json||Us(t)?t:{value:t}}function Pu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ru(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ou(e,t){return Pu(e,t.toTimestamp())}function Du(e){return zi(!!e),as.fromTimestamp(function(e){const t=Oo(e);return new os(t.seconds,t.nanos)}(e))}function Lu(e,t){return Mu(e,t).canonicalString()}function Mu(e,t){const n=function(e){return new us(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Fu(e){const t=us.fromString(e);return zi(sc(t)),t}function ju(e,t){return Lu(e.databaseId,t.path)}function Uu(e,t){const n=Fu(t);if(n.get(1)!==e.databaseId.projectId)throw new Gi(Ki.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gi(Ki.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ds(Bu(n))}function Vu(e,t){return Lu(e.databaseId,t)}function qu(e){const t=Fu(e);return 4===t.length?us.emptyPath():Bu(t)}function zu(e){return new us(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bu(e){return zi(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ku(e,t,n){return{name:ju(e,t),fields:n.value.mapValue.fields}}function Gu(e,t,n){const r=Uu(e,t.name),i=Du(t.updateTime),s=t.createTime?Du(t.createTime):as.min(),o=new da({mapValue:{fields:t.fields}}),a=pa.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Hu(e,t){let n;if(t instanceof $l)n={update:Ku(e,t.key,t.value)};else if(t instanceof eu)n={delete:ju(e,t.key)};else if(t instanceof Jl)n={update:Ku(e,t.key,t.data),updateMask:ic(t.fieldMask)};else{if(!(t instanceof tu))return qi();n={verify:ju(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Pl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Dl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ml)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw qi()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ou(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qi()}(e,t.precondition)),n}function Wu(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?ql.updateTime(Du(e.updateTime)):void 0!==e.exists?ql.exists(e.exists):ql.none()}(t.currentDocument):ql.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)zi("REQUEST_TIME"===t.setToServerValue),n=new Pl;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Rl(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Dl(e)}else"increment"in t?n=new Ml(e,t.increment):qi();const r=hs.fromServerFormat(t.fieldPath);return new Ul(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Uu(e,t.update.name),s=new da({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ao(t.map((e=>hs.fromServerFormat(e))))}(t.updateMask);return new Jl(i,s,e,n,r)}return new $l(i,s,n,r)}if(t.delete){const r=Uu(e,t.delete);return new eu(r,n)}if(t.verify){const r=Uu(e,t.verify);return new tu(r,n)}return qi()}function Qu(e,t){return{documents:[Vu(e,t.path)]}}function $u(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Vu(e,i);const s=function(e){if(0!==e.length)return rc(Ia.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:tc(e.field),direction:Xu(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Nu(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Ju(e){let t=qu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){zi(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Yu(e);return t instanceof Ia&&Ta(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new ya(nc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Us(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ma(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new ma(n,t)}(n.endAt)),Qa(t,i,o,s,a,"F",l,u)}function Yu(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=nc(e.unaryFilter.field);return _a.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=nc(e.unaryFilter.field);return _a.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nc(e.unaryFilter.field);return _a.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=nc(e.unaryFilter.field);return _a.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qi()}}(e):void 0!==e.fieldFilter?function(e){return _a.create(nc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qi()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ia.create(e.compositeFilter.filters.map((e=>Yu(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return qi()}}(e.compositeFilter.op))}(e):qi()}function Xu(e){return ku[e]}function Zu(e){return Cu[e]}function ec(e){return xu[e]}function tc(e){return{fieldPath:e.canonicalString()}}function nc(e){return hs.fromServerFormat(e.fieldPath)}function rc(e){return e instanceof _a?function(e){if("=="===e.op){if(na(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NAN"}};if(ta(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(na(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NOT_NAN"}};if(ta(e.value))return{unaryFilter:{field:tc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tc(e.field),op:Zu(e.op),value:e.value}}}(e):e instanceof Ia?function(e){const t=e.getFilters().map((e=>rc(e)));return 1===t.length?t[0]:{compositeFilter:{op:ec(e.op),filters:t}}}(e):qi()}function ic(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function sc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class oc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:as.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:as.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Po.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ac{constructor(e){this.ct=e}}function lc(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:uc(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ju(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Pu(e,t.version.toTimestamp()),createTime:Pu(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:cc(t.version)};else{if(!t.isUnknownDocument())return qi();r.unknownDocument={path:n.path.toArray(),version:cc(t.version)}}return r}function uc(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function cc(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hc(e){const t=new os(e.seconds,e.nanoseconds);return as.fromTimestamp(t)}function dc(e,t){const n=(t.baseMutations||[]).map((t=>Wu(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Wu(e.ct,t))),i=os.fromMillis(t.localWriteTimeMs);return new nu(t.batchId,i,n,r)}function fc(e){const t=hc(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?hc(e.lastLimboFreeSnapshotVersion):as.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return zi(1===e.documents.length),Za($a(qu(e.documents[0])))}(e.query):function(e){return Za(Ju(e))}(e.query),new oc(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Po.fromBase64String(e.resumeToken))}function pc(e,t){const n=cc(t.snapshotVersion),r=cc(t.lastLimboFreeSnapshotVersion);let i;i=Ba(t.target)?Qu(e.ct,t.target):$u(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qa(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mc(e){const t=Ju({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?nl(t,t.limit,"L"):t}function gc(e,t){return new iu(t.largestBatchId,Wu(e.ct,t.overlayMutation))}function vc(e,t){const n=t.path.lastSegment();return[e,zs(t.path.popLast()),n]}function yc(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:cc(r.readTime),documentKey:zs(r.documentKey.path),largestBatchId:r.largestBatchId}}class bc{getBundleMetadata(e,t){return wc(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:hc(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return wc(e).put(function(e){return{bundleId:e.id,createTime:cc(Du(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return _c(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:mc(e.bundledQuery),readTime:hc(e.readTime)}}(e)}))}saveNamedQuery(e,t){return _c(e).put(function(e){return{name:e.name,readTime:cc(Du(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function wc(e){return bo(e,"bundles")}function _c(e){return bo(e,"namedQueries")}class Ic{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new Ic(e,n)}getOverlay(e,t){return Sc(e).get(vc(this.userId,t)).next((e=>e?gc(this.serializer,e):null))}getOverlays(e,t){const n=gl();return Ts.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new iu(t,i);r.push(this.ht(e,s))})),Ts.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(zs(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Sc(e).j("collectionPathOverlayIndex",r))})),Ts.waitFor(i)}getOverlaysForCollection(e,t,n){const r=gl(),i=zs(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Sc(e).U("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=gc(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=gl();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sc(e).J({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=gc(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return Sc(e).put(function(e,t,n){const[r,i,s]=vc(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Hu(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function Sc(e){return bo(e,"documentOverlays")}class Ec{Pt(e){return bo(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?Po.fromUint8Array(t):Po.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.Pt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Tc{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Do(e.integerValue));else if("doubleValue"in e){const n=Do(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Vs(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Oo(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Lo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?oa(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ia(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):qi()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Do(o)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),ds.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}function kc(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Cc(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=kc(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Tc.vt=new Tc;class xc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ot(n.value),n=t.next();this.Nt()}Lt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Bt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ot(e);else if(e<2048)this.Ot(960|e>>>6),this.Ot(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ot(480|e>>>12),this.Ot(128|63&e>>>6),this.Ot(128|63&e);else{const e=t.codePointAt(0);this.Ot(240|e>>>18),this.Ot(128|63&e>>>12),this.Ot(128|63&e>>>6),this.Ot(128|63&e)}}this.Nt()}kt(e){const t=this.qt(e),n=Cc(t);this.Qt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Kt(e){const t=this.qt(e),n=Cc(t);this.Qt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ft(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(t)}Ot(e){const t=255&e;0===t?(this.Gt(0),this.Gt(255)):255===t?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Ac{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Nc{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Pc{constructor(){this.jt=new xc,this.Ht=new Ac(this.jt),this.Jt=new Nc(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return 0===e?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class Rc{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Zt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Rc(this.indexId,this.documentKey,this.arrayValue,n)}}function Oc(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Dc(e.arrayValue,t.arrayValue),0!==n?n:(n=Dc(e.directionalValue,t.directionalValue),0!==n?n:ds.comparator(e.documentKey,t.documentKey)))}function Dc(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Lc{constructor(e){this.Xt=new ko(((e,t)=>hs.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const t of e.filters){const e=t;e.isInequality()?this.Xt=this.Xt.add(e):this.tn.push(e)}}get nn(){return this.Xt.size>1}rn(e){if(zi(e.collectionGroup===this.collectionId),this.nn)return!1;const t=ps(e);if(void 0!==t&&!this.sn(t))return!1;const n=ms(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.sn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Xt.size>0){const e=this.Xt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.on(e,t)||!this._n(this.en[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.en.length||!this._n(this.en[s++],e))return!1}return!0}an(){if(this.nn)return null;let e=new ko(hs.comparator);const t=[];for(const n of this.tn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new gs(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new gs(n.field,0))}for(const n of this.en)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new gs(n.field,"asc"===n.dir?0:1)));return new fs(fs.UNKNOWN_ID,this.collectionId,t,vs.empty())}sn(e){for(const t of this.tn)if(this.on(t,e))return!0;return!1}on(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}_n(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Mc(e){var t,n;if(zi(e instanceof _a||e instanceof Ia),e instanceof _a){if(e instanceof Ma){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>_a.create(e.field,"==",t))))||[];return Ia.create(r,"or")}return e}const r=e.filters.map((e=>Mc(e)));return Ia.create(r,e.op)}function Fc(e){if(0===e.getFilters().length)return[];const t=qc(Mc(e));return zi(Vc(t)),jc(t)||Uc(t)?[t]:t.getFilters()}function jc(e){return e instanceof _a}function Uc(e){return e instanceof Ia&&Ta(e)}function Vc(e){return jc(e)||Uc(e)||function(e){if(e instanceof Ia&&Ea(e)){for(const t of e.getFilters())if(!jc(t)&&!Uc(t))return!1;return!0}return!1}(e)}function qc(e){if(zi(e instanceof _a||e instanceof Ia),e instanceof _a)return e;if(1===e.filters.length)return qc(e.filters[0]);const t=e.filters.map((e=>qc(e)));let n=Ia.create(t,e.op);return n=Kc(n),Vc(n)?n:(zi(n instanceof Ia),zi(Sa(n)),zi(n.filters.length>1),n.filters.reduce(((e,t)=>zc(e,t))))}function zc(e,t){let n;return zi(e instanceof _a||e instanceof Ia),zi(t instanceof _a||t instanceof Ia),n=e instanceof _a?t instanceof _a?function(e,t){return Ia.create([e,t],"and")}(e,t):Bc(e,t):t instanceof _a?Bc(t,e):function(e,t){if(zi(e.filters.length>0&&t.filters.length>0),Sa(e)&&Sa(t))return Aa(e,t.getFilters());const n=Ea(e)?e:t,r=Ea(e)?t:e,i=n.filters.map((e=>zc(e,r)));return Ia.create(i,"or")}(e,t),Kc(n)}function Bc(e,t){if(Sa(t))return Aa(t,e.getFilters());{const n=t.filters.map((t=>zc(e,t)));return Ia.create(n,"or")}}function Kc(e){if(zi(e instanceof _a||e instanceof Ia),e instanceof _a)return e;const t=e.getFilters();if(1===t.length)return Kc(t[0]);if(ka(e))return e;const n=t.map((e=>Kc(e))),r=[];return n.forEach((t=>{t instanceof _a?r.push(t):t instanceof Ia&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Ia.create(r,e.op)}class Gc{constructor(){this.un=new Hc}addToCollectionParentIndex(e,t){return this.un.add(t),Ts.resolve()}getCollectionParents(e,t){return Ts.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Ts.resolve()}deleteFieldIndex(e,t){return Ts.resolve()}deleteAllFieldIndexes(e){return Ts.resolve()}createTargetIndexes(e,t){return Ts.resolve()}getDocumentsMatchingTarget(e,t){return Ts.resolve(null)}getIndexType(e,t){return Ts.resolve(0)}getFieldIndexes(e,t){return Ts.resolve([])}getNextCollectionGroupToUpdate(e){return Ts.resolve(null)}getMinOffset(e,t){return Ts.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,t){return Ts.resolve(ws.min())}updateCollectionGroup(e,t,n){return Ts.resolve()}updateIndexEntries(e,t){return Ts.resolve()}}class Hc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ko(us.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ko(us.comparator)).toArray()}}const Wc=new Uint8Array(0);class Qc{constructor(e,t){this.databaseId=t,this.cn=new Hc,this.ln=new cl((e=>qa(e)),((e,t)=>za(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.cn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.cn.add(t)}));const i={collectionId:n,parent:zs(r)};return $c(e).put(i)}return Ts.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ss(t),""],!1,!0);return $c(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Gs(r.parent))}return n}))}addFieldIndex(e,t){const n=Yc(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Xc(e);return i.next((e=>{n.put(yc(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Yc(e),r=Xc(e),i=Jc(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Yc(e),n=Jc(e),r=Xc(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return Ts.forEach(this.hn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Lc(t).an();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Jc(e);let r=!0;const i=new Map;return Ts.forEach(this.hn(t),(t=>this.Pn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=_l();const r=[];return Ts.forEach(i,((i,s)=>{Fi("IndexedDbIndexManager",`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${qa(t)}`);const o=function(e,t){const n=ps(t);if(void 0===n)return null;for(const r of Ka(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of ms(t))for(const t of Ka(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of ms(t)){const t=0===i.kind?Ga(e,i.fieldPath,e.startAt):Ha(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new ma(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of ms(t)){const t=0===i.kind?Ha(e,i.fieldPath,e.endAt):Ga(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new ma(n,r)}(s,i),c=this.In(i,s,l),h=this.In(i,s,u),d=this.Tn(i,s,a),f=this.En(i.indexId,o,c,l.inclusive,h,u.inclusive,d);return Ts.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=ds.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Ts.resolve(null)}))}hn(e){let t=this.ln.get(e);return t||(t=0===e.filters.length?[e]:Fc(Ia.create(e.filters,"and")).map((t=>Va(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,t),t)}En(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.dn(t[c/l]):Wc,h=this.An(e,a,n[c%l],r),d=this.Rn(e,a,i[c%l],s),f=o.map((t=>this.An(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}An(e,t,n,r){const i=new Rc(e,ds.empty(),t,n);return r?i:i.Zt()}Rn(e,t,n,r){const i=new Rc(e,ds.empty(),t,n);return r?i.Zt():i}Pn(e,t){const n=new Lc(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.rn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.hn(t);return Ts.forEach(r,(t=>this.Pn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new ko(hs.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}Vn(e,t){const n=new Pc;for(const r of ms(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Yt(r.kind);Tc.vt.It(e,i)}return n.zt()}dn(e){const t=new Pc;return Tc.vt.It(e,t.Yt(0)),t.zt()}mn(e,t){const n=new Pc;return Tc.vt.It(Xo(this.databaseId,t),n.Yt(function(e){const t=ms(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.zt()}Tn(e,t,n){if(null===n)return[];let r=[];r.push(new Pc);let i=0;for(const s of ms(e)){const e=n[i++];for(const n of r)if(this.fn(t,s.fieldPath)&&ea(e))r=this.gn(r,s,e);else{const t=n.Yt(s.kind);Tc.vt.It(e,t)}}return this.pn(r)}In(e,t,n){return this.Tn(e,t,n.position)}pn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].zt();return t}gn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Pc;n.seed(e.zt()),Tc.vt.It(s,n.Yt(t.kind)),i.push(n)}return i}fn(e,t){return!!e.filters.find((e=>e instanceof _a&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Yc(e),r=Xc(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return Ts.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new vs(t.sequenceNumber,new ws(hc(t.readTime),new ds(Gs(t.documentKey)),t.largestBatchId)):vs.empty(),r=e.fields.map((e=>{let[t,n]=e;return new gs(hs.fromServerFormat(t),n)}));return new fs(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:rs(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Yc(e),i=Xc(e);return this.yn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Ts.forEach(t,(t=>i.put(yc(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ts.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Ts.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Ts.forEach(i,(n=>this.wn(e,t,n).next((t=>{const i=this.Sn(r,n);return t.isEqual(i)?Ts.resolve():this.bn(e,r,n,t,i)})))))))}))}Dn(e,t,n,r){return Jc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}vn(e,t,n,r){return Jc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}wn(e,t,n){const r=Jc(e);let i=new ko(Oc);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},((e,r)=>{i=i.add(new Rc(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Sn(e,t){let n=new ko(Oc);const r=this.Vn(t,e);if(null==r)return n;const i=ps(t);if(null!=i){const s=e.data.field(i.fieldPath);if(ea(s))for(const i of s.arrayValue.values||[])n=n.add(new Rc(t.indexId,e.key,this.dn(i),r))}else n=n.add(new Rc(t.indexId,e.key,Wc,r));return n}bn(e,t,n,r,i){Fi("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=xo(s),l=xo(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=xo(o)):t?(i(a),a=xo(s)):(a=xo(s),l=xo(o))}}(r,i,Oc,(r=>{s.push(this.Dn(e,t,n,r))}),(r=>{s.push(this.vn(e,t,n,r))})),Ts.waitFor(s)}yn(e){let t=1;return Xc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Oc(e,t))).filter(((e,t,n)=>!t||0!==Oc(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Oc(s,e),i=Oc(s,t);if(0===n)r[0]=e.Zt();else if(n>0&&i<0)r.push(s),r.push(s.Zt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Wc,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Wc,[]];i.push(IDBKeyRange.bound(e,t))}return i}Cn(e,t){return Oc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Zc)}getMinOffset(e,t){return Ts.mapArray(this.hn(t),(t=>this.Pn(e,t).next((e=>e||qi())))).next(Zc)}}function $c(e){return bo(e,"collectionParents")}function Jc(e){return bo(e,"indexEntries")}function Yc(e){return bo(e,"indexConfiguration")}function Xc(e){return bo(e,"indexState")}function Zc(e){zi(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;_s(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ws(t.readTime,t.documentKey,n)}const eh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class th{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new th(e,th.DEFAULT_COLLECTION_PERCENTILE,th.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function nh(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{zi(1===a)})));const u=[];for(const c of n.mutations){const e=Qs(t,c.key.path,n.batchId);s.push(i.delete(e)),u.push(c.key)}return Ts.waitFor(s).next((()=>u))}function rh(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qi();t=e.noDocument}return JSON.stringify(t).length}th.DEFAULT_COLLECTION_PERCENTILE=10,th.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,th.DEFAULT=new th(41943040,th.DEFAULT_COLLECTION_PERCENTILE,th.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),th.DISABLED=new th(-1,0,0);class ih{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Fn={}}static lt(e,t,n,r){zi(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ih(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oh(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=ah(e),s=oh(e);return s.add({}).next((o=>{zi("number"==typeof o);const a=new nu(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Hu(e.ct,t))),i=n.mutations.map((t=>Hu(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new ko(((e,t)=>rs(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Qs(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,$s))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Fn[o]=a.keys()})),Ts.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return oh(e).get(t).next((e=>e?(zi(e.userId===this.userId),dc(this.serializer,e)):null))}Mn(e,t){return this.Fn[t]?Ts.resolve(this.Fn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Fn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return oh(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(zi(t.batchId>=n),i=dc(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return oh(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oh(e).U("userMutationsIndex",t).next((e=>e.map((e=>dc(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ws(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ah(e).J({range:r},((n,r,s)=>{const[o,a,l]=n,u=Gs(a);if(o===this.userId&&t.path.isEqual(u))return oh(e).get(l).next((e=>{if(!e)throw qi();zi(e.userId===this.userId),i.push(dc(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ko(rs);const r=[];return t.forEach((t=>{const i=Ws(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=ah(e).J({range:s},((e,r,i)=>{const[s,o,a]=e,l=Gs(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),Ts.waitFor(r).next((()=>this.xn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ws(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new ko(rs);return ah(e).J({range:s},((e,t,i)=>{const[s,a,l]=e,u=Gs(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.xn(e,o)))}xn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(oh(e).get(t).next((e=>{if(null===e)throw qi();zi(e.userId===this.userId),n.push(dc(this.serializer,e))})))})),Ts.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return nh(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.On(t.batchId)})),Ts.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ts.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return ah(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Gs(e[1]);r.push(t)}else n.done()})).next((()=>{zi(0===r.length)}))}))}containsKey(e,t){return sh(e,this.userId,t)}Nn(e){return lh(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function sh(e,t,n){const r=Ws(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ah(e).J({range:s,H:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function oh(e){return bo(e,"mutations")}function ah(e){return bo(e,"documentMutations")}function lh(e){return bo(e,"mutationQueues")}class uh{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new uh(0)}static kn(){return new uh(-1)}}class ch{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.qn(e).next((t=>{const n=new uh(t.highestTargetId);return t.highestTargetId=n.next(),this.Qn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((e=>as.fromTimestamp(new os(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.qn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Qn(e,r))))}addTargetData(e,t){return this.Kn(e,t).next((()=>this.qn(e).next((n=>(n.targetCount+=1,this.$n(t,n),this.Qn(e,n))))))}updateTargetData(e,t){return this.Kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>hh(e).delete(t.targetId))).next((()=>this.qn(e))).next((t=>(zi(t.targetCount>0),t.targetCount-=1,this.Qn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return hh(e).J(((s,o)=>{const a=fc(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Ts.waitFor(i))).next((()=>r))}forEachTarget(e,t){return hh(e).J(((e,n)=>{const r=fc(n);t(r)}))}qn(e){return dh(e).get("targetGlobalKey").next((e=>(zi(null!==e),e)))}Qn(e,t){return dh(e).put("targetGlobalKey",t)}Kn(e,t){return hh(e).put(pc(this.serializer,t))}$n(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.qn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=qa(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return hh(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=fc(n);za(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=fh(e);return t.forEach((t=>{const s=zs(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Ts.waitFor(r)}removeMatchingKeys(e,t,n){const r=fh(e);return Ts.forEach(t,(t=>{const i=zs(t.path);return Ts.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=fh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fh(e);let i=_l();return r.J({range:n,H:!0},((e,t,n)=>{const r=Gs(e[1]),s=new ds(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=zs(t.path),r=IDBKeyRange.bound([n],[ss(n)],!1,!0);let i=0;return fh(e).J({index:"documentTargetsIndex",H:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}ot(e,t){return hh(e).get(t).next((e=>e?fc(e):null))}}function hh(e){return bo(e,"targets")}function dh(e){return bo(e,"targetGlobal")}function fh(e){return bo(e,"targetDocuments")}function ph(e,t){let[n,r]=e,[i,s]=t;const o=rs(n,i);return 0===o?rs(r,s):o}class mh{constructor(e){this.Un=e,this.buffer=new ko(ph),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ph(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class gh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(e){Fi("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ps(e)?Fi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Es(e)}await this.Hn(3e5)}))}}class vh{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Ts.resolve(js.oe);const n=new mh(t);return this.Jn.forEachTarget(e,(e=>n.zn(e.sequenceNumber))).next((()=>this.Jn.Zn(e,(e=>n.zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fi("LruGarbageCollector","Garbage collection skipped; disabled"),Ts.resolve(eh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Fi("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eh):this.Xn(e,t)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Fi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Mi()<=Dn.DEBUG&&Fi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),Ts.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function yh(e,t){return new vh(e,t)}class bh{constructor(e,t){this.db=e,this.garbageCollector=yh(this,t)}Yn(e){const t=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}er(e){let t=0;return this.Zn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Zn(e,t){return this.tr(e,((e,n)=>t(n)))}addReference(e,t,n){return wh(e,n)}removeReference(e,t,n){return wh(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return wh(e,t)}nr(e,t){return function(e,t){let n=!1;return lh(e).Y((r=>sh(e,r,t).next((e=>(e&&(n=!0),Ts.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.tr(e,((s,o)=>{if(o<=t){const t=this.nr(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,as.min()),fh(e).delete(function(e){return[0,zs(e.path)]}(s)))))}));r.push(t)}})).next((()=>Ts.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return wh(e,t)}tr(e,t){const n=fh(e);let r,i=js.oe;return n.J({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==js.oe&&t(new ds(Gs(r)),i),i=l,r=a):i=js.oe})).next((()=>{i!==js.oe&&t(new ds(Gs(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function wh(e,t){return fh(e).put(function(e,t){return{targetId:0,path:zs(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class _h{constructor(){this.changes=new cl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ts.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ih{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return kh(e).put(n)}removeEntry(e,t,n){return kh(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],uc(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.rr(e,n))))}getEntry(e,t){let n=pa.newInvalidDocument(t);return kh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ch(t))},((e,r)=>{n=this.ir(t,r)})).next((()=>n))}sr(e,t){let n={size:0,document:pa.newInvalidDocument(t)};return kh(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ch(t))},((e,r)=>{n={document:this.ir(t,r),size:rh(r)}})).next((()=>n))}getEntries(e,t){let n=dl();return this._r(e,t,((e,t)=>{const r=this.ir(e,t);n=n.insert(e,r)})).next((()=>n))}ar(e,t){let n=dl(),r=new So(ds.comparator);return this._r(e,t,((e,t)=>{const i=this.ir(e,t);n=n.insert(e,i),r=r.insert(e,rh(t))})).next((()=>({documents:n,ur:r})))}_r(e,t,n){if(t.isEmpty())return Ts.resolve();let r=new ko(Ah);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Ch(r.first()),Ch(r.last())),s=r.getIterator();let o=s.getNext();return kh(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=ds.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Ah(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.$(Ch(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),uc(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return kh(e).U(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=dl();for(const i of e){const e=this.ir(ds.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(ol(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=dl();const s=xh(t,n),o=xh(t,ws.max());return kh(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.ir(ds.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Eh(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Th(e).get("remoteDocumentGlobalKey").next((e=>(zi(!!e),e)))}rr(e,t){return Th(e).put("remoteDocumentGlobalKey",t)}ir(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Gu(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=ds.fromSegments(t.noDocument.path),r=hc(t.noDocument.readTime);n=pa.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return qi();{const e=ds.fromSegments(t.unknownDocument.path),r=hc(t.unknownDocument.version);n=pa.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new os(e[0],e[1]);return as.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(as.min()))return e}return pa.newInvalidDocument(e)}}function Sh(e){return new Ih(e)}class Eh extends _h{constructor(e,t){super(),this.cr=e,this.trackRemovals=t,this.lr=new cl((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new ko(((e,t)=>rs(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.lr.get(i);if(t.push(this.cr.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=lc(this.cr.serializer,s);r=r.add(i.path.popLast());const l=rh(a);n+=l-o.size,t.push(this.cr.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=lc(this.cr.serializer,s.convertToNoDocument(as.min()));t.push(this.cr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.cr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.cr.updateMetadata(e,n)),Ts.waitFor(t)}getFromCache(e,t){return this.cr.sr(e,t).next((e=>(this.lr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.cr.ar(e,t).next((e=>{let{documents:t,ur:n}=e;return n.forEach(((e,n)=>{this.lr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Th(e){return bo(e,"remoteDocumentGlobal")}function kh(e){return bo(e,"remoteDocumentsV14")}function Ch(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xh(e,t){const n=t.documentKey.path.toArray();return[e,uc(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ah(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=rs(n[s],r[s]),i)return i;return i=rs(n.length,r.length),i||(i=rs(n[n.length-2],r[r.length-2]),i||rs(n[n.length-1],r[r.length-1]))}class Nh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ph{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Hl(n.mutation,e,Ao.empty(),os.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,_l()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_l();const r=gl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=pl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=gl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,_l())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=dl();const s=yl(),o=yl();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Jl)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Hl(o.mutation,t,o.mutation.getFieldMask(),os.now())):s.set(t.key,Ao.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Nh(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=yl();let r=new So(((e,t)=>e-t)),i=_l();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Ao.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||_l()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=vl();l.forEach((e=>{if(!i.has(e)){const r=Kl(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Ts.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ds.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ya(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Ts.resolve(gl());let o=-1,a=i;return s.next((t=>Ts.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Ts.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,_l()))).next((e=>({batchId:o,changes:ml(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ds(t)).next((e=>{let t=pl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=pl();return this.indexManager.getCollectionParents(e,i).next((o=>Ts.forEach(o,(o=>{const a=function(e,t){return new Wa(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,pa.newInvalidDocument(r)))}));let n=pl();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Hl(s.mutation,r,Ao.empty(),os.now()),ol(t,r)&&(n=n.insert(e,r))})),n}))}}class Rh{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Ts.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Du(e.createTime)}}(t)),Ts.resolve()}getNamedQuery(e,t){return Ts.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:mc(e.bundledQuery),readTime:Du(e.readTime)}}(t)),Ts.resolve()}}class Oh{constructor(){this.overlays=new So(ds.comparator),this.Ir=new Map}getOverlay(e,t){return Ts.resolve(this.overlays.get(t))}getOverlays(e,t){const n=gl();return Ts.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Ts.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),Ts.resolve()}getOverlaysForCollection(e,t,n){const r=gl(),i=t.length+1,s=new ds(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ts.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new So(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=gl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=gl(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Ts.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new iu(t,n));let i=this.Ir.get(t);void 0===i&&(i=_l(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class Dh{constructor(){this.sessionToken=Po.EMPTY_BYTE_STRING}getSessionToken(e){return Ts.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ts.resolve()}}class Lh{constructor(){this.Tr=new ko(Mh.Er),this.dr=new ko(Mh.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Mh(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new Mh(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new ds(new us([])),n=new Mh(t,e),r=new Mh(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ds(new us([])),n=new Mh(t,e),r=new Mh(t,e+1);let i=_l();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Mh(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Mh{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ds.comparator(e.key,t.key)||rs(e.wr,t.wr)}static Ar(e,t){return rs(e.wr,t.wr)||ds.comparator(e.key,t.key)}}class Fh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new ko(Mh.Er)}checkEmpty(e){return Ts.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new nu(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.br=this.br.add(new Mh(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ts.resolve(s)}lookupMutationBatch(e,t){return Ts.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return Ts.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ts.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Ts.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Mh(t,0),r=new Mh(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),Ts.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ko(rs);return t.forEach((e=>{const t=new Mh(e,0),r=new Mh(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),Ts.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ds.isDocumentKey(i)||(i=i.child(""));const s=new Mh(new ds(i),0);let o=new ko(rs);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.wr)),!0)}),s),Ts.resolve(this.Cr(o))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){zi(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Ts.forEach(t.mutations,(r=>{const i=new Mh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Mh(t,0),r=this.br.firstAfterOrEqual(n);return Ts.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ts.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jh{constructor(e){this.Mr=e,this.docs=new So(ds.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ts.resolve(n?n.document.mutableCopy():pa.newInvalidDocument(t))}getEntries(e,t){let n=dl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():pa.newInvalidDocument(e))})),Ts.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=dl();const s=t.path,o=new ds(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||_s(bs(o),n)<=0||(r.has(o.key)||ol(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Ts.resolve(i)}getAllFromCollectionGroup(e,t,n,r){qi()}Or(e,t){return Ts.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Uh(this)}getSize(e){return Ts.resolve(this.size)}}class Uh extends _h{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),Ts.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Vh{constructor(e){this.persistence=e,this.Nr=new cl((e=>qa(e)),za),this.lastRemoteSnapshotVersion=as.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Lh,this.targetCount=0,this.kr=uh.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),Ts.resolve()}getLastRemoteSnapshotVersion(e){return Ts.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ts.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ts.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Ts.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new uh(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Ts.resolve()}updateTargetData(e,t){return this.Kn(t),Ts.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Ts.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Ts.waitFor(i).next((()=>r))}getTargetCount(e){return Ts.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Ts.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Ts.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Ts.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Ts.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Ts.resolve(n)}containsKey(e,t){return Ts.resolve(this.Br.containsKey(t))}}class qh{constructor(e,t){this.qr={},this.overlays={},this.Qr=new js(0),this.Kr=!1,this.Kr=!0,this.$r=new Dh,this.referenceDelegate=e(this),this.Ur=new Vh(this),this.indexManager=new Gc,this.remoteDocumentCache=function(e){return new jh(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new ac(t),this.Gr=new Rh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Oh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Fh(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Fi("MemoryPersistence","Starting transaction:",e);const r=new zh(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return Ts.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class zh extends Ss{constructor(e){super(),this.currentSequenceNumber=e}}class Bh{constructor(e){this.persistence=e,this.Jr=new Lh,this.Yr=null}static Zr(e){return new Bh(e)}get Xr(){if(this.Yr)return this.Yr;throw qi()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Ts.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Ts.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Ts.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ts.forEach(this.Xr,(n=>{const r=ds.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,as.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return Ts.or([()=>Ts.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Kh{constructor(e,t){this.persistence=e,this.ti=new cl((e=>zs(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=yh(this,t)}static Zr(e,t){return new Kh(e,t)}zr(){}jr(e){return Ts.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Yn(e){const t=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}er(e){let t=0;return this.Zn(e,(e=>{t++})).next((()=>t))}Zn(e,t){return Ts.forEach(this.ti,((n,r)=>this.nr(e,n,r).next((e=>e?Ts.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Or(e,(r=>this.nr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,as.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ti.set(t,e.currentSequenceNumber),Ts.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ti.set(n,e.currentSequenceNumber),Ts.resolve()}removeReference(e,t,n){return this.ti.set(n,e.currentSequenceNumber),Ts.resolve()}updateLimboDocument(e,t){return this.ti.set(t,e.currentSequenceNumber),Ts.resolve()}Wr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Yo(e.data.value)),t}nr(e,t,n){return Ts.or([()=>this.persistence.Hr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ti.get(t);return Ts.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gh{constructor(e){this.serializer=e}O(e,t,n,r){const i=new ks("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hs,{unique:!0}),e.createObjectStore("documentMutations")}(e),Hh(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Ts.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Hh(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:as.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Hs,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Ts.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.ni(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ri(i))))),n<7&&r>=7&&(s=s.next((()=>this.ii(i)))),n<8&&r>=8&&(s=s.next((()=>this.si(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.oi(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:ao});t.createIndex("collectionPathOverlayIndex",lo,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",uo,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Js});t.createIndex("documentKeyIndex",Ys),t.createIndex("collectionGroupIndex",Xs)}(e))).next((()=>this._i(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ai(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ro}).createIndex("sequenceNumberIndex",io,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:so}).createIndex("documentKeyIndex",oo,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),n<17&&r>=17&&(s=s.next((()=>{!function(e){e.createObjectStore("globals",{keyPath:"name"})}(e)}))),s}ri(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=rh(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}ni(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>Ts.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>Ts.forEach(n,(n=>{zi(n.userId===t.userId);const r=dc(this.serializer,n);return nh(e,t.userId,r).next((()=>{}))}))))}))))}ii(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const s=new us(n),o=function(e){return[0,zs(e)]}(s);r.push(t.get(o).next((n=>n?Ts.resolve():(n=>t.put({targetId:0,path:zs(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Ts.waitFor(r)))}))}si(e,t){e.createObjectStore("collectionParents",{keyPath:no});const n=t.store("collectionParents"),r=new Hc,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:zs(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new us(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},((e,t)=>{let[n,r,s]=e;const o=Gs(r);return i(o.popLast())}))))}oi(e){const t=e.store("targets");return t.J(((e,n)=>{const r=fc(n),i=pc(this.serializer,r);return t.put(i)}))}_i(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new ds(us.fromString(e.document.name).popFirst(5)):e.noDocument?ds.fromSegments(e.noDocument.path):e.unknownDocument?ds.fromSegments(e.unknownDocument.path):qi()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>Ts.waitFor(r)))}ai(e,t){const n=t.store("mutations"),r=Sh(this.serializer),i=new qh(Bh.Zr,this.serializer.ct);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:_l();dc(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Ts.forEach(n,((e,n)=>{const s=new Oi(n),o=Ic.lt(this.serializer,s),a=i.getIndexManager(s),l=ih.lt(s,this.serializer,a,i.referenceDelegate);return new Ph(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new yo(t,js.oe),e).next()}))}))}}function Hh(e){e.createObjectStore("targetDocuments",{keyPath:eo}).createIndex("documentTargetsIndex",to,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Zs,{unique:!0}),e.createObjectStore("targetGlobal")}const Wh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qh{constructor(e,t,n,r,i,s,o,a,l,u){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ui=i,this.window=s,this.document=o,this.ci=l,this.li=u,this.hi=c,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=e=>Promise.resolve(),!Qh.D())throw new Gi(Ki.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bh(this,r),this.Ai=t+"main",this.serializer=new ac(a),this.Ri=new Cs(this.Ai,this.hi,new Gh(this.serializer)),this.$r=new Ec,this.Ur=new ch(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Sh(this.serializer),this.Gr=new bc,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===u&&ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Gi(Ki.FAILED_PRECONDITION,Wh);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new js(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Jh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((t=>this.isPrimary&&!t?this.bi(e).next((()=>!1)):!!t&&this.Di(e).next((()=>!0)))))).catch((e=>{if(Ps(e))return Fi("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return $h(e).get("owner").next((e=>Ts.resolve(this.vi(e))))}Ci(e){return Jh(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=bo(e,"clientMetadata");return t.U().next((e=>{const n=this.xi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Ts.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Vi)for(const t of e)this.Vi.removeItem(this.Oi(t.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Ts.resolve(!0):$h(e).get("owner").next((t=>{if(null!==t&&this.Mi(t.leaseTimestampMs,5e3)&&!this.Ni(t.ownerId)){if(this.vi(t)&&this.networkEnabled)return!0;if(!this.vi(t)){if(!t.allowTabSynchronization)throw new Gi(Ki.FAILED_PRECONDITION,Wh);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jh(e).U().next((e=>void 0===this.xi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Fi("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new yo(e,js.oe);return this.bi(t).next((()=>this.Ci(t)))})),this.Ri.close(),this.qi()}xi(e,t){return e.filter((e=>this.Mi(e.updateTimeMs,t)&&!this.Ni(e.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>Jh(e).U().next((e=>this.xi(e,18e5).map((e=>e.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,t){return ih.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Qc(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Ic.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,t,n){Fi("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?vo:16===e?go:15===e?mo:14===e?po:13===e?fo:12===e?ho:11===e?co:void qi()}(this.hi);let s;return this.Ri.runTransaction(e,r,i,(r=>(s=new yo(r,this.Qr?this.Qr.next():js.oe),"readwrite-primary"===t?this.wi(s).next((e=>!!e||this.Si(s))).next((t=>{if(!t)throw ji(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new Gi(Ki.FAILED_PRECONDITION,Is);return n(s)})).next((e=>this.Di(s).next((()=>e)))):this.Ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Ki(e){return $h(e).get("owner").next((e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Gi(Ki.FAILED_PRECONDITION,Wh)}))}Di(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $h(e).put("owner",t)}static D(){return Cs.D()}bi(e){const t=$h(e);return t.get("owner").next((e=>this.vi(e)?(Fi("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Ts.resolve()))}Mi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(ji(`Detected an update time that is in the future: ${e} > ${n}`),!1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;pn()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var t;try{const n=null!==(null===(t=this.Vi)||void 0===t?void 0:t.getItem(this.Oi(e)));return Fi("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return ji("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(KS){ji("Failed to set zombie client id.",KS)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch(KS){}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function $h(e){return bo(e,"owner")}function Jh(e){return bo(e,"clientMetadata")}function Yh(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Xh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=_l(),r=_l();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Xh(e,t.fromCache,n,r)}}class Zh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ed{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=pn()?8:xs(ln())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Zh;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(Mi()<=Dn.DEBUG&&Fi("QueryEngine","SDK will not create cache indexes for query:",sl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ts.resolve()):(Mi()<=Dn.DEBUG&&Fi("QueryEngine","Query:",sl(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Mi()<=Dn.DEBUG&&Fi("QueryEngine","The SDK decides to create cache indexes for query:",sl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Za(t))):Ts.resolve())}Yi(e,t){if(Ja(t))return Ts.resolve(null);let n=Za(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=nl(t,null,"F"),n=Za(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=_l(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,nl(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return Ja(t)||r.isEqual(as.min())?Ts.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?Ts.resolve(null):(Mi()<=Dn.DEBUG&&Fi("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sl(t)),this.rs(e,s,t,ys(r,-1)).next((e=>e)))}))}ts(e,t){let n=new ko(ll(e));return t.forEach(((t,r)=>{ol(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return Mi()<=Dn.DEBUG&&Fi("QueryEngine","Using full collection scan to execute query:",sl(t)),this.Ji.getDocumentsMatchingQuery(e,t,ws.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class td{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new So(rs),this._s=new cl((e=>qa(e)),za),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ph(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function nd(e,t,n,r){return new td(e,t,n,r)}async function rd(e,t){const n=Bi(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=_l();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function id(e){const t=Bi(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function sd(e,t,n){let r=_l(),i=_l();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=dl();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(as.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Fi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function od(e,t){const n=Bi(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ad(e,t){const n=Bi(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,Ts.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new oc(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function ld(e,t,n){const r=Bi(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ps(e))throw e;Fi("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function ud(e,t,n){const r=Bi(e);let i=as.min(),s=_l();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Bi(e),i=r._s.get(n);return void 0!==i?Ts.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Za(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:as.min(),n?s:_l()))).next((e=>(dd(r,al(t),e),{documents:e,Ts:s})))))}function cd(e,t){const n=Bi(e),r=Bi(n.Ur),i=n.os.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function hd(e,t){const n=Bi(e),r=n.us.get(t)||as.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.cs.getAllFromCollectionGroup(e,t,ys(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(dd(n,t,e),e)))}function dd(e,t,n){let r=e.us.get(t)||as.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}async function fd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_l();const r=await ad(e,Za(mc(t.bundledQuery))),i=Bi(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Du(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Gr.saveNamedQuery(e,t);const o=r.withResumeToken(Po.EMPTY_BYTE_STRING,s);return i.os=i.os.insert(o.targetId,o),i.Ur.updateTargetData(e,o).next((()=>i.Ur.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Ur.addMatchingKeys(e,n,r.targetId))).next((()=>i.Gr.saveNamedQuery(e,t)))}))}function pd(e,t){return`firestore_clients_${e}_${t}`}function md(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function gd(e,t){return`firestore_targets_${e}_${t}`}class vd{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Rs(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Gi(r.error.code,r.error.message))),s?new vd(e,t,r.state,i):(ji("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yd{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Rs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Gi(n.error.code,n.error.message))),i?new yd(e,n.state,r):(ji("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Rs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Sl();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=qs(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new bd(e,i):(ji("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class wd{constructor(e,t){this.clientId=e,this.onlineState=t}static Rs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wd(t.clientId,t.onlineState):(ji("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _d{constructor(){this.activeTargetIds=Sl()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Id{constructor(e,t,n,r,i){this.window=e,this.ui=t,this.persistenceKey=n,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new So(rs),this.started=!1,this.bs=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ds=pd(this.persistenceKey,this.ps),this.vs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new _d),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Os=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const n of e){if(n===this.ps)continue;const e=this.getItem(pd(this.persistenceKey,n));if(e){const t=bd.Rs(n,e);t&&(this.Ss=this.Ss.insert(t.clientId,t))}}this.Ns();const t=this.storage.getItem(this.xs);if(t){const e=this.Ls(t);e&&this.Bs(e)}for(const n of this.bs)this.ws(n);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let t=!1;return this.Ss.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,t,n){this.qs(e,t,n),this.Qs(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(gd(this.persistenceKey,e));if(t){const r=yd.Rs(e,t);r&&(n=r.state)}}return t&&this.Ks.fs(e),this.Ns(),n}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(gd(this.persistenceKey,e))}updateQueryState(e,t,n){this.$s(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Qs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fi("SharedClientState","READ",e,t),t}setItem(e,t){Fi("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fi("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const t=e;if(t.storageArea===this.storage){if(Fi("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Ds)return void ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Cs.test(t.key)){if(null==t.newValue){const e=this.Gs(t.key);return this.zs(e,null)}{const e=this.js(t.key,t.newValue);if(e)return this.zs(e.clientId,e)}}else if(this.Fs.test(t.key)){if(null!==t.newValue){const e=this.Hs(t.key,t.newValue);if(e)return this.Js(e)}}else if(this.Ms.test(t.key)){if(null!==t.newValue){const e=this.Ys(t.key,t.newValue);if(e)return this.Zs(e)}}else if(t.key===this.xs){if(null!==t.newValue){const e=this.Ls(t.newValue);if(e)return this.Bs(e)}}else if(t.key===this.vs){const e=function(e){let t=js.oe;if(null!=e)try{const n=JSON.parse(e);zi("number"==typeof n),t=n}catch(e){ji("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==js.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Os){const e=this.Xs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.eo(e))))}}else this.bs.push(t)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,t,n){const r=new vd(this.currentUser,e,t,n),i=md(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Vs())}Qs(e){const t=md(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Us(e){const t={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(t))}$s(e,t,n){const r=gd(this.persistenceKey,e),i=new yd(e,t,n);this.setItem(r,i.Vs())}Ws(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Os,t)}Gs(e){const t=this.Cs.exec(e);return t?t[1]:null}js(e,t){const n=this.Gs(e);return bd.Rs(n,t)}Hs(e,t){const n=this.Fs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return vd.Rs(new Oi(i),r,t)}Ys(e,t){const n=this.Ms.exec(e),r=Number(n[1]);return yd.Rs(r,t)}Ls(e){return wd.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Fi("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,t){const n=t?this.Ss.insert(e,t):this.Ss.remove(e),r=this.ks(this.Ss),i=this.ks(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.io(s,o).then((()=>{this.Ss=n}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let t=Sl();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Sd{constructor(){this.so=new _d,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _d,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ed{_o(e){}shutdown(){}}class Td{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Fi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Fi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kd=null;function Cd(){return null===kd?kd=268435456+Math.round(2147483648*Math.random()):kd++,"0x"+kd.toString(16)}const xd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ad{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Nd="WebChannelConnection";class Pd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=Cd(),o=this.xo(e,t.toUriEncodedString());Fi("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(a,r,i),this.No(e,o,a,n).then((t=>(Fi("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw Ui("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Di,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=xd[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Cd();return new Promise(((s,o)=>{const a=new Ii;a.setWithCredentials(!0),a.listenOnce(Ei.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ti.NO_ERROR:const t=a.getResponseJson();Fi(Nd,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Ti.TIMEOUT:Fi(Nd,`RPC '${e}' ${i} timed out`),o(new Gi(Ki.DEADLINE_EXCEEDED,"Request time out"));break;case Ti.HTTP_ERROR:const n=a.getStatus();if(Fi(Nd,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ki).indexOf(t)>=0?t:Ki.UNKNOWN}(t.status);o(new Gi(e,t.message))}else o(new Gi(Ki.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Gi(Ki.UNAVAILABLE,"Connection failed."));break;default:qi()}}finally{Fi(Nd,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Fi(Nd,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=Cd(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Ai(),o=xi(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Oo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Fi(Nd,`Creating RPC '${e}' stream ${r}: ${u}`,a);const c=s.createWebChannel(u,a);let h=!1,d=!1;const f=new Ad({Io:t=>{d?Fi(Nd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(Fi(Nd,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),Fi(Nd,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},To:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Si.EventType.OPEN,(()=>{d||(Fi(Nd,`RPC '${e}' stream ${r} transport opened.`),f.yo())})),p(c,Si.EventType.CLOSE,(()=>{d||(d=!0,Fi(Nd,`RPC '${e}' stream ${r} transport closed`),f.So())})),p(c,Si.EventType.ERROR,(t=>{d||(d=!0,Ui(Nd,`RPC '${e}' stream ${r} transport errored:`,t),f.So(new Gi(Ki.UNAVAILABLE,"The operation could not be completed")))})),p(c,Si.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];zi(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Fi(Nd,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=ou[e];if(void 0!==t)return uu(t)}(t),i=o.message;void 0===n&&(n=Ki.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.So(new Gi(n,i)),c.close()}else Fi(Nd,`RPC '${e}' stream ${r} received:`,i),f.bo(i)}})),p(o,Ci.STAT_EVENT,(t=>{t.stat===ki.PROXY?Fi(Nd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===ki.NOPROXY&&Fi(Nd,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.wo()}),0),f}}function Rd(){return"undefined"!=typeof window?window:null}function Od(){return"undefined"!=typeof document?document:null}function Dd(e){return new Au(e,!0)}class Ld{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Fi("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Md{constructor(e,t,n,r,i,s,o,a){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ld(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Ki.RESOURCE_EXHAUSTED?(ji(t.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Ki.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new Gi(Ki.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return Fi("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(Fi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fd extends Md{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qi()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(zi(void 0===t||"string"==typeof t),Po.fromBase64String(t||"")):(zi(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Po.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ki.UNKNOWN:uu(e.code);return new Gi(t,e.message||"")}(o);n=new _u(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uu(e,r.document.name),s=Du(r.document.updateTime),o=r.document.createTime?Du(r.document.createTime):as.min(),a=new da({mapValue:{fields:r.document.fields}}),l=pa.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new bu(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Uu(e,r.document),s=r.readTime?Du(r.readTime):as.min(),o=pa.newNoDocument(i,s),a=r.removedTargetIds||[];n=new bu([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Uu(e,r.document),s=r.removedTargetIds||[];n=new bu([],s,i,null)}else{if(!("filter"in t))return qi();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new su(r,i),o=e.targetId;n=new wu(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return as.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?as.min():t.readTime?Du(t.readTime):as.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=zu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ba(r)?{documents:Qu(e,r)}:{query:$u(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ru(e,t.resumeToken);const r=Nu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(as.min())>0){n.readTime=Pu(e,t.snapshotVersion.toTimestamp());const r=Nu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qi()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=zu(this.serializer),t.removeTarget=e,this.a_(t)}}class jd extends Md{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return zi(!!e.streamToken),this.lastStreamToken=e.streamToken,zi(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){zi(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(zi(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Du(e.updateTime):Du(t);return n.isEqual(as.min())&&(n=Du(t)),new Vl(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Du(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=zu(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Hu(this.serializer,e)))};this.a_(t)}}class Ud extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Gi(Ki.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Mo(e,Mu(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ki.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gi(Ki.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Lo(e,Mu(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ki.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gi(Ki.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class Vd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ji(t),this.D_=!1):Fi("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class qd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Jd(this)&&(Fi("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Bi(e);t.L_.add(4),await Bd(t),t.q_.set("Unknown"),t.L_.delete(4),await zd(t)}(this))}))})),this.q_=new Vd(n,r)}}async function zd(e){if(Jd(e))for(const t of e.B_)await t(!0)}async function Bd(e){for(const t of e.B_)await t(!1)}function Kd(e,t){const n=Bi(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),$d(n)?Qd(n):gf(n).r_()&&Hd(n,t))}function Gd(e,t){const n=Bi(e),r=gf(n);n.N_.delete(t),r.r_()&&Wd(n,t),0===n.N_.size&&(r.r_()?r.o_():Jd(n)&&n.q_.set("Unknown"))}function Hd(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(as.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gf(e).A_(t)}function Wd(e,t){e.Q_.xe(t),gf(e).R_(t)}function Qd(e){e.Q_=new Su({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),gf(e).start(),e.q_.v_()}function $d(e){return Jd(e)&&!gf(e).n_()&&e.N_.size>0}function Jd(e){return 0===Bi(e).L_.size}function Yd(e){e.Q_=void 0}async function Xd(e){e.q_.set("Online")}async function Zd(e){e.N_.forEach(((t,n)=>{Hd(e,t)}))}async function ef(e,t){Yd(e),$d(e)?(e.q_.M_(t),Qd(e)):e.q_.set("Unknown")}async function tf(e,t,n){if(e.q_.set("Online"),t instanceof _u&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Fi("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await nf(e,n)}else if(t instanceof bu?e.Q_.Ke(t):t instanceof wu?e.Q_.He(t):e.Q_.We(t),!n.isEqual(as.min()))try{const t=await id(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Po.EMPTY_BYTE_STRING,r.snapshotVersion)),Wd(e,t);const i=new oc(r.target,t,n,r.sequenceNumber);Hd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Fi("RemoteStore","Failed to raise snapshot:",t),await nf(e,t)}}async function nf(e,t,n){if(!Ps(t))throw t;e.L_.add(1),await Bd(e),e.q_.set("Offline"),n||(n=()=>id(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Fi("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await zd(e)}))}function rf(e,t){return t().catch((n=>nf(e,n,t)))}async function sf(e){const t=Bi(e),n=vf(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;of(t);)try{const e=await od(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,af(t,e)}catch(e){await nf(t,e)}lf(t)&&uf(t)}function of(e){return Jd(e)&&e.O_.length<10}function af(e,t){e.O_.push(t);const n=vf(e);n.r_()&&n.V_&&n.m_(t.mutations)}function lf(e){return Jd(e)&&!vf(e).n_()&&e.O_.length>0}function uf(e){vf(e).start()}async function cf(e){vf(e).p_()}async function hf(e){const t=vf(e);for(const n of e.O_)t.m_(n.mutations)}async function df(e,t,n){const r=e.O_.shift(),i=ru.from(r,t,n);await rf(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await sf(e)}async function ff(e,t){t&&vf(e).V_&&await async function(e,t){if(function(e){return lu(e)&&e!==Ki.ABORTED}(t.code)){const n=e.O_.shift();vf(e).s_(),await rf(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await sf(e)}}(e,t),lf(e)&&uf(e)}async function pf(e,t){const n=Bi(e);n.asyncQueue.verifyOperationInProgress(),Fi("RemoteStore","RemoteStore received new credentials");const r=Jd(n);n.L_.add(3),await Bd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await zd(n)}async function mf(e,t){const n=Bi(e);t?(n.L_.delete(2),await zd(n)):t||(n.L_.add(2),await Bd(n),n.q_.set("Unknown"))}function gf(e){return e.K_||(e.K_=function(e,t,n){const r=Bi(e);return r.w_(),new Fd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Xd.bind(null,e),Ro:Zd.bind(null,e),mo:ef.bind(null,e),d_:tf.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),$d(e)?Qd(e):e.q_.set("Unknown")):(await e.K_.stop(),Yd(e))}))),e.K_}function vf(e){return e.U_||(e.U_=function(e,t,n){const r=Bi(e);return r.w_(),new jd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:cf.bind(null,e),mo:ff.bind(null,e),f_:hf.bind(null,e),g_:df.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await sf(e)):(await e.U_.stop(),e.O_.length>0&&(Fi("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class yf{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new yf(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gi(Ki.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bf(e,t){if(ji("AsyncQueue",`${t}: ${e}`),Ps(e))return new Gi(Ki.UNAVAILABLE,`${t}: ${e}`);throw e}class wf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ds.comparator(t.key,n.key):(e,t)=>ds.comparator(e.key,t.key),this.keyedMap=pl(),this.sortedSet=new So(this.comparator)}static emptySet(e){return new wf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _f{constructor(){this.W_=new So(ds.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):qi():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class If{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new If(e,t,wf.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Sf{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class Ef{constructor(){this.queries=Tf(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Bi(e),r=n.queries;n.queries=Tf(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new Gi(Ki.ABORTED,"Firestore shutting down"))}}function Tf(){return new cl((e=>il(e)),rl)}async function kf(e,t){const n=Bi(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new Sf,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=bf(e,`Initialization of query '${sl(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Nf(n)}async function Cf(e,t){const n=Bi(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xf(e,t){const n=Bi(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Nf(n)}function Af(e,t,n){const r=Bi(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function Nf(e){e.Y_.forEach((e=>{e.next()}))}var Pf,Rf;(Rf=Pf||(Pf={})).ea="default",Rf.Cache="cache";class Of{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new If(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=If.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Pf.Cache}}class Df{constructor(e,t){this.aa=e,this.byteLength=t}ua(){return"metadata"in this.aa}}class Lf{constructor(e){this.serializer=e}Es(e){return Uu(this.serializer,e)}ds(e){return e.metadata.exists?Gu(this.serializer,e.document,!1):pa.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Du(e)}}class Mf{constructor(e,t,n){this.ca=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ff(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++t;const n=us.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ha(e){const t=new Map,n=new Lf(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Es(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||_l()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Bi(e);let s=_l(),o=dl();for(const u of n){const e=t.Es(u.metadata.name);u.document&&(s=s.add(e));const n=t.ds(u);n.setReadTime(t.As(u.metadata.readTime)),o=o.insert(e,n)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),l=await ad(i,function(e){return Za($a(us.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>sd(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Ur.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Ur.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Ps,t.Is))).next((()=>t.Ps))))))}(this.localStore,new Lf(this.serializer),this.documents,this.ca.id),t=this.ha(this.documents);for(const n of this.queries)await fd(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function Ff(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class jf{constructor(e){this.key=e}}class Uf{constructor(e){this.key=e}}class Vf{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_l(),this.mutatedKeys=_l(),this.Aa=ll(e),this.Ra=new wf(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new _f,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=ol(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ga(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Aa(c,a)>0||l&&this.Aa(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:o,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qi()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const o=t&&!r?this.ya():[],a=0===this.da.size&&this.current&&!r?1:0,l=a!==this.Ea;return this.Ea=a,0!==s.length||l?{snapshot:new If(this.query,e.Ra,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new _f,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_l(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Uf(e))})),this.da.forEach((n=>{e.has(n)||t.push(new jf(n))})),t}ba(e){this.Ta=e.Ts,this.da=_l();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return If.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class qf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zf{constructor(e){this.key=e,this.va=!1}}class Bf{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new cl((e=>il(e)),rl),this.Ma=new Map,this.xa=new Set,this.Oa=new So(ds.comparator),this.Na=new Map,this.La=new Lh,this.Ba={},this.ka=new Map,this.qa=uh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Kf(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=bp(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Hf(r,t,n,!0),i}async function Gf(e,t){const n=bp(e);await Hf(n,t,!0,!1)}async function Hf(e,t,n,r){const i=await ad(e.localStore,Za(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Wf(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Kd(e.remoteStore,i),a}async function Wf(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await ud(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return sp(e,t.targetId,a.wa),a.snapshot}(e,t,n,r);const s=await ud(e.localStore,t,!0),o=new Vf(t,s.Ts),a=o.ma(s.documents),l=yu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);sp(e,n,u.wa);const c=new qf(t,n,o);return e.Fa.set(t,c),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),u.snapshot}async function Qf(e,t,n){const r=Bi(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!rl(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ld(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gd(r.remoteStore,i.targetId),rp(r,i.targetId)})).catch(Es)):(rp(r,i.targetId),await ld(r.localStore,i.targetId,!0))}async function $f(e,t){const n=Bi(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gd(n.remoteStore,r.targetId))}async function Jf(e,t){const n=Bi(e);try{const e=await function(e,t){const n=Bi(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Po.EMPTY_BYTE_STRING,as.min()).withLastLimboFreeSnapshotVersion(as.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Ur.updateTargetData(e,u))}));let a=dl(),l=_l();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(sd(e,s,t.documentUpdates).next((e=>{a=e.Ps,l=e.Is}))),!r.isEqual(as.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Ts.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(zi(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?zi(r.va):e.removedDocuments.size>0&&(zi(r.va),r.va=!1))})),await lp(n,e,t)}catch(e){await Es(e)}}function Yf(e,t,n){const r=Bi(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Bi(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&Nf(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Xf(e,t,n){const r=Bi(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new So(ds.comparator);e=e.insert(s,pa.newNoDocument(s,as.min()));const n=_l().add(s),i=new vu(as.min(),new Map,new So(rs),e,n);await Jf(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),ap(r)}else await ld(r.localStore,t,!1).then((()=>rp(r,t,n))).catch(Es)}async function Zf(e,t){const n=Bi(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Bi(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Ts.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);zi(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=_l();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);np(n,r,null),tp(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lp(n,e)}catch(e){await Es(e)}}async function ep(e,t,n){const r=Bi(e);try{const e=await function(e,t){const n=Bi(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(zi(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);np(r,t,n),tp(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await lp(r,e)}catch(n){await Es(n)}}function tp(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function np(e,t,n){const r=Bi(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function rp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||ip(e,t)}))}function ip(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Gd(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),ap(e))}function sp(e,t,n){for(const r of n)r instanceof jf?(e.La.addReference(r.key,t),op(e,r)):r instanceof Uf?(Fi("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||ip(e,r.key)):qi()}function op(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Fi("SyncEngine","New document in limbo: "+n),e.xa.add(r),ap(e))}function ap(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ds(us.fromString(t)),r=e.qa.next();e.Na.set(r,new zf(n)),e.Oa=e.Oa.insert(n,r),Kd(e.remoteStore,new oc(Za($a(n.path)),r,"TargetPurposeLimboResolution",js.oe))}}async function lp(e,t,n){const r=Bi(e),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,a)=>{o.push(r.Ka(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Xh.Wi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Ca.d_(i),await async function(e,t){const n=Bi(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Ts.forEach(t,(t=>Ts.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Ts.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ps(e))throw e;Fi("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function up(e,t){const n=Bi(e);if(!n.currentUser.isEqual(t)){Fi("SyncEngine","User change. New user:",t.toKey());const e=await rd(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new Gi(Ki.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lp(n,e.hs)}}function cp(e,t){const n=Bi(e),r=n.Na.get(t);if(r&&r.va)return _l().add(r.key);{let e=_l();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}async function hp(e,t){const n=Bi(e),r=await ud(n.localStore,t.query,!0),i=t.view.ba(r);return n.isPrimaryClient&&sp(n,t.targetId,i.wa),i}async function dp(e,t){const n=Bi(e);return hd(n.localStore,t).then((e=>lp(n,e)))}async function fp(e,t,n,r){const i=Bi(e),s=await function(e,t){const n=Bi(e),r=Bi(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Mn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Ts.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await sf(i.remoteStore):"acknowledged"===n||"rejected"===n?(np(i,t,r||null),tp(i,t),function(e,t){Bi(Bi(e).mutationQueue).On(t)}(i.localStore,t)):qi(),await lp(i,s)):Fi("SyncEngine","Cannot apply mutation batch with id: "+t)}async function pp(e,t,n){const r=Bi(e),i=[],s=[];for(const o of t){let e;const t=r.Ma.get(o);if(t&&0!==t.length){e=await ad(r.localStore,Za(t[0]));for(const e of t){const t=r.Fa.get(e),n=await hp(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await cd(r.localStore,o);e=await ad(r.localStore,t),await Wf(r,mp(t),o,!1,e.resumeToken)}i.push(e)}return r.Ca.d_(s),i}function mp(e){return Qa(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function gp(e){return function(e){return Bi(Bi(e).persistence).Qi()}(Bi(e).localStore)}async function vp(e,t,n,r){const i=Bi(e);if(i.Qa)return void Fi("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await hd(i.localStore,al(s[0])),r=vu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Po.EMPTY_BYTE_STRING);await lp(i,e,r);break}case"rejected":await ld(i.localStore,t,!0),rp(i,t,r);break;default:qi()}}async function yp(e,t,n){const r=bp(e);if(r.Qa){for(const e of t){if(r.Ma.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Fi("SyncEngine","Adding an already active target "+e);continue}const t=await cd(r.localStore,e),n=await ad(r.localStore,t);await Wf(r,mp(t),n.targetId,!1,n.resumeToken),Kd(r.remoteStore,n)}for(const e of n)r.Ma.has(e)&&await ld(r.localStore,e,!1).then((()=>{Gd(r.remoteStore,e),rp(r,e)})).catch(Es)}}function bp(e){const t=Bi(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Jf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xf.bind(null,t),t.Ca.d_=xf.bind(null,t.eventManager),t.Ca.$a=Af.bind(null,t.eventManager),t}function wp(e){const t=Bi(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ep.bind(null,t),t}class _p{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return nd(this.persistence,new ed,e.initialUser,this.serializer)}Ga(e){return new qh(Bh.Zr,this.serializer)}Wa(e){return new Sd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_p.provider={build:()=>new _p};class Ip extends _p{constructor(e){super(),this.cacheSizeBytes=e}ja(e,t){zi(this.persistence.referenceDelegate instanceof Kh);const n=this.persistence.referenceDelegate.garbageCollector;return new gh(n,e.asyncQueue,t)}Ga(e){const t=void 0!==this.cacheSizeBytes?th.withCacheSize(this.cacheSizeBytes):th.DEFAULT;return new qh((e=>Kh.Zr(e,t)),this.serializer)}}class Sp extends _p{constructor(e,t,n){super(),this.Ja=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await wp(this.Ja.syncEngine),await sf(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return nd(this.persistence,new ed,e.initialUser,this.serializer)}ja(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new gh(n,e.asyncQueue,t)}Ha(e,t){const n=new Fs(t,this.persistence);return new Ms(e.asyncQueue,n)}Ga(e){const t=Yh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?th.withCacheSize(this.cacheSizeBytes):th.DEFAULT;return new Qh(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Rd(),Od(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new Sd}}class Ep extends Sp{constructor(e,t){super(e,t,!1),this.Ja=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Ja.syncEngine;this.sharedClientState instanceof Id&&(this.sharedClientState.syncEngine={no:fp.bind(null,t),ro:vp.bind(null,t),io:yp.bind(null,t),Qi:gp.bind(null,t),eo:dp.bind(null,t)},await this.sharedClientState.start()),await this.persistence.yi((async e=>{await async function(e,t){const n=Bi(e);if(bp(n),wp(n),!0===t&&!0!==n.Qa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await pp(n,e.toArray());n.Qa=!0,await mf(n.remoteStore,!0);for(const r of t)Kd(n.remoteStore,r)}else if(!1===t&&!1!==n.Qa){const e=[];let t=Promise.resolve();n.Ma.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(rp(n,i),ld(n.localStore,i,!0)))),Gd(n.remoteStore,i)})),await t,await pp(n,e),function(e){const t=Bi(e);t.Na.forEach(((e,n)=>{Gd(t.remoteStore,n)})),t.La.pr(),t.Na=new Map,t.Oa=new So(ds.comparator)}(n),n.Qa=!1,await mf(n.remoteStore,!1)}}(this.Ja.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}Wa(e){const t=Rd();if(!Id.D(t))throw new Gi(Ki.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Yh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Id(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Tp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Yf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=up.bind(null,this.syncEngine),await mf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ef}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),n=function(e){return new Pd(e)}(e.databaseInfo);return function(e,t,n,r){return new Ud(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new qd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Yf(this.syncEngine,e,0)),Td.D()?new Td:new Ed)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Bf(e,t,n,r,i,s);return o&&(a.Qa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Bi(e);Fi("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Bd(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function kp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}Tp.provider={build:()=>new Tp};class Cp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class xp{constructor(e,t){this.Xa=e,this.serializer=t,this.metadata=new Hi,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then((e=>{e&&e.ua()?this.metadata.resolve(e.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.aa)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(null===e)return null;const t=this.eu.decode(e),n=Number(t);isNaN(n)&&this.ru(`length string (${t}) is not valid number`);const r=await this.iu(n);return new Df(JSON.parse(r),e.length+n)}su(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async nu(){for(;this.su()<0&&!await this.ou(););if(0===this.buffer.length)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const t=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Ap{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Gi(Ki.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=Bi(e),r={documents:t.map((e=>ju(n.serializer,e)))},i=await n.Lo("BatchGetDocuments",n.serializer.databaseId,us.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){zi(!!t.found),t.found.name,t.found.updateTime;const n=Uu(e,t.found.name),r=Du(t.found.updateTime),i=t.found.createTime?Du(t.found.createTime):as.min(),s=new da({mapValue:{fields:t.found.fields}});return pa.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){zi(!!t.missing),zi(!!t.readTime);const n=Uu(e,t.missing),r=Du(t.readTime);return pa.newNoDocument(n,r)}(e,t):qi()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());zi(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new eu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=ds.fromPath(t);this.mutations.push(new tu(n,this.precondition(n)))})),await async function(e,t){const n=Bi(e),r={writes:t.map((e=>Hu(n.serializer,e)))};await n.Mo("Commit",n.serializer.databaseId,us.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qi();t=as.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Gi(Ki.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(as.min())?ql.exists(!1):ql.updateTime(t):ql.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(as.min()))throw new Gi(Ki.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ql.updateTime(t)}return ql.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Np{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this._u=n.maxAttempts,this.t_=new Ld(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new Ap(this.datastore),t=this.cu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.lu(e)}))))})).catch((e=>{this.lu(e)}))}))}cu(e){try{const t=this.updateFunction(e);return!Us(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!lu(t)}return!1}}class Pp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Oi.UNAUTHENTICATED,this.clientId=ns.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Fi("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Fi("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Rp(e,t){e.asyncQueue.verifyOperationInProgress(),Fi("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await rd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Op(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Dp(e);Fi("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>pf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>pf(t.remoteStore,n))),e._onlineComponents=t}async function Dp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Fi("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ki.FAILED_PRECONDITION||e.code===Ki.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ui("Error using user provided cache. Falling back to memory cache: "+n),await Rp(e,new _p)}}else Fi("FirestoreClient","Using default OfflineComponentProvider"),await Rp(e,new Ip(void 0));return e._offlineComponents}async function Lp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Fi("FirestoreClient","Using user provided OnlineComponentProvider"),await Op(e,e._uninitializedComponentsProvider._online)):(Fi("FirestoreClient","Using default OnlineComponentProvider"),await Op(e,new Tp))),e._onlineComponents}function Mp(e){return Dp(e).then((e=>e.persistence))}function Fp(e){return Dp(e).then((e=>e.localStore))}function jp(e){return Lp(e).then((e=>e.remoteStore))}function Up(e){return Lp(e).then((e=>e.syncEngine))}function Vp(e){return Lp(e).then((e=>e.datastore))}async function qp(e){const t=await Lp(e),n=t.eventManager;return n.onListen=Kf.bind(null,t.syncEngine),n.onUnlisten=Qf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Gf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$f.bind(null,t.syncEngine),n}function zp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Hi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Cp({next:a=>{s.Za(),t.enqueueAndForget((()=>Cf(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new Gi(Ki.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new Gi(Ki.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new Of($a(n.path),s,{includeMetadataChanges:!0,_a:!0});return kf(e,o)}(await qp(e),e.asyncQueue,t,n,r))),r.promise}function Bp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Hi;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Cp({next:n=>{s.Za(),t.enqueueAndForget((()=>Cf(e,o))),n.fromCache&&"server"===r.source?i.reject(new Gi(Ki.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Of(n,s,{includeMetadataChanges:!0,_a:!0});return kf(e,o)}(await qp(e),e.asyncQueue,t,n,r))),r.promise}function Kp(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?hu().encode(e):e,function(e,t){return new xp(e,t)}(function(e,t){if(e instanceof Uint8Array)return kp(e,t);if(e instanceof ArrayBuffer)return kp(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Dd(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Bi(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Bi(e),r=Du(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Gr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Ff(r));const i=new Mf(r,e.localStore,t.serializer);let s=await t.Ua();for(;s;){const e=await i.la(s);e&&n._updateProgress(e),s=await t.Ua()}const o=await i.complete();return await lp(e,o.Ia,void 0),await function(e,t){const n=Bi(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Gr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.Pa)}catch(e){return Ui("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await Up(e),i,r)}))}function Gp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Hp=new Map;function Wp(e,t,n){if(!n)throw new Gi(Ki.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Qp(e,t,n,r){if(!0===t&&!0===r)throw new Gi(Ki.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function $p(e){if(!ds.isDocumentKey(e))throw new Gi(Ki.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Jp(e){if(ds.isDocumentKey(e))throw new Gi(Ki.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Yp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":qi()}function Xp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gi(Ki.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yp(e);throw new Gi(Ki.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Zp(e,t){if(t<=0)throw new Gi(Ki.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class em{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Gi(Ki.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Gi(Ki.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qp("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Gi(Ki.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Gi(Ki.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Gi(Ki.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new em({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Gi(Ki.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Gi(Ki.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new em(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Qi;switch(e.type){case"firstParty":return new Xi(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Gi(Ki.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Hp.get(e);t&&(Fi("ComponentProvider","Removing Datastore"),Hp.delete(e),t.terminate())}(this),Promise.resolve()}}function nm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Xp(e,tm))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Oi.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[en(JSON.stringify({alg:"none",type:"JWT"})),en(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Gi(Ki.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Oi(s)}e._authCredentials=new $i(new Wi(t,n))}}class rm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new rm(this.firestore,e,this._query)}}class im{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new im(this.firestore,e,this._key)}}class sm extends rm{constructor(e,t,n){super(e,t,$a(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new im(this.firestore,null,new ds(e))}withConverter(e){return new sm(this.firestore,e,this._path)}}function om(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xn(e),Wp("collection","path",t),e instanceof tm){const n=us.fromString(t,...r);return Jp(n),new sm(e,null,n)}{if(!(e instanceof im||e instanceof sm))throw new Gi(Ki.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(us.fromString(t,...r));return Jp(n),new sm(e.firestore,null,n)}}function am(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xn(e),1===arguments.length&&(t=ns.newId()),Wp("doc","path",t),e instanceof tm){const n=us.fromString(t,...r);return $p(n),new im(e,null,new ds(n))}{if(!(e instanceof im||e instanceof sm))throw new Gi(Ki.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(us.fromString(t,...r));return $p(n),new im(e.firestore,e instanceof sm?e.converter:null,new ds(n))}}function lm(e,t){return e=xn(e),t=xn(t),(e instanceof im||e instanceof sm)&&(t instanceof im||t instanceof sm)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function um(e,t){return e=xn(e),t=xn(t),e instanceof rm&&t instanceof rm&&e.firestore===t.firestore&&rl(e._query,t._query)&&e.converter===t.converter}class cm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ld(this,"async_queue_retry"),this.Vu=()=>{const e=Od();e&&Fi("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Od();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Od();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Hi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(KS){if(!Ps(KS))throw KS;Fi("AsyncQueue","Operation failed with retryable error: "+KS)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ji("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=yf.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&qi()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function hm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class dm{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fm extends tm{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new cm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cm(e),this._firestoreClient=void 0,await e}}}function pm(e){if(e._terminated)throw new Gi(Ki.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||mm(e),e._firestoreClient}function mm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Uo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Gp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Pp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function gm(e,t,n){if((e=Xp(e,fm))._firestoreClient||e._terminated)throw new Gi(Ki.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new Gi(Ki.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},mm(e)}function vm(e){return function(e){const t=new Hi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Bi(e);Jd(n.remoteStore)||Fi("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Bi(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ka.get(e)||[];r.push(t),n.ka.set(e,r)}catch(e){const n=bf(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Up(e),t))),t.promise}(pm(e=Xp(e,fm)))}function ym(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Mp(e),n=await jp(e);return t.setNetworkEnabled(!0),function(e){const t=Bi(e);return t.L_.delete(0),zd(t)}(n)}))}(pm(e=Xp(e,fm)))}function bm(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Mp(e),n=await jp(e);return t.setNetworkEnabled(!1),async function(e){const t=Bi(e);t.L_.add(0),await Bd(t),t.q_.set("Offline")}(n)}))}(pm(e=Xp(e,fm)))}function wm(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Bi(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Gr.getNamedQuery(e,t)))}(await Fp(e),t)))}(pm(e=Xp(e,fm)),t).then((t=>t?new rm(e,null,t.query):null))}class _m{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _m(Po.fromBase64String(e))}catch(e){throw new Gi(Ki.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new _m(Po.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Im{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Gi(Ki.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hs(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sm{constructor(e){this._methodName=e}}class Em{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Gi(Ki.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Gi(Ki.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rs(this._lat,e._lat)||rs(this._long,e._long)}}class Tm{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const km=/^__.*__$/;class Cm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Jl(e,this.data,this.fieldMask,t,this.fieldTransforms):new $l(e,this.data,t,this.fieldTransforms)}}class xm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Jl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Am(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qi()}}class Nm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Am(this.Cu)&&km.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Pm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Dd(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Nm({Cu:e,methodName:t,qu:n,path:hs.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rm(e){const t=e._freezeSettings(),n=Dd(e._databaseId);return new Pm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Om(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Hm("Data must be an object, but it was:",o,r);const a=Km(r,o);let l,u;if(s.merge)l=new Ao(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Wm(t,r,n);if(!o.contains(i))throw new Gi(Ki.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ym(e,i)||e.push(i)}l=new Ao(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new Cm(new da(a),l,u)}class Dm extends Sm{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dm}}function Lm(e,t,n){return new Nm({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Mm extends Sm{_toFieldTransform(e){return new Ul(e.path,new Pl)}isEqual(e){return e instanceof Mm}}class Fm extends Sm{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=Lm(this,e,!0),n=this.Ku.map((e=>Bm(e,t))),r=new Rl(n);return new Ul(e.path,r)}isEqual(e){return e instanceof Fm&&wn(this.Ku,e.Ku)}}class jm extends Sm{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=Lm(this,e,!0),n=this.Ku.map((e=>Bm(e,t))),r=new Dl(n);return new Ul(e.path,r)}isEqual(e){return e instanceof jm&&wn(this.Ku,e.Ku)}}class Um extends Sm{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Ml(e.serializer,kl(e.serializer,this.$u));return new Ul(e.path,t)}isEqual(e){return e instanceof Um&&this.$u===e.$u}}function Vm(e,t,n,r){const i=e.Qu(1,t,n);Hm("Data must be an object, but it was:",i,r);const s=[],o=da.empty();_o(r,((e,r)=>{const a=$m(t,e,n);r=xn(r);const l=i.Nu(a);if(r instanceof Dm)s.push(a);else{const e=Bm(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Ao(s);return new xm(o,a,i.fieldTransforms)}function qm(e,t,n,r,i,s){const o=e.Qu(1,t,n),a=[Wm(t,r,n)],l=[i];if(s.length%2!=0)throw new Gi(Ki.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Wm(t,s[d])),l.push(s[d+1]);const u=[],c=da.empty();for(let d=a.length-1;d>=0;--d)if(!Ym(u,a[d])){const e=a[d];let t=l[d];t=xn(t);const n=o.Nu(e);if(t instanceof Dm)u.push(e);else{const r=Bm(t,n);null!=r&&(u.push(e),c.set(e,r))}}const h=new Ao(u);return new xm(c,h,o.fieldTransforms)}function zm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Bm(n,e.Qu(r?4:3,t))}function Bm(e,t){if(Gm(e=xn(e)))return Hm("Unsupported field value:",t,e),Km(e,t);if(e instanceof Sm)return function(e,t){if(!Am(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Bm(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=xn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return kl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=os.fromDate(e);return{timestampValue:Pu(t.serializer,n)}}if(e instanceof os){const n=new os(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Pu(t.serializer,n)}}if(e instanceof Em)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _m)return{bytesValue:Ru(t.serializer,e._byteString)};if(e instanceof im){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Lu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Tm)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return El(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${Yp(e)}`)}(e,t)}function Km(e,t){const n={};return Io(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_o(e,((e,r)=>{const i=Bm(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Gm(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof os||e instanceof Em||e instanceof _m||e instanceof im||e instanceof Sm||e instanceof Tm)}function Hm(e,t,n){if(!Gm(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Yp(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Wm(e,t,n){if((t=xn(t))instanceof Im)return t._internalPath;if("string"==typeof t)return $m(e,t);throw Jm("Field path arguments must be of type string or ",e,!1,void 0,n)}const Qm=new RegExp("[~\\*/\\[\\]]");function $m(e,t,n){if(t.search(Qm)>=0)throw Jm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Im(...t.split("."))._internalPath}catch(r){throw Jm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Jm(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Gi(Ki.INVALID_ARGUMENT,a+e+l)}function Ym(e,t){return e.some((e=>e.isEqual(t)))}class Xm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new im(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zm extends Xm{data(){return super.data()}}function eg(e,t){return"string"==typeof t?$m(e,t):t instanceof Im?t._internalPath:t._delegate._internalPath}function tg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Gi(Ki.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ng{}class rg extends ng{}function ig(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof ng&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof og)).length,n=e.filter((e=>e instanceof sg)).length;if(t>1||t>0&&n>0)throw new Gi(Ki.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class sg extends rg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new sg(e,t,n)}_apply(e){const t=this._parse(e);return pg(e._query,t),new rm(e.firestore,e.converter,tl(e._query,t))}_parse(e){const t=Rm(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Gi(Ki.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){fg(o,s);const t=[];for(const n of o)t.push(dg(r,e,n));a={arrayValue:{values:t}}}else a=dg(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||fg(o,s),a=zm(n,t,o,"in"===s||"not-in"===s);return _a.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class og extends ng{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new og(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ia.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)pg(n,i),n=tl(n,i)}(e._query,t),new rm(e.firestore,e.converter,tl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ag extends rg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ag(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Gi(Ki.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Gi(Ki.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ya(t,n)}(e._query,this._field,this._direction);return new rm(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Wa(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class lg extends rg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new lg(e,t,n)}_apply(e){return new rm(e.firestore,e.converter,nl(e._query,this._limit,this._limitType))}}class ug extends rg{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ug(e,t,n)}_apply(e){const t=hg(e,this.type,this._docOrFields,this._inclusive);return new rm(e.firestore,e.converter,function(e,t){return new Wa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class cg extends rg{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new cg(e,t,n)}_apply(e){const t=hg(e,this.type,this._docOrFields,this._inclusive);return new rm(e.firestore,e.converter,function(e,t){return new Wa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function hg(e,t,n,r){if(n[0]=xn(n[0]),n[0]instanceof Xm)return function(e,t,n,r,i){if(!r)throw new Gi(Ki.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Xa(e))if(o.field.isKeyField())s.push(Xo(t,r.key));else{const e=r.data.field(o.field);if(Mo(e))throw new Gi(Ki.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Gi(Ki.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new ma(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Rm(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Gi(Ki.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Gi(Ki.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Ya(e)&&-1!==s.indexOf("/"))throw new Gi(Ki.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(us.fromString(s));if(!ds.isDocumentKey(n))throw new Gi(Ki.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new ds(n);a.push(Xo(t,i))}else{const e=zm(n,r,s);a.push(e)}}return new ma(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function dg(e,t,n){if("string"==typeof(n=xn(n))){if(""===n)throw new Gi(Ki.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ya(t)&&-1!==n.indexOf("/"))throw new Gi(Ki.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(us.fromString(n));if(!ds.isDocumentKey(r))throw new Gi(Ki.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xo(e,new ds(r))}if(n instanceof im)return Xo(e,n._key);throw new Gi(Ki.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yp(n)}.`)}function fg(e,t){if(!Array.isArray(e)||0===e.length)throw new Gi(Ki.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Gi(Ki.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Gi(Ki.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class mg{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Do(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qi()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return _o(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Do(e.doubleValue)));return new Tm(i)}convertGeoPoint(e){return new Em(Do(e.latitude),Do(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Fo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const t=Oo(e);return new os(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=us.fromString(e);zi(sc(n));const r=new Vo(n.get(1),n.get(3)),i=new ds(n.popFirst(5));return r.isEqual(t)||ji(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function gg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class vg extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new _m(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new im(this.firestore,null,t)}}class yg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bg extends Xm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(eg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class wg extends bg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class _g{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new wg(this._firestore,this._userDataWriter,n.key,n,new yg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gi(Ki.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new wg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new yg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new wg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new yg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Ig(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ig(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qi()}}function Sg(e,t){return e instanceof bg&&t instanceof bg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _g&&t instanceof _g&&e._firestore===t._firestore&&um(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class Eg extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new _m(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new im(this.firestore,null,t)}}function Tg(e){e=Xp(e,im);const t=Xp(e.firestore,fm),n=pm(t),r=new Eg(t);return function(e,t){const n=new Hi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Bi(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Gi(Ki.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=bf(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Fp(e),t,n))),n.promise}(n,e._key).then((n=>new bg(t,r,e._key,n,new yg(null!==n&&n.hasLocalMutations,!0),e.converter)))}function kg(e){e=Xp(e,rm);const t=Xp(e.firestore,fm),n=pm(t),r=new Eg(t);return function(e,t){const n=new Hi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await ud(e,t,!0),i=new Vf(t,r.Ts),s=i.ma(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=bf(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Fp(e),t,n))),n.promise}(n,e._query).then((n=>new _g(t,r,e,n)))}function Cg(e,t,n){e=Xp(e,im);const r=Xp(e.firestore,fm),i=gg(e.converter,t,n);return Pg(r,[Om(Rm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ql.none())])}function xg(e,t,n){e=Xp(e,im);const r=Xp(e.firestore,fm),i=Rm(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=xn(t))||t instanceof Im?qm(i,"updateDoc",e._key,t,n,a):Vm(i,"updateDoc",e._key,t),Pg(r,[s.toMutation(e._key,ql.exists(!0))])}function Ag(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=xn(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||hm(n[l])||(a=n[l],l++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(hm(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let c,h,d;if(e instanceof im)h=Xp(e.firestore,fm),d=$a(e._key.path),c={next:t=>{n[l]&&n[l](Rg(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Xp(e,rm);h=Xp(t.firestore,fm),d=t._query;const r=new Eg(h);c={next:e=>{n[l]&&n[l](new _g(h,r,t,e))},error:n[l+1],complete:n[l+2]},tg(e._query)}return function(e,t,n,r){const i=new Cp(r),s=new Of(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>kf(await qp(e),s))),()=>{i.Za(),e.asyncQueue.enqueueAndForget((async()=>Cf(await qp(e),s)))}}(pm(h),d,u,c)}function Ng(e,t){return function(e,t){const n=new Cp(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Bi(e).Y_.add(t),t.next()}(await qp(e),n))),()=>{n.Za(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Bi(e).Y_.delete(t)}(await qp(e),n)))}}(pm(e=Xp(e,fm)),hm(t)?t:{next:t})}function Pg(e,t){return function(e,t){const n=new Hi;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=wp(e);try{const e=await function(e,t){const n=Bi(e),r=os.now(),i=t.reduce(((e,t)=>e.add(t.key)),_l());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=dl(),l=_l();return n.cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Wl(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Jl(e.key,t,fa(t.value.mapValue),ql.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:ml(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new So(rs)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await lp(r,e.changes),await sf(r.remoteStore)}catch(e){const t=bf(e,"Failed to persist write");n.reject(t)}}(await Up(e),t,n))),n.promise}(pm(e),t)}function Rg(e,t,n){const r=n.docs.get(t._key),i=new Eg(e);return new bg(e,i,t._key,r,new yg(n.hasPendingWrites,n.fromCache),t.converter)}const Og={maxAttempts:5};class Dg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rm(e)}set(e,t,n){this._verifyNotCommitted();const r=Lg(e,this._firestore),i=gg(r.converter,t,n),s=Om(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,ql.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Lg(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=xn(t))||t instanceof Im?qm(this._dataReader,"WriteBatch.update",r._key,t,n,o):Vm(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,ql.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lg(e,this._firestore);return this._mutations=this._mutations.concat(new eu(t._key,ql.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Gi(Ki.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lg(e,t){if((e=xn(e)).firestore!==t)throw new Gi(Ki.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Mg extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rm(e)}get(e){const t=Lg(e,this._firestore),n=new vg(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return qi();const r=e[0];if(r.isFoundDocument())return new Xm(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Xm(this._firestore,n,t._key,null,t.converter);throw qi()}))}set(e,t,n){const r=Lg(e,this._firestore),i=gg(r.converter,t,n),s=Om(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Lg(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=xn(t))||t instanceof Im?qm(this._dataReader,"Transaction.update",r._key,t,n,o):Vm(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Lg(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lg(e,this._firestore),n=new Eg(this._firestore);return super.get(e).then((e=>new bg(this._firestore,n,t._key,e._document,new yg(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Di=e}(Qr),Ur(new An("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new fm(new Ji(e.getProvider("auth-internal")),new es(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gi(Ki.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ei(Ri,"4.7.4",e),ei(Ri,"4.7.4","esm2017")}();function Fg(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Gi("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function jg(){if("undefined"===typeof Uint8Array)throw new Gi("unimplemented","Uint8Arrays are not available in this environment.")}function Ug(){if("undefined"==typeof atob)throw new Gi("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Vg{constructor(e){this._delegate=e}static fromBase64String(e){return Ug(),new Vg(_m.fromBase64String(e))}static fromUint8Array(e){return jg(),new Vg(_m.fromUint8Array(e))}toBase64(){return Ug(),this._delegate.toBase64()}toUint8Array(){return jg(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qg(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class zg{enableIndexedDbPersistence(e,t){return function(e,t){Ui("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return gm(e,Tp.provider,{build:e=>new Sp(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return async function(e){Ui("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();gm(e,Tp.provider,{build:e=>new Ep(e,t.cacheSizeBytes)})}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Gi(Ki.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Hi;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Cs.D())return Promise.resolve();const t=e+"main";await Cs.delete(t)}(Yh(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Bg{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ui("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nm(this._delegate,e,t,n)}enableNetwork(){return ym(this._delegate)}disableNetwork(){return bm(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Qp("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return vm(this._delegate)}onSnapshotsInSync(e){return Ng(this._delegate,e)}get app(){if(!this._appCompat)throw new Gi("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rv(this,om(this._delegate,e))}catch(KS){throw $g(KS,"collection()","Firestore.collection()")}}doc(e){try{return new Qg(this,am(this._delegate,e))}catch(KS){throw $g(KS,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ev(this,function(e,t){if(e=Xp(e,tm),Wp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Gi(Ki.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rm(e,null,function(e){return new Wa(us.emptyPath(),e)}(t))}(this._delegate,e))}catch(KS){throw $g(KS,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=Xp(e,fm);const r=Object.assign(Object.assign({},Og),n);return function(e){if(e.maxAttempts<1)throw new Gi(Ki.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Hi;return e.asyncQueue.enqueueAndForget((async()=>{const i=await Vp(e);new Np(e.asyncQueue,i,n,t,r).au()})),r.promise}(pm(e),(n=>t(new Mg(e,n))),r)}(this._delegate,(t=>e(new Gg(this,t))))}batch(){return pm(this._delegate),new Hg(new Dg(this._delegate,(e=>Pg(this._delegate,e))))}loadBundle(e){return function(e,t){const n=pm(e=Xp(e,fm)),r=new dm;return Kp(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return wm(this._delegate,e).then((e=>e?new ev(this,e):null))}}class Kg extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vg(new _m(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Qg.forKey(t,this.firestore,null)}}class Gg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Kg(e)}get(e){const t=iv(e);return this._delegate.get(t).then((e=>new Xg(this._firestore,new bg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=iv(e);return n?(Fg("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=iv(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=iv(e);return this._delegate.delete(t),this}}class Hg{constructor(e){this._delegate=e}set(e,t,n){const r=iv(e);return n?(Fg("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=iv(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=iv(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Wg{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new wg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Zg(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Wg.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Wg(e,new Kg(e),t),r.set(t,i)),i}}Wg.INSTANCES=new WeakMap;class Qg{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Kg(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Gi("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qg(t,new im(t._delegate,n,new ds(e)))}static forKey(e,t,n){return new Qg(t,new im(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new rv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rv(this.firestore,om(this._delegate,e))}catch(KS){throw $g(KS,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=xn(e))instanceof im&&lm(this._delegate,e)}set(e,t){t=Fg("DocumentReference.set",t);try{return t?Cg(this._delegate,e,t):Cg(this._delegate,e)}catch(KS){throw $g(KS,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?xg(this._delegate,e):xg(this._delegate,e,t,...r)}catch(KS){throw $g(KS,"updateDoc()","DocumentReference.update()")}}delete(){return Pg(Xp((e=this._delegate).firestore,fm),[new eu(e._key,ql.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Jg(t),i=Yg(t,(e=>new Xg(this.firestore,new bg(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return Ag(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?Tg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Xp(e,im);const t=Xp(e.firestore,fm);return zp(pm(t),e._key,{source:"server"}).then((n=>Rg(t,e,n)))}(this._delegate):function(e){e=Xp(e,im);const t=Xp(e.firestore,fm);return zp(pm(t),e._key).then((n=>Rg(t,e,n)))}(this._delegate),t.then((e=>new Xg(this.firestore,new bg(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Qg(this.firestore,e?this._delegate.withConverter(Wg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function $g(e,t,n){return e.message=e.message.replace(t,n),e}function Jg(e){for(const t of e)if("object"===typeof t&&!qg(t))return t;return{}}function Yg(e,t){var n,r;let i;return i=qg(e[0])?e[0]:qg(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Xg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qg(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Sg(this._delegate,e._delegate)}}class Zg extends Xg{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||qi(),t}}class ev{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Kg(e)}where(e,t,n){try{return new ev(this.firestore,ig(this._delegate,function(e,t,n){const r=t,i=eg("where",e);return sg._create(i,r,n)}(e,t,n)))}catch(KS){throw $g(KS,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ev(this.firestore,ig(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=eg("orderBy",e);return ag._create(n,t)}(e,t)))}catch(KS){throw $g(KS,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ev(this.firestore,ig(this._delegate,(Zp("limit",t=e),lg._create("limit",t,"F"))))}catch(t){throw $g(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new ev(this.firestore,ig(this._delegate,(Zp("limitToLast",t=e),lg._create("limitToLast",t,"L"))))}catch(t){throw $g(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new ev(this.firestore,ig(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ug._create("startAt",t,!0)}(...arguments)))}catch(KS){throw $g(KS,"startAt()","Query.startAt()")}}startAfter(){try{return new ev(this.firestore,ig(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ug._create("startAfter",t,!1)}(...arguments)))}catch(KS){throw $g(KS,"startAfter()","Query.startAfter()")}}endBefore(){try{return new ev(this.firestore,ig(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cg._create("endBefore",t,!1)}(...arguments)))}catch(KS){throw $g(KS,"endBefore()","Query.endBefore()")}}endAt(){try{return new ev(this.firestore,ig(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cg._create("endAt",t,!0)}(...arguments)))}catch(KS){throw $g(KS,"endAt()","Query.endAt()")}}isEqual(e){return um(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?kg(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Xp(e,rm);const t=Xp(e.firestore,fm),n=pm(t),r=new Eg(t);return Bp(n,e._query,{source:"server"}).then((n=>new _g(t,r,e,n)))}(this._delegate):function(e){e=Xp(e,rm);const t=Xp(e.firestore,fm),n=pm(t),r=new Eg(t);return tg(e._query),Bp(n,e._query).then((n=>new _g(t,r,e,n)))}(this._delegate),t.then((e=>new nv(this.firestore,new _g(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Jg(t),i=Yg(t,(e=>new nv(this.firestore,new _g(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return Ag(this._delegate,r,i)}withConverter(e){return new ev(this.firestore,e?this._delegate.withConverter(Wg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class tv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Zg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class nv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ev(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Zg(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new tv(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Zg(this._firestore,n))}))}isEqual(e){return Sg(this._delegate,e._delegate)}}class rv extends ev{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Qg(this.firestore,e):null}doc(e){try{return new Qg(this.firestore,void 0===e?am(this._delegate):am(this._delegate,e))}catch(KS){throw $g(KS,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Xp(e.firestore,fm),r=am(e),i=gg(e.converter,t);return Pg(n,[Om(Rm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ql.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Qg(this.firestore,e)))}isEqual(e){return lm(this._delegate,e._delegate)}withConverter(e){return new rv(this.firestore,e?this._delegate.withConverter(Wg.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function iv(e){return Xp(e,im)}class sv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Im(...t)}static documentId(){return new sv(hs.keyField().canonicalString())}isEqual(e){return(e=xn(e))instanceof Im&&this._delegate._internalPath.isEqual(e._internalPath)}}class ov{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Mm("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ov(e)}static delete(){const e=new Dm("deleteField");return e._methodName="FieldValue.delete",new ov(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fm("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new ov(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new jm("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new ov(e)}static increment(e){const t=new Um("increment",e);return t._methodName="FieldValue.increment",new ov(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const av={Firestore:Bg,GeoPoint:Em,Timestamp:os,Blob:Vg,Transaction:Gg,WriteBatch:Hg,DocumentReference:Qg,DocumentSnapshot:Xg,Query:ev,QueryDocumentSnapshot:Zg,QuerySnapshot:nv,CollectionReference:rv,FieldPath:sv,FieldValue:ov,setLogLevel:function(e){var t;t=e,Li.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};var lv;(function(e,t){e.INTERNAL.registerComponent(new An("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},av)))})(lv=vi,((e,t)=>new Bg(e,t,new zg))),lv.registerVersion("@firebase/firestore-compat","0.3.39");function uv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const cv="facebook.com",hv="github.com",dv="google.com",fv="password",pv="twitter.com",mv="EMAIL_SIGNIN",gv="PASSWORD_RESET",vv="RECOVER_EMAIL",yv="REVERT_SECOND_FACTOR_ADDITION",bv="VERIFY_AND_CHANGE_EMAIL",wv="VERIFY_EMAIL";function _v(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Iv=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Sv=_v,Ev=new vn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tv=new Un("@firebase/auth");function kv(e){if(Tv.logLevel<=Dn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tv.error(`Auth (${Qr}): ${e}`,...n)}}function Cv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Rv(e,...n)}function xv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Rv(e,...n)}function Av(e,t,n){const r=Object.assign(Object.assign({},Sv()),{[t]:n});return new vn("auth","Firebase",r).create(t,{appName:e.name})}function Nv(e){return Av(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pv(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Cv(e,"argument-error"),Av(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ev.create(e,...n)}function Ov(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Rv(t,...r)}}function Dv(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kv(t),new Error(t)}function Lv(e,t){e||Dv(t)}function Mv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Fv(){return"http:"===jv()||"https:"===jv()}function jv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Uv{constructor(e,t){this.shortDelay=e,this.longDelay=t,Lv(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())||dn()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Fv()||hn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Vv(e,t){Lv(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class qv{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Dv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Dv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Dv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const zv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Bv=new Uv(3e4,6e4);function Kv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Gv(e,t,n,r){return Hv(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=In(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),qv.fetch()(Qv(e,e.config.apiHost,n,o),l)}))}async function Hv(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},zv),t);try{const t=new Jv(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Yv(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Yv(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Yv(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Yv(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Av(e,a,o);Cv(e,a)}}catch(KS){if(KS instanceof gn)throw KS;Cv(e,"network-request-failed",{message:String(KS)})}}async function Wv(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Gv(e,t,n,r,i);return"mfaPendingCredential"in s&&Cv(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Qv(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Vv(e.config,i):`${e.config.apiScheme}://${i}`}function $v(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jv{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(xv(this.auth,"network-request-failed"))),Bv.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xv(e,t,r);return i.customData._tokenResponse=n,i}function Xv(e){return void 0!==e&&void 0!==e.getResponse}function Zv(e){return void 0!==e&&void 0!==e.enterprise}class ey{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $v(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ty(e,t){return Gv(e,"GET","/v2/recaptchaConfig",Kv(e,t))}async function ny(e,t){return Gv(e,"POST","/v1/accounts:lookup",t)}function ry(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(KS){}}function iy(e){return 1e3*Number(e)}function sy(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return kv("JWT malformed, contained fewer than 3 sections"),null;try{const e=tn(n);return e?JSON.parse(e):(kv("Failed to decode base64 JWT payload"),null)}catch(KS){return kv("Caught error parsing JWT payload as JSON",null===KS||void 0===KS?void 0:KS.toString()),null}}function oy(e){const t=sy(e);return Ov(t,"internal-error"),Ov("undefined"!==typeof t.exp,"internal-error"),Ov("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ay(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(KS){throw KS instanceof gn&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(KS)&&e.auth.currentUser===e&&await e.auth.signOut(),KS}}class ly{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(KS){return void("auth/network-request-failed"===(null===KS||void 0===KS?void 0:KS.code)&&this.schedule(!0))}this.schedule()}}class uy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ry(this.lastLoginAt),this.creationTime=ry(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function cy(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ay(e,ny(n,{idToken:r}));Ov(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?hy(s.providerUserInfo):[],a=(l=e.providerData,u=o,[...l.filter((e=>!u.some((t=>t.providerId===e.providerId)))),...u]);var l,u;const c=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!c&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uy(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function hy(e){return e.map((e=>{var{providerId:t}=e,n=uv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class dy{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ov(e.idToken,"internal-error"),Ov("undefined"!==typeof e.idToken,"internal-error"),Ov("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):oy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ov(0!==e.length,"internal-error");const t=oy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Ov(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Hv(e,{},(async()=>{const n=In({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Qv(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",qv.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new dy;return n&&(Ov("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ov("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ov("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dy,this.toJSON())}_performRefresh(){return Dv("not implemented")}}function fy(e,t){Ov("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class py{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=uv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ly(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new uy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ay(this,this.stsTokenManager.getToken(this.auth,e));return Ov(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=xn(e),r=await n.getIdToken(t),i=sy(r);Ov(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ry(iy(i.auth_time)),issuedAtTime:ry(iy(i.iat)),expirationTime:ry(iy(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=xn(e);await cy(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ov(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new py(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ov(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await cy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Br(this.auth.app))return Promise.reject(Nv(this.auth));const e=await this.getIdToken();return await ay(this,async function(e,t){return Gv(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:I}=t;Ov(y&&I,e,"internal-error");const S=dy.fromJSON(this.name,I);Ov("string"===typeof y,e,"internal-error"),fy(c,e.name),fy(h,e.name),Ov("boolean"===typeof b,e,"internal-error"),Ov("boolean"===typeof w,e,"internal-error"),fy(d,e.name),fy(f,e.name),fy(p,e.name),fy(m,e.name),fy(g,e.name),fy(v,e.name);const E=new py({uid:y,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new dy;r.updateFromServerResponse(t);const i=new py({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await cy(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Ov(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?hy(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new dy;o.updateFromIdToken(n);const a=new py({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new uy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const my=new Map;function gy(e){Lv(e instanceof Function,"Expected a class definition");let t=my.get(e);return t?(Lv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,my.set(e,t),t)}class vy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vy.type="NONE";const yy=vy;function by(e,t,n){return`firebase:${e}:${t}:${n}`}class wy{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=by(this.userKey,r.apiKey,i),this.fullPersistenceKey=by("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?py._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new wy(gy(yy),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||gy(yy);const s=by(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=py._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(GS){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(GS){}}))),new wy(i,e,n)):new wy(i,e,n)}}function _y(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ty(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Iy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cy(t))return"Blackberry";if(xy(t))return"Webos";if(Sy(t))return"Safari";if((t.includes("chrome/")||Ey(t))&&!t.includes("edge/"))return"Chrome";if(ky(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Iy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/firefox\//i.test(e)}function Sy(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/crios\//i.test(e)}function Ty(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/iemobile/i.test(e)}function ky(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/android/i.test(e)}function Cy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/blackberry/i.test(e)}function xy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/webos/i.test(e)}function Ay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ny(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return Ay(e)||ky(e)||xy(e)||Cy(e)||/windows phone/i.test(e)||Ty(e)}function Py(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=_y(ln());break;case"Worker":t=`${_y(ln())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qr}/${r}`}class Ry{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(KS){r(KS)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(KS){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===KS||void 0===KS?void 0:KS.message})}}}class Oy{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Dy{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new My(this),this.idTokenSubscription=new My(this),this.beforeStateQueue=new Ry(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ev,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gy(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await wy.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(KS){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ny(this,{idToken:e}),n=await py._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Br(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(KS){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(KS)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ov(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(KS){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cy(e)}catch(KS){if("auth/network-request-failed"!==(null===KS||void 0===KS?void 0:KS.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Br(this.app))return Promise.reject(Nv(this));const t=e?xn(e):null;return t&&Ov(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ov(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Br(this.app)?Promise.reject(Nv(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Br(this.app)?Promise.reject(Nv(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(gy(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Gv(e,"GET","/v2/passwordPolicy",Kv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Oy(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Gv(e,"POST","/v2/accounts:revokeToken",Kv(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gy(e)||this._popupRedirectResolver;Ov(t,this,"argument-error"),this.redirectPersistenceManager=await wy.create(this,[gy(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ov(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ov(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Py(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Tv.logLevel<=Dn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Tv.warn(`Auth (${Qr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ly(e){return xn(e)}class My{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tn((e=>this.observer=e))}get next(){return Ov(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jy(e){return Fy.loadJS(e)}function Uy(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Vy=1e12;class qy{constructor(e){this.auth=e,this.counter=Vy,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ky(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Vy;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Vy;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Vy;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class zy{constructor(){this.enterprise=new By}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class By{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ky{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Ov(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(KS){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(KS){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Gy="NO_RECAPTCHA";class Hy{constructor(e){this.type="recaptcha-enterprise",this.auth=Ly(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Zv(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Gy)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new zy).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ty(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ey(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Zv(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Fy.recaptchaEnterpriseScript;0!==t.length&&(t+=i),jy(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Wy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new Hy(e);let o;if(i)o=Gy;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Qy(e,t,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Wy(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Wy(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await Wy(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Wy(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Wy(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function $y(e){const t=Ly(e),n=await ty(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ey(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Hy(t).verify()}}function Jy(e,t,n){const r=Ly(e);Ov(r._canInitEmulator,r,"emulator-config-failed"),Ov(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Yy(t),{host:o,port:a}=function(e){const t=Yy(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Xy(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Xy(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yy(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Xy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Zy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Dv("not implemented")}_getIdTokenResponse(e){return Dv("not implemented")}_linkToIdToken(e,t){return Dv("not implemented")}_getReauthenticationResolver(e){return Dv("not implemented")}}async function eb(e,t){return Gv(e,"POST","/v1/accounts:resetPassword",Kv(e,t))}async function tb(e,t){return Gv(e,"POST","/v1/accounts:signUp",t)}async function nb(e,t){return Wv(e,"POST","/v1/accounts:signInWithPassword",Kv(e,t))}async function rb(e,t){return Gv(e,"POST","/v1/accounts:sendOobCode",Kv(e,t))}async function ib(e,t){return rb(e,t)}async function sb(e,t){return rb(e,t)}class ob extends Zy{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ob(e,t,"password")}static _fromEmailAndCode(e,t){return new ob(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Qy(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",nb,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Wv(e,"POST","/v1/accounts:signInWithEmailLink",Kv(e,t))}(e,{email:this._email,oobCode:this._password});default:Cv(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Qy(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tb,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Wv(e,"POST","/v1/accounts:signInWithEmailLink",Kv(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Cv(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ab(e,t){return Wv(e,"POST","/v1/accounts:signInWithIdp",Kv(e,t))}class lb extends Zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new lb(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cv("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=uv(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new lb(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ab(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ab(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ab(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=In(t)}return e}}async function ub(e,t){return Gv(e,"POST","/v1/accounts:sendVerificationCode",Kv(e,t))}const cb={USER_NOT_FOUND:"user-not-found"};class hb extends Zy{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new hb({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new hb({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Wv(e,"POST","/v1/accounts:signInWithPhoneNumber",Kv(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Wv(e,"POST","/v1/accounts:signInWithPhoneNumber",Kv(e,t));if(n.temporaryProof)throw Yv(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Wv(e,"POST","/v1/accounts:signInWithPhoneNumber",Kv(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),cb)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new hb({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class db{constructor(e){var t,n,r,i,s,o;const a=Sn(En(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,u=null!==(n=a.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ov(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Sn(En(e)).link,n=t?Sn(En(t)).deep_link_id:null,r=Sn(En(e)).deep_link_id;return(r?Sn(En(r)).link:null)||r||n||t||e}(e);try{return new db(t)}catch(GS){return null}}}class fb{constructor(){this.providerId=fb.PROVIDER_ID}static credential(e,t){return ob._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=db.parseLink(t);return Ov(n,"argument-error"),ob._fromEmailAndCode(e,n.code,n.tenantId)}}fb.PROVIDER_ID="password",fb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",fb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class pb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mb extends pb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class gb extends mb{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Ov("providerId"in t&&"signInMethod"in t,"argument-error"),lb._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ov(e.idToken||e.accessToken,"argument-error"),lb._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return gb.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return gb.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new gb(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(KS){return null}}}class vb extends mb{constructor(){super("facebook.com")}static credential(e){return lb._fromParams({providerId:vb.PROVIDER_ID,signInMethod:vb.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vb.credentialFromTaggedObject(e)}static credentialFromError(e){return vb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return vb.credential(t.oauthAccessToken)}catch(GS){return null}}}vb.FACEBOOK_SIGN_IN_METHOD="facebook.com",vb.PROVIDER_ID="facebook.com";class yb extends mb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return lb._fromParams({providerId:yb.PROVIDER_ID,signInMethod:yb.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return yb.credentialFromTaggedObject(e)}static credentialFromError(e){return yb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return yb.credential(n,r)}catch(GS){return null}}}yb.GOOGLE_SIGN_IN_METHOD="google.com",yb.PROVIDER_ID="google.com";class bb extends mb{constructor(){super("github.com")}static credential(e){return lb._fromParams({providerId:bb.PROVIDER_ID,signInMethod:bb.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bb.credentialFromTaggedObject(e)}static credentialFromError(e){return bb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return bb.credential(t.oauthAccessToken)}catch(GS){return null}}}bb.GITHUB_SIGN_IN_METHOD="github.com",bb.PROVIDER_ID="github.com";class wb extends Zy{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ab(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ab(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ab(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new wb(n,i):null}static _create(e,t){return new wb(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _b extends pb{constructor(e){Ov(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return _b.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return _b.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=wb.fromJSON(e);return Ov(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return wb._create(r,n)}catch(KS){return null}}}class Ib extends mb{constructor(){super("twitter.com")}static credential(e,t){return lb._fromParams({providerId:Ib.PROVIDER_ID,signInMethod:Ib.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ib.credentialFromTaggedObject(e)}static credentialFromError(e){return Ib.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ib.credential(n,r)}catch(GS){return null}}}async function Sb(e,t){return Wv(e,"POST","/v1/accounts:signUp",Kv(e,t))}Ib.TWITTER_SIGN_IN_METHOD="twitter.com",Ib.PROVIDER_ID="twitter.com";class Eb{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await py._fromIdTokenResponse(e,n,r),s=Tb(n);return new Eb({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Tb(n);return new Eb({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Tb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class kb extends gn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,kb.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new kb(e,t,n,r)}}function Cb(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw kb._fromErrorAndOperation(e,n,t,r);throw n}))}function xb(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Ab(e,t){const n=xn(e);await Pb(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Gv(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=xb(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Nb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ay(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Eb._forOperation(e,"link",r)}async function Pb(e,t,n){await cy(t);const r=!1===e?"provider-already-linked":"no-such-provider";Ov(xb(t.providerData).has(n)===e,t.auth,r)}async function Rb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Br(r.app))return Promise.reject(Nv(r));const i="reauthenticate";try{const s=await ay(e,Cb(r,i,t,e),n);Ov(s.idToken,r,"internal-error");const o=sy(s.idToken);Ov(o,r,"internal-error");const{sub:a}=o;return Ov(e.uid===a,r,"user-mismatch"),Eb._forOperation(e,i,s)}catch(KS){throw"auth/user-not-found"===(null===KS||void 0===KS?void 0:KS.code)&&Cv(r,"user-mismatch"),KS}}async function Ob(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Br(e.app))return Promise.reject(Nv(e));const r="signIn",i=await Cb(e,r,t),s=await Eb._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Db(e,t){return Ob(Ly(e),t)}async function Lb(e,t){const n=xn(e);return await Pb(!1,n,t.providerId),Nb(n,t)}async function Mb(e,t){return Rb(xn(e),t)}async function Fb(e,t){if(Br(e.app))return Promise.reject(Nv(e));const n=Ly(e),r=await async function(e,t){return Wv(e,"POST","/v1/accounts:signInWithCustomToken",Kv(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Eb._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class jb{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ub._fromServerResponse(e,t):"totpInfo"in t?Vb._fromServerResponse(e,t):Cv(e,"internal-error")}}class Ub extends jb{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ub(t)}}class Vb extends jb{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Vb(t)}}function qb(e,t,n){var r;Ov((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ov("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ov(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ov(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function zb(e){const t=Ly(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Bb(e,t){await async function(e,t){return Gv(e,"POST","/v1/accounts:update",Kv(e,t))}(xn(e),{oobCode:t})}async function Kb(e,t){const n=xn(e),r=await eb(n,{oobCode:t}),i=r.requestType;switch(Ov(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ov(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ov(r.mfaInfo,n,"internal-error");default:Ov(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=jb._fromServerResponse(Ly(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Gb(e,t){const n={identifier:t,continueUri:Fv()?Mv():"http://localhost"},{signinMethods:r}=await async function(e,t){return Gv(e,"POST","/v1/accounts:createAuthUri",Kv(e,t))}(xn(e),n);return r||[]}async function Hb(e,t){const n=xn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&qb(n.auth,r,t);const{email:i}=await async function(e,t){return rb(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Wb(e,t,n){const r=xn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&qb(r.auth,i,n);const{email:s}=await async function(e,t){return rb(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Qb(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=xn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await ay(i,async function(e,t){return Gv(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function $b(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await ay(e,async function(e,t){return Gv(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Jb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Yb extends Jb{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Xb extends Jb{constructor(e,t){super(e,"facebook.com",t)}}class Zb extends Yb{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ew extends Jb{constructor(e,t){super(e,"google.com",t)}}class tw extends Yb{constructor(e,t,n){super(e,"twitter.com",t,n)}}function nw(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=sy(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Jb(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Xb(s,i);case"github.com":return new Zb(s,i);case"google.com":return new ew(s,i);case"twitter.com":return new tw(s,i,e.screenName||null);case"custom":case"anonymous":return new Jb(s,null);default:return new Jb(s,r,i)}}(n)}class rw{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new rw("enroll",e,t)}static _fromMfaPendingCredential(e){return new rw("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return rw._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return rw._fromIdtoken(e.multiFactorSession.idToken)}return null}}class iw{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ly(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>jb._fromServerResponse(n,e)));Ov(r.mfaPendingCredential,n,"internal-error");const s=rw._fromMfaPendingCredential(r.mfaPendingCredential);return new iw(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Eb._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Ov(t.user,n,"internal-error"),Eb._forOperation(t.user,t.operationType,o);default:Cv(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function sw(e,t){return Gv(e,"POST","/v2/accounts/mfaEnrollment:start",Kv(e,t))}class ow{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>jb._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ow(e)}async getSession(){return rw._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await ay(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ay(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Gv(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Kv(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(KS){throw KS}var r,i}}const aw=new WeakMap;const lw="__sak";class uw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(lw,"1"),this.storage.removeItem(lw),Promise.resolve(!0)):Promise.resolve(!1)}catch(GS){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class cw extends uw{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ny(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);fn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}cw.type="LOCAL";const hw=cw;class dw extends uw{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}dw.type="SESSION";const fw=dw;class pw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new pw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pw.receivers=[];class gw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=mw("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function vw(){return window}function yw(){return"undefined"!==typeof vw().WorkerGlobalScope&&"function"===typeof vw().importScripts}const bw="firebaseLocalStorageDb",ww="firebaseLocalStorage",_w="fbase_key";class Iw{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Sw(e,t){return e.transaction([ww],t?"readwrite":"readonly").objectStore(ww)}function Ew(){const e=indexedDB.open(bw,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ww,{keyPath:_w})}catch(KS){n(KS)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ww)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(bw);return new Iw(e).toPromise()}(),t(await Ew()))}))}))}async function Tw(e,t,n){const r=Sw(e,!0).put({[_w]:t,value:n});return new Iw(r).toPromise()}function kw(e,t){const n=Sw(e,!0).delete(t);return new Iw(n).toPromise()}class Cw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ew()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(KS){if(t++>3)throw KS;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pw._getInstance(yw()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new gw(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(GS){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ew();return await Tw(e,lw,"1"),await kw(e,lw),!0}catch(GS){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Tw(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Sw(e,!1).get(t),r=await new Iw(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>kw(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Sw(e,!1).getAll();return new Iw(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Cw.type="LOCAL";const xw=Cw;function Aw(e,t){return Gv(e,"POST","/v2/accounts/mfaSignIn:start",Kv(e,t))}const Nw=Uy("rcb"),Pw=new Uv(3e4,6e4);class Rw{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=vw().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ov(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Xv(vw().grecaptcha)?Promise.resolve(vw().grecaptcha):new Promise(((n,r)=>{const i=vw().setTimeout((()=>{r(xv(e,"network-request-failed"))}),Pw.get());vw()[Nw]=()=>{vw().clearTimeout(i),delete vw()[Nw];const s=vw().grecaptcha;if(!s||!Xv(s))return void r(xv(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};jy(`${Fy.recaptchaV2Script}?${In({onload:Nw,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(xv(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=vw().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ow{async load(e){return new qy(e)}clearedOneInstance(){}}const Dw="recaptcha",Lw={theme:"light",type:"image"};class Mw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Lw);this.parameters=n,this.type=Dw,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ly(e),this.isInvisible="invisible"===this.parameters.size,Ov("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Ov(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ow:new Rw,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(KS){return Promise.reject(KS)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Ov(!this.parameters.sitekey,this.auth,"argument-error"),Ov(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ov("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=vw()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Ov(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ov(Fv()&&!yw(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Gv(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Ov(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ov(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fw{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=hb._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function jw(e,t,n){var r;if(!e._getRecaptchaConfig())try{await $y(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Ov("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Qy(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Gy){Ov((null===n||void 0===n?void 0:n.type)===Dw,e,"argument-error");return sw(e,await Uw(e,t,n))}return sw(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Ov("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Ov(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Qy(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Gy){Ov((null===n||void 0===n?void 0:n.type)===Dw,e,"argument-error");return Aw(e,await Uw(e,t,n))}return Aw(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Qy(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Gy){Ov((null===n||void 0===n?void 0:n.type)===Dw,e,"argument-error");return ub(e,await Uw(e,t,n))}return ub(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Uw(e,t,n){Ov(n.type===Dw,e,"argument-error");const r=await n.verify();Ov("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Vw{constructor(e){this.providerId=Vw.PROVIDER_ID,this.auth=Ly(e)}verifyPhoneNumber(e,t){return jw(this.auth,e,xn(t))}static credential(e,t){return hb._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Vw.credentialFromTaggedObject(t)}static credentialFromError(e){return Vw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?hb._fromTokenResponse(n,r):null}}function qw(e,t){return t?gy(t):(Ov(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Vw.PROVIDER_ID="phone",Vw.PHONE_SIGN_IN_METHOD="phone";class zw extends Zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ab(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ab(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ab(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Bw(e){return Ob(e.auth,new zw(e),e.bypassAuthState)}function Kw(e){const{auth:t,user:n}=e;return Ov(n,t,"internal-error"),Rb(n,new zw(e),e.bypassAuthState)}async function Gw(e){const{auth:t,user:n}=e;return Ov(n,t,"internal-error"),Nb(n,new zw(e),e.bypassAuthState)}class Hw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(KS){this.reject(KS)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(KS){this.reject(KS)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bw;case"linkViaPopup":case"linkViaRedirect":return Gw;case"reauthViaPopup":case"reauthViaRedirect":return Kw;default:Cv(this.auth,"internal-error")}}resolve(e){Lv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ww=new Uv(2e3,1e4);class Qw extends Hw{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Qw.currentPopupAction&&Qw.currentPopupAction.cancel(),Qw.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ov(e,this.auth,"internal-error"),e}async onExecution(){Lv(1===this.filter.length,"Popup operations only handle one event");const e=mw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(xv(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(xv(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qw.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(xv(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ww.get())};e()}}Qw.currentPopupAction=null;const $w=new Map;class Jw extends Hw{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=$w.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=e_(t),r=Zw(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(KS){e=()=>Promise.reject(KS)}$w.set(this.auth._key(),e)}return this.bypassAuthState||$w.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Yw(e,t){return Zw(e)._set(e_(t),"true")}function Xw(e,t){$w.set(e._key(),t)}function Zw(e){return gy(e._redirectPersistence)}function e_(e){return by("pendingRedirect",e.config.apiKey,e.name)}function t_(e,t,n){return async function(e,t,n){if(Br(e.app))return Promise.reject(Nv(e));const r=Ly(e);Pv(e,t,pb),await r._initializationPromise;const i=qw(r,n);return await Yw(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function n_(e,t,n){return async function(e,t,n){const r=xn(e);if(Pv(r.auth,t,pb),Br(r.auth.app))return Promise.reject(Nv(r.auth));await r.auth._initializationPromise;const i=qw(r.auth,n);await Yw(i,r.auth);const s=await s_(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function r_(e,t,n){return async function(e,t,n){const r=xn(e);Pv(r.auth,t,pb),await r.auth._initializationPromise;const i=qw(r.auth,n);await Pb(!1,r,t.providerId),await Yw(i,r.auth);const s=await s_(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function i_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Br(e.app))return Promise.reject(Nv(e));const r=Ly(e),i=qw(r,t),s=new Jw(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function s_(e){const t=mw(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class o_{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!l_(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(xv(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(a_(e))}saveEventToCache(e){this.cachedEventUids.add(a_(e)),this.lastProcessedEventTime=Date.now()}}function a_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function l_(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}async function u_(e){return Gv(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const c_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h_=/^https?/;function d_(e){const t=Mv(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!h_.test(n))return!1;if(c_.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const f_=new Uv(3e4,6e4);function p_(){const e=vw().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function m_(e){return new Promise(((t,n)=>{var r,i,s;function o(){p_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{p_(),n(xv(e,"network-request-failed"))},timeout:f_.get()})}if(null===(i=null===(r=vw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=vw().gapi)||void 0===s?void 0:s.load)){const t=Uy("iframefcb");return vw()[t]=()=>{gapi.load?o():n(xv(e,"network-request-failed"))},jy(`${Fy.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw g_=null,e}))}let g_=null;const v_=new Uv(5e3,15e3),y_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w_(e){const t=e.config;Ov(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Vv(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Qr},i=b_.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${In(r).slice(1)}`}async function __(e){const t=await function(e){return g_=g_||m_(e),g_}(e),n=vw().gapi;return Ov(n,e,"internal-error"),t.open({where:document.body,url:w_(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y_,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=xv(e,"network-request-failed"),s=vw().setTimeout((()=>{r(i)}),v_.get());function o(){vw().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const I_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class S_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(KS){}}}function E_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},I_),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ln().toLowerCase();n&&(a=Ey(u)?"_blank":n),Iy(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Ay(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new S_(null);const h=window.open(t||"",a,c);Ov(h,e,"popup-blocked");try{h.focus()}catch(KS){}return new S_(h)}const T_="__/auth/handler",k_="emulator/auth/handler",C_=encodeURIComponent("fac");async function x_(e,t,n,r,i,s){Ov(e.config.authDomain,e,"auth-domain-config-required"),Ov(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qr,eventId:i};if(t instanceof pb){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof mb){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${C_}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${T_}`;return Vv(t,k_)}(e)}?${In(a).slice(1)}${u}`}const A_="webStorageSupport";const N_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fw,this._completeRedirectFn=i_,this._overrideRedirectResult=Xw}async _openPopup(e,t,n,r){var i;Lv(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return E_(e,await x_(e,t,n,Mv(),r),mw())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vw().location.href=e}(await x_(e,t,n,Mv(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Lv(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await __(e),n=new o_(e);return t.register("authEvent",(t=>{Ov(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(A_,{type:A_},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[A_];void 0!==i&&t(!!i),Cv(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await u_(e);for(const n of t)try{if(d_(n))return}catch(GS){}Cv(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ny()||Sy()||Ay()}};class P_{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Dv("unexpected MultiFactorSessionType")}}}class R_ extends P_{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new R_(e)}_finalizeEnroll(e,t,n){return function(e,t){return Gv(e,"POST","/v2/accounts/mfaEnrollment:finalize",Kv(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Gv(e,"POST","/v2/accounts/mfaSignIn:finalize",Kv(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class O_{constructor(){}static assertion(e){return R_._fromCredential(e)}}O_.FACTOR_ID="phone";var D_="@firebase/auth",L_="1.8.0";class M_{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ov(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=sn())||void 0===t||t[`_${e}`]})("authIdTokenMaxAge");var F_;function j_(){return window}Fy={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=xv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},F_="Browser",Ur(new An("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ov(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:F_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Py(F_)},u=new Dy(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gy);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(u,n),u}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ur(new An("auth-internal",(e=>(e=>new M_(e))(Ly(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ei(D_,L_,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(F_)),ei(D_,L_,"esm2017");async function U_(e,t,n){var r;const{BuildInfo:i}=j_();Lv(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Lv(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Ay()?o.ibi=i.packageName:ky()?o.apn=i.packageName:Cv(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,x_(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function V_(e){const{cordova:t}=j_();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}class q_ extends o_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInitialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function z_(e){const t=await G_()._get(H_(e));return t&&await G_()._remove(H_(e)),t}function B_(e,t){var n,r;const i=function(e){const t=W_(e),n=t.link?decodeURIComponent(t.link):void 0,r=W_(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return W_(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=W_(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(KS){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?xv(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function K_(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function G_(){return gy(hw)}function H_(e){return by("authEvent",e.config.apiKey,e.name)}function W_(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Sn(n.join("?"))}const Q_=class{constructor(){this._redirectPersistence=fw,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=i_,this._overrideRedirectResult=Xw}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new q_(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Cv(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,u,c;const h=j_();Ov("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ov("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ov("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ov("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ov("function"===typeof(null===(c=null===(u=null===h||void 0===h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),$w.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:K_(),postBody:null,tenantId:e.tenantId,error:xv(e,"no-auth-event")}}(e,n,r);await function(e,t){return G_()._set(H_(e),t)}(e,s);const o=await U_(e,s,t);return async function(e,t,n){const{cordova:r}=j_();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout((()=>{o(xv(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(l),document.addEventListener("resume",u,!1),ky()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await V_(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=j_(),n={};Ay()?n.iosBundleId=t.packageName:ky()?n.androidPackageName=t.packageName:Cv(e,"operation-not-supported-in-this-environment"),await u_(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=j_(),s=setTimeout((async()=>{await z_(e),t.onEvent($_())}),500),o=async n=>{clearTimeout(s);const r=await z_(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=B_(r,n.url)),t.onEvent(i||$_())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l=`${i.packageName.toLowerCase()}://`;j_().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(KS){console.error(KS)}}}};function $_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:xv("no-auth-event")}}function J_(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Y_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return!("file:"!==J_()&&"ionic:"!==J_()&&"capacitor:"!==J_()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function X_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return fn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln();return/Edge\/\d+/.test(e)}(e)}function Z_(){try{const e=self.localStorage,t=mw();if(e)return e.setItem(t,"1"),e.removeItem(t),!X_()||mn()}catch(KS){return eI()&&mn()}return!1}function eI(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function tI(){return("http:"===J_()||"https:"===J_()||hn()||Y_())&&!(dn()||un())&&Z_()&&!eI()}function nI(){return Y_()&&"undefined"!==typeof document}const rI={LOCAL:"local",NONE:"none",SESSION:"session"},iI=Ov,sI="persistence";async function oI(e){await e._initializationPromise;const t=aI(),n=by(sI,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function aI(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(KS){return null}}const lI=Ov;class uI{constructor(){this.browserResolver=gy(N_),this.cordovaResolver=gy(Q_),this.underlyingResolver=null,this._redirectPersistence=fw,this._completeRedirectFn=i_,this._overrideRedirectResult=Xw}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return nI()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return lI(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!nI()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function cI(e){return e.unwrap()}function hI(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new mI(e,function(e,t){var n;const r=xn(e),i=t;return Ov(t.customData.operationType,r,"argument-error"),Ov(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),iw._fromError(r,i)}(e,t))}else if(r){const e=dI(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function dI(e){const{_tokenResponse:t}=e instanceof gn?e.customData:e;if(!t)return null;if(!(e instanceof gn)&&"temporaryProof"in t&&"phoneNumber"in t)return Vw.credentialFromResult(e);const n=t.providerId;if(!n||n===fv)return null;let r;switch(n){case dv:r=yb;break;case cv:r=vb;break;case hv:r=bb;break;case pv:r=Ib;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?wb._create(n,o):lb._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new gb(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof gn?r.credentialFromError(e):r.credentialFromResult(e)}function fI(e,t){return t.catch((t=>{throw t instanceof gn&&hI(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,dI(r)),additionalUserInfo:nw(e),user:gI.getOrCreate(n)};var r}))}async function pI(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>fI(e,n.confirm(t))}}class mI{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return fI(cI(this.auth),this.resolver.resolveSignIn(e))}}class gI{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=xn(e);return aw.has(t)||aw.set(t,ow._fromUser(t)),aw.get(t)}(e)}static getOrCreate(e){return gI.USER_MAP.has(e)||gI.USER_MAP.set(e,new gI(e)),gI.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return fI(this.auth,Lb(this._delegate,e))}async linkWithPhoneNumber(e,t){return pI(this.auth,async function(e,t,n){const r=xn(e);await Pb(!1,r,"phone");const i=await jw(r.auth,t,xn(n));return new Fw(i,(e=>Lb(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return fI(this.auth,async function(e,t,n){const r=xn(e);Pv(r.auth,t,pb);const i=qw(r.auth,n);return new Qw(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,uI))}async linkWithRedirect(e){return await oI(Ly(this.auth)),r_(this._delegate,e,uI)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return fI(this.auth,Mb(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return pI(this.auth,async function(e,t,n){const r=xn(e);if(Br(r.auth.app))return Promise.reject(Nv(r.auth));const i=await jw(r.auth,t,xn(n));return new Fw(i,(e=>Mb(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return fI(this.auth,async function(e,t,n){const r=xn(e);if(Br(r.auth.app))return Promise.reject(xv(r.auth,"operation-not-supported-in-this-environment"));Pv(r.auth,t,pb);const i=qw(r.auth,n);return new Qw(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,uI))}async reauthenticateWithRedirect(e){return await oI(Ly(this.auth)),n_(this._delegate,e,uI)}sendEmailVerification(e){return Hb(this._delegate,e)}async unlink(e){return await Ab(this._delegate,e),this}updateEmail(e){return function(e,t){const n=xn(e);return Br(n.auth.app)?Promise.reject(Nv(n.auth)):$b(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return $b(xn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=xn(e);if(Br(n.auth.app))return Promise.reject(Nv(n.auth));await Nb(n,t)}(this._delegate,e)}updateProfile(e){return Qb(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Wb(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}gI.USER_MAP=new WeakMap;const vI=Ov;class yI{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;vI(n,"invalid-api-key",{appName:e.name}),vI(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?uI:void 0;this._delegate=t.initialize({options:{persistence:wI(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Iv),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?gI.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Jy(this._delegate,e,t)}applyActionCode(e){return Bb(this._delegate,e)}checkActionCode(e){return Kb(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await eb(xn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&zb(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return fI(this._delegate,async function(e,t,n){if(Br(e.app))return Promise.reject(Nv(e));const r=Ly(e),i=Qy(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Sb,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&zb(e),t})),o=await Eb._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Gb(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=db.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){vI(tI(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Ly(e)._initializationPromise,i_(e,t,!1)}(this._delegate,uI);return e?fI(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Ly(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=bI(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=bI(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Ly(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Ov(t.handleCodeInApp,r,"argument-error"),t&&qb(r,e,t)}(i,n),await Qy(r,i,"getOobCode",sb,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Ly(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&qb(r,i,n),await Qy(r,i,"getOobCode",ib,"EMAIL_PASSWORD_PROVIDER")}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){iI(Object.values(rI).includes(t),e,"invalid-persistence-type"),dn()?iI(t!==rI.SESSION,e,"unsupported-persistence-type"):un()?iI(t===rI.NONE,e,"unsupported-persistence-type"):eI()?iI(t===rI.NONE||t===rI.LOCAL&&mn(),e,"unsupported-persistence-type"):iI(t===rI.NONE||Z_(),e,"unsupported-persistence-type")}(this._delegate,e),e){case rI.SESSION:t=fw;break;case rI.LOCAL:t=await gy(xw)._isAvailable()?xw:hw;break;case rI.NONE:t=yy;break;default:return Cv("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return fI(this._delegate,async function(e){var t;if(Br(e.app))return Promise.reject(Nv(e));const n=Ly(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Eb({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Sb(n,{returnSecureToken:!0}),i=await Eb._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return fI(this._delegate,Db(this._delegate,e))}signInWithCustomToken(e){return fI(this._delegate,Fb(this._delegate,e))}signInWithEmailAndPassword(e,t){return fI(this._delegate,function(e,t,n){return Br(e.app)?Promise.reject(Nv(e)):Db(xn(e),fb.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&zb(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return fI(this._delegate,async function(e,t,n){if(Br(e.app))return Promise.reject(Nv(e));const r=xn(e),i=fb.credentialWithLink(t,n||Mv());return Ov(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Db(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return pI(this._delegate,async function(e,t,n){if(Br(e.app))return Promise.reject(Nv(e));const r=Ly(e),i=await jw(r,t,xn(n));return new Fw(i,(e=>Db(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return vI(tI(),this._delegate,"operation-not-supported-in-this-environment"),fI(this._delegate,async function(e,t,n){if(Br(e.app))return Promise.reject(xv(e,"operation-not-supported-in-this-environment"));const r=Ly(e);Pv(e,t,pb);const i=qw(r,n);return new Qw(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,uI))}async signInWithRedirect(e){return vI(tI(),this._delegate,"operation-not-supported-in-this-environment"),await oI(this._delegate),t_(this._delegate,e,uI)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Kb(xn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function bI(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&gI.getOrCreate(e)),error:t,complete:n}}function wI(e,t){const n=function(e,t){const n=aI();if(!n)return[];const r=by(sI,e,t);switch(n.getItem(r)){case rI.NONE:return[yy];case rI.LOCAL:return[xw,fw];case rI.SESSION:return[fw];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(xw)||n.push(xw),"undefined"!==typeof window)for(const r of[hw,fw])n.includes(r)||n.push(r);return n.includes(yy)||n.push(yy),n}yI.Persistence=rI;class _I{constructor(){this.providerId="phone",this._delegate=new Vw(cI(vi.auth()))}static credential(e,t){return Vw.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}_I.PHONE_SIGN_IN_METHOD=Vw.PHONE_SIGN_IN_METHOD,_I.PROVIDER_ID=Vw.PROVIDER_ID;const II=Ov;class SI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vi.app();var r;II(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Mw(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(e){e.INTERNAL.registerComponent(new An("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new yI(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:mv,PASSWORD_RESET:gv,RECOVER_EMAIL:vv,REVERT_SECOND_FACTOR_ADDITION:yv,VERIFY_AND_CHANGE_EMAIL:bv,VERIFY_EMAIL:wv}},EmailAuthProvider:fb,FacebookAuthProvider:vb,GithubAuthProvider:bb,GoogleAuthProvider:yb,OAuthProvider:gb,SAMLAuthProvider:_b,PhoneAuthProvider:_I,PhoneMultiFactorGenerator:O_,RecaptchaVerifier:SI,TwitterAuthProvider:Ib,Auth:yI,AuthCredential:Zy,Error:gn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.5.15")}(vi);const EI=n.p+"static/media/Play_Store.svg.9666cab4aff3d43860f0.png",TI=n.p+"static/media/App_Store.d85e2cd10da9b8c9eb19.png";vi.initializeApp({apiKey:"AIzaSyC0AmTryR4jHXZ2mIi7Di-89qGSej0v_VA",authDomain:"kaouka.firebaseapp.com",projectId:"kaouka",storageBucket:"kaouka.appspot.com",messagingSenderId:"717081618861",appId:"1:717081618861:web:41770c6045e4ea72aa9924",measurementId:"G-N98H0NHNSK"});const kI=()=>{te();const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1);return(0,pt.jsxs)("div",{className:"side-container",children:[(0,pt.jsxs)("div",{className:"centered-container",onClick:()=>{window.location.href="https://kenyhenry.github.io/elaborium_website/#/Kaouka"},children:[(0,pt.jsx)("div",{className:"centered-content",children:(0,pt.jsx)("img",{alt:"kaouka",src:Qt,loading:"lazy",width:100,height:100})}),(0,pt.jsx)("div",{className:"centered-content",children:(0,pt.jsx)("img",{alt:"kaouka",src:TI,loading:"lazy",width:300})})]}),(0,pt.jsxs)("div",{className:"centered-container",onClick:()=>{window.location.href="https://kenyhenry.github.io/elaborium_website/#/Kaouka"},children:[(0,pt.jsx)("div",{className:"centered-content",children:(0,pt.jsx)("img",{alt:"kaouka",src:Qt,loading:"lazy",width:100,height:100})}),(0,pt.jsx)("div",{className:"centered-content",children:(0,pt.jsx)("img",{alt:"kaouka",src:EI,loading:"lazy",width:300})})]})]})};var CI=n(173),xI=n.n(CI),AI=n(542),NI=n.n(AI),PI=n(366),RI=n.n(PI),OI=n(123),DI=n.n(OI),LI="bodyAttributes",MI="htmlAttributes",FI="titleAttributes",jI={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},UI=(Object.keys(jI).map((function(e){return jI[e]})),"charset"),VI="cssText",qI="href",zI="http-equiv",BI="innerHTML",KI="itemprop",GI="name",HI="property",WI="rel",QI="src",$I="target",JI={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},YI="defaultTitle",XI="defer",ZI="encodeSpecialCharacters",eS="onChangeClientState",tS="titleTemplate",nS=Object.keys(JI).reduce((function(e,t){return e[JI[t]]=t,e}),{}),rS=[jI.NOSCRIPT,jI.SCRIPT,jI.STYLE],iS="data-react-helmet",sS="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),aS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lS=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},uS=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},cS=function(e){var t=mS(e,jI.TITLE),n=mS(e,tS);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=mS(e,YI);return t||r||void 0},hS=function(e){return mS(e,eS)||function(){}},dS=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return aS({},e,t)}),{})},fS=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[jI.BASE]})).map((function(e){return e[jI.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var s=r[i].toLowerCase();if(-1!==e.indexOf(s)&&n[s])return t.concat(n)}return t}),[])},pS=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&wS("Helmet: "+e+' should be of type "Array". Instead found type "'+sS(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,s=Object.keys(e),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();-1===t.indexOf(l)||n===WI&&"canonical"===e[n].toLowerCase()||l===WI&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(a)||a!==BI&&a!==VI&&a!==KI||(n=a)}if(!n||!e[n])return!1;var u=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][u]&&(i[n][u]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=DI()({},r[a],i[a]);r[a]=l}return e}),[]).reverse()},mS=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},gS=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){gS(t)}),0)}}(),vS=function(e){return clearTimeout(e)},yS="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||gS:n.g.requestAnimationFrame||gS,bS="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||vS:n.g.cancelAnimationFrame||vS,wS=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},_S=null,IS=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,s=e.linkTags,o=e.metaTags,a=e.noscriptTags,l=e.onChangeClientState,u=e.scriptTags,c=e.styleTags,h=e.title,d=e.titleAttributes;TS(jI.BODY,r),TS(jI.HTML,i),ES(h,d);var f={baseTag:kS(jI.BASE,n),linkTags:kS(jI.LINK,s),metaTags:kS(jI.META,o),noscriptTags:kS(jI.NOSCRIPT,a),scriptTags:kS(jI.SCRIPT,u),styleTags:kS(jI.STYLE,c)},p={},m={};Object.keys(f).forEach((function(e){var t=f[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(m[e]=f[e].oldTags)})),t&&t(),l(e,p,m)},SS=function(e){return Array.isArray(e)?e.join(""):e},ES=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=SS(e)),TS(jI.TITLE,t)},TS=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(iS),i=r?r.split(","):[],s=[].concat(i),o=Object.keys(t),a=0;a<o.length;a++){var l=o[a],u=t[l]||"";n.getAttribute(l)!==u&&n.setAttribute(l,u),-1===i.indexOf(l)&&i.push(l);var c=s.indexOf(l);-1!==c&&s.splice(c,1)}for(var h=s.length-1;h>=0;h--)n.removeAttribute(s[h]);i.length===s.length?n.removeAttribute(iS):n.getAttribute(iS)!==o.join(",")&&n.setAttribute(iS,o.join(","))}},kS=function(e,t){var n=document.head||document.querySelector(jI.HEAD),r=n.querySelectorAll(e+"["+iS+"]"),i=Array.prototype.slice.call(r),s=[],o=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===BI)n.innerHTML=t.innerHTML;else if(r===VI)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var a="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,a)}n.setAttribute(iS,"true"),i.some((function(e,t){return o=t,n.isEqualNode(e)}))?i.splice(o,1):s.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),s.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:s}},CS=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},xS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[JI[n]||n]=e[n],t}),t)},AS=function(e,t,n){switch(e){case jI.TITLE:return{toComponent:function(){return function(e,t,n){var i,s=((i={key:t})[iS]=!0,i),o=xS(n,s);return[r.createElement(jI.TITLE,o,t)]}(0,t.title,t.titleAttributes)},toString:function(){return function(e,t,n,r){var i=CS(n),s=SS(t);return i?"<"+e+" "+iS+'="true" '+i+">"+uS(s,r)+"</"+e+">":"<"+e+" "+iS+'="true">'+uS(s,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case LI:case MI:return{toComponent:function(){return xS(t)},toString:function(){return CS(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,n){var i,s=((i={key:n})[iS]=!0,i);return Object.keys(t).forEach((function(e){var n=JI[e]||e;if(n===BI||n===VI){var r=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:r}}else s[n]=t[e]})),r.createElement(e,s)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===BI||e===VI)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+uS(r[t],n)+'"';return e?e+" "+i:i}),""),s=r.innerHTML||r.cssText||"",o=-1===rS.indexOf(e);return t+"<"+e+" "+iS+'="true" '+i+(o?"/>":">"+s+"</"+e+">")}),"")}(e,t,n)}}}},NS=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,s=e.linkTags,o=e.metaTags,a=e.noscriptTags,l=e.scriptTags,u=e.styleTags,c=e.title,h=void 0===c?"":c,d=e.titleAttributes;return{base:AS(jI.BASE,t,r),bodyAttributes:AS(LI,n,r),htmlAttributes:AS(MI,i,r),link:AS(jI.LINK,s,r),meta:AS(jI.META,o,r),noscript:AS(jI.NOSCRIPT,a,r),script:AS(jI.SCRIPT,l,r),style:AS(jI.STYLE,u,r),title:AS(jI.TITLE,{title:h,titleAttributes:d},r)}},PS=function(e){var t,n;return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.shouldComponentUpdate=function(e){return!RI()(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case jI.SCRIPT:case jI.NOSCRIPT:return{innerHTML:t};case jI.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,s=e.nestedChildren;return aS({},r,((t={})[n.type]=[].concat(r[n.type]||[],[aS({},i,this.mapNestedChildrenToProps(n,s))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,s=e.newChildProps,o=e.nestedChildren;switch(r.type){case jI.TITLE:return aS({},i,((t={})[r.type]=o,t.titleAttributes=aS({},s),t));case jI.BODY:return aS({},i,{bodyAttributes:aS({},s)});case jI.HTML:return aS({},i,{htmlAttributes:aS({},s)})}return aS({},i,((n={})[r.type]=aS({},s),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=aS({},t);return Object.keys(e).forEach((function(t){var r;n=aS({},n,((r={})[t]=e[t],r))})),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,i={};return r.Children.forEach(e,(function(e){if(e&&e.props){var r=e.props,s=r.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[nS[n]||n]=e[n],t}),t)}(lS(r,["children"]));switch(n.warnOnInvalidChildren(e,s),e.type){case jI.LINK:case jI.META:case jI.NOSCRIPT:case jI.SCRIPT:case jI.STYLE:i=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:o,nestedChildren:s});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:o,nestedChildren:s})}}})),t=this.mapArrayTypeChildrenToProps(i,t)},n.prototype.render=function(){var t=this.props,n=t.children,i=lS(t,["children"]),s=aS({},i);return n&&(s=this.mapChildrenToProps(n,s)),r.createElement(e,s)},oS(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(r.Component),t.propTypes={base:xI().object,bodyAttributes:xI().object,children:xI().oneOfType([xI().arrayOf(xI().node),xI().node]),defaultTitle:xI().string,defer:xI().bool,encodeSpecialCharacters:xI().bool,htmlAttributes:xI().object,link:xI().arrayOf(xI().object),meta:xI().arrayOf(xI().object),noscript:xI().arrayOf(xI().object),onChangeClientState:xI().func,script:xI().arrayOf(xI().object),style:xI().arrayOf(xI().object),title:xI().string,titleAttributes:xI().object,titleTemplate:xI().string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=NS({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n}(NI()((function(e){return{baseTag:fS([qI,$I],e),bodyAttributes:dS(LI,e),defer:mS(e,XI),encode:mS(e,ZI),htmlAttributes:dS(MI,e),linkTags:pS(jI.LINK,[WI,qI],e),metaTags:pS(jI.META,[GI,UI,zI,HI,KI],e),noscriptTags:pS(jI.NOSCRIPT,[BI],e),onChangeClientState:hS(e),scriptTags:pS(jI.SCRIPT,[QI,BI],e),styleTags:pS(jI.STYLE,[VI],e),title:cS(e),titleAttributes:dS(FI,e)}}),(function(e){_S&&bS(_S),e.defer?_S=yS((function(){IS(e,(function(){_S=null}))})):(IS(e),_S=null)}),NS)((function(){return null})));PS.renderStatic=PS.rewind;const RS=()=>{te(),Z();return(0,pt.jsxs)("div",{className:"centered-container",onClick:()=>{window.location.href="https://kenyhenry.github.io/elaborium_website/#/Kaouka"},children:[(0,pt.jsx)("div",{className:"centered-content",children:(0,pt.jsx)("img",{alt:"kaouka",src:Qt,loading:"lazy",width:100,height:100})}),(0,pt.jsx)("div",{className:"centered-content",children:(0,pt.jsx)("img",{alt:"kaouka",src:TI,loading:"lazy",width:300})})]})},OS=()=>{te(),Z();return(0,pt.jsxs)("div",{className:"centered-container",onClick:()=>{window.location.href="https://kenyhenry.github.io/elaborium_website/#/Kaouka"},children:[(0,pt.jsx)("div",{className:"centered-content",children:(0,pt.jsx)("img",{alt:"kaouka",src:Qt,loading:"lazy",width:100,height:100})}),(0,pt.jsx)("div",{className:"centered-content",children:(0,pt.jsx)("img",{alt:"kaouka",src:EI,loading:"lazy",width:300})})]})},DS=()=>{te(),Z();return(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h1",{children:"Condition g\xe9n\xe9ral d'utilisation"}),(0,pt.jsx)("p",{children:"Article 1 : Objet Les pr\xe9sentes conditions g\xe9n\xe9rales d'utilisation (ci-apr\xe8s les \"CGU\") ont pour objet de d\xe9finir les conditions et modalit\xe9s d'utilisation du r\xe9seau social Kaouka (ci-apr\xe8s le \"R\xe9seau\"). Article 2 : Acc\xe8s au R\xe9seau Le R\xe9seau est accessible gratuitement \xe0 tout utilisateur disposant d'une connexion internet et d'un appareil mobile compatible. L'utilisateur est responsable de l'installation et de la maintenance de son mat\xe9riel informatique et de sa connexion internet. Article 3 : Anonymat et confidentialit\xe9 Le R\xe9seau est accessible en tout anonymat. L'utilisateur choisit un pseudo et une image de profil qui ne doivent pas permettre son identification. Seule la localisation de l'utilisateur est r\xe9cup\xe9r\xe9e par l'application. L'adresse IP de l'utilisateur n'est collect\xe9e qu'en cas de non-respect des CGU. Article 4 : Contenu et publications L'utilisateur peut publier des photos, vid\xe9os, audios et textes sur le R\xe9seau ou tout autre contenu faisant l\u2019objet d'une \xe9volution ult\xe9rieure. Le contenu publi\xe9 ne doit pas porter atteinte \xe0 la sensibilit\xe9 d'autrui. Tout contenu explicite est interdit. Article 5 : Communication et interactions Le R\xe9seau permet aux utilisateurs de prendre contact par message priv\xe9 avec d'autres utilisateurs pr\xe9sents \xe0 proximit\xe9 de leur localisation. L'utilisateur peut bloquer tout contenu provenant d'un utilisateur sp\xe9cifique. Article 6 : Partage et republication Une prochaine version du R\xe9seau permettra aux utilisateurs de republier des posts afin de partager des informations. Article 7 : Profil et donn\xe9es En acc\xe9dant au profil d'un utilisateur, il est possible de voir l'ensemble de ses publications. L'utilisateur peut aimer et commenter les publications des autres utilisateurs. Article 8 : Collecte, stockage et s\xe9curit\xe9 des donn\xe9es personnelles 8.1 Collecte des donn\xe9es Kaouka collecte les donn\xe9es personnelles suivantes aupr\xe8s de l'utilisateur : Pseudo Adresse email Photo de profil G\xe9olocalisation Contenu publi\xe9 (photos, vid\xe9os, audios, textes) Commentaires et likes Adresse IP (en cas de non-respect des CGU) 8.2 Finalit\xe9s du traitement Les donn\xe9es personnelles collect\xe9es par Kaouka sont utilis\xe9es pour les finalit\xe9s suivantes\xa0: Fournir \xe0 l'utilisateur un acc\xe8s au R\xe9seau et \xe0 ses fonctionnalit\xe9s Am\xe9liorer l'exp\xe9rience utilisateur Personnaliser les contenus et les publicit\xe9s Assurer la s\xe9curit\xe9 du R\xe9seau R\xe9aliser des statistiques et analyses 8.3 : Destinataires des donn\xe9es personnelles Les donn\xe9es personnelles collect\xe9es par Kaouka ne sont jamais vendues \xe0 des tiers. Elles sont uniquement accessibles aux personnes habilit\xe9es de Kaouka et \xe0 ses sous-traitants, dans le cadre de l'ex\xe9cution des services. 8.4 : Droits de l'utilisateur L'utilisateur dispose des droits suivants sur ses donn\xe9es personnelles : Acc\xe8s Rectification Suppression Limitation du traitement Opposition au traitement Portabilit\xe9 L'utilisateur peut exercer ses droits en contactant Kaouka par courriel \xe0 l'adresse [adresse email]. 8.5 Conservation des donn\xe9es personnelles Les donn\xe9es personnelles de l'utilisateur sont conserv\xe9es pendant la dur\xe9e d'utilisation du R\xe9seau. Elles sont ensuite supprim\xe9es, sauf si leur conservation est n\xe9cessaire pour des raisons l\xe9gales ou probatoires. 8.6 S\xe9curit\xe9 des donn\xe9es personnelles Kaouka s'engage \xe0 mettre en \u0153uvre toutes les mesures techniques et organisationnelles n\xe9cessaires pour garantir la s\xe9curit\xe9 des donn\xe9es personnelles de l'utilisateur. Les donn\xe9es de l'utilisateur (pseudo, photo de profil, g\xe9olocalisation, publications, commentaires et likes) sont stock\xe9es sur un serveur s\xe9curis\xe9. Seules les publications, commentaires et likes sont partag\xe9s avec les autres utilisateurs. La g\xe9olocalisation n'est jamais communiqu\xe9e. Une distance approximative est fournie aux utilisateurs, qui sont class\xe9s du plus proche au plus \xe9loign\xe9. Seules les personnes pr\xe9sentes \xe0 proximit\xe9 de la localisation de l'utilisateur ont acc\xe8s \xe0 ses informations. Article 9 : Modification des CGU Kaouka se r\xe9serve le droit de modifier les CGU \xe0 tout moment. Les CGU modifi\xe9es entreront en vigueur \xe0 la date de leur publication sur le R\xe9seau. Article 10 : Acceptation des CGU L'utilisation du R\xe9seau implique l'acceptation pleine et enti\xe8re des CGU par l'utilisateur. Article 11\xa0: Sanctions et r\xe9siliation 11.1 Manquement aux obligations par l'utilisateur En cas de manquement aux obligations pr\xe9vues par les CGU, l'\xe9diteur peut prendre les mesures suivantes : Suspension de l'acc\xe8s \xe0 l'application\xa0: L'\xe9diteur peut suspendre l'acc\xe8s \xe0 l'application pour une dur\xe9e d\xe9termin\xe9e ou ind\xe9termin\xe9e. R\xe9siliation du compte\xa0: L'\xe9diteur peut r\xe9silier le compte de l'utilisateur en cas de manquement grave ou r\xe9p\xe9t\xe9 aux CGU. 11.2 R\xe9siliation du contrat par l'\xe9diteur L'\xe9diteur peut r\xe9silier le contrat \xe0 tout moment, avec ou sans pr\xe9avis, pour les motifs suivants : Violation des CGU par l'utilisateur Cessation d'activit\xe9 de l'\xe9diteur ` Article 12\xa0: Propri\xe9t\xe9 intellectuelle L'ensemble des contenus et \xe9l\xe9ments du R\xe9seau, y compris les textes, images, vid\xe9os, sons, marques, logos, bases de donn\xe9es, et logiciels, sont prot\xe9g\xe9s par le droit d'auteur, le droit des marques et le droit des brevets. L'utilisateur dispose d'un droit d'utilisation personnel, non exclusif et non cessible du R\xe9seau. Il est autoris\xe9 \xe0 t\xe9l\xe9charger et \xe0 reproduire les contenus du R\xe9seau pour son usage personnel uniquement. L'utilisateur s'interdit de : Reproduire, repr\xe9senter, modifier, diffuser ou adapter tout ou partie du R\xe9seau sans l'autorisation expresse du propri\xe9taire du R\xe9seau\xa0; Extraire ou r\xe9utiliser de mani\xe8re substantielle des contenus du R\xe9seau\xa0; Cr\xe9er des liens hypertextes vers le R\xe9seau sans l'autorisation expresse du propri\xe9taire du R\xe9seau\xa0; Utiliser le R\xe9seau \xe0 des fins commerciales ou publicitaires sans l\u2019autorisation expresse du propri\xe9taire du R\xe9seau. Le non-respect de la pr\xe9sente clause de propri\xe9t\xe9 intellectuelle expose l'utilisateur \xe0 des poursuites judiciaires. Article 13\xa0: Responsabilit\xe9 de l\u2019\xe9diteur L'\xe9diteur s'engage \xe0 mettre en \u0153uvre tous les moyens n\xe9cessaires pour garantir le bon fonctionnement de l'application. Cependant, il ne peut \xeatre tenu responsable des interruptions, dysfonctionnements, bugs, virus ou pertes de donn\xe9es. L'\xe9diteur est responsable du contenu qu'il publie sur l'application. Il s'engage \xe0 ne pas diffuser de contenu illicite, diffamatoire, injurieux ou portant atteinte aux droits des tiers. L'\xe9diteur s'engage \xe0 corriger les erreurs et bugs de l'application dans les meilleurs d\xe9lais. L'\xe9diteur est responsable des dommages caus\xe9s \xe0 l'utilisateur par l'application, sauf en cas de force majeure ou de faute de l'utilisateur. Article 14\xa0: Loi applicable et juridiction comp\xe9tente Les CGU sont soumises au droit fran\xe7ais. En cas de litige, les tribunaux fran\xe7ais seront seuls comp\xe9tents. ignorer les conditions g\xe9n\xe9rales d'utilisation et continuer \xe0 utiliser l'application Kaouka signifie que vous acceptez les conditions g\xe9n\xe9rales d'utilisation. Kaouka Condition sp\xe9ciale: La viande de porc, l'alcool et les produits \xe0 inhaler (cigarette, vapoteur ...) sont prohib\xe9, le r\xe9seau kaouka se reserve le droit de mod\xe9ration."})]})},LS=()=>{te(),Z();return(0,pt.jsxs)("div",{children:[(0,pt.jsx)("h1",{children:"General conditions of use"}),(0,pt.jsx)("p",{children:"Article 1: Purpose The purpose of these general conditions of use (hereinafter the \u201cGCU\u201d) is to define the terms and conditions of use of the Kaouka social network (hereinafter the \u201cNetwork\u201d). Article 2: Access to the Network The Network is accessible free of charge to any user with an internet connection and a compatible mobile device. The user is responsible for the installation and maintenance of his/her computer equipment and Internet connection. Article 3: Anonymity and confidentiality The Network is accessible anonymously. The user chooses a pseudonym and a profile image which must not allow identification. Only the user's location is retrieved by the application. The user's IP address is only collected in the event of non-compliance with the GCU. Article 4 : Content and publications The user may publish photos, videos, audios and texts on the Network, or any other content that is subject to further development. Published content must not offend the sensibilities of others. Explicit content is forbidden. Article 5: Communication and interaction The Network enables users to contact other users in their vicinity by private message. The user may block any content originating from a specific user. Article 6: Sharing and republishing A future version of the Network will allow users to republish posts in order to share information. Article 7: Profile and data By accessing a user's profile, it is possible to view all his or her publications. The user can like and comment on other users' publications. Article 8: Collection, storage and security of personal data 8.1 Data collection Kaouka collects the following personal data from the user: Username Email address Profile photo Geolocation Published content (photos, videos, audio, text) Comments and likes IP address (in the event of non-compliance with the GCU) 8.2 Data processing purposes Personal data collected by Kaouka is used for the following purposes: To provide the user with access to the Network and its functionalities To improve the user experience To personalize content and advertising To ensure the security of the Network Carry out statistics and analyses 8.3 : Recipients of personal data Personal data collected by Kaouka is never sold to third parties. It is only accessible to authorized Kaouka personnel and its subcontractors, within the framework of the execution of services. 8.4 : User rights The user has the following rights with regard to his/her personal data: Access Rectification Deletion Limitation of processing Opposition to processing Portability The user may exercise his rights by contacting Kaouka by email at [email address]. 8.5 Retention of personal data The user's personal data is kept for the duration of use of the Network. It is then deleted, unless its retention is necessary for legal or evidentiary reasons. 8.6 Security of personal data Kaouka undertakes to implement all technical and organizational measures necessary to guarantee the security of the user's personal data. User data (username, profile photo, geolocation, publications, comments and likes) are stored on a secure server. Only posts, comments and likes are shared with other users. Geolocation is never communicated. An approximate distance is provided to users, who are ranked from closest to furthest away. Users are given an approximate distance, ranked from nearest to furthest away. Only people in the vicinity of the user's location have access to their information. Article 9: Modification of the GCU Kaouka reserves the right to modify the GCU at any time. The modified GTU will come into force on the date of their publication on the Network. Article 10: Acceptance of the GCU Use of the Network implies full acceptance of the GCU by the user. Article 11 : Penalties and termination 11.1 Breach of obligations by the user In the event of a breach of the obligations set out in the GCU, the publisher may take the following measures: Suspension of access to the application: The publisher may suspend access to the application for a fixed or indefinite period. Account termination: The publisher may terminate the user's account in the event of serious or repeated breach of the GCU. 11.2 Termination of contract by the publisher The publisher may terminate the contract at any time, with or without notice, for the following reasons: Violation of the GCU by the user cessation of business by the publisher Article 12: Intellectual property All content and elements of the Network, including texts, images, videos, sounds, trademarks, logos, databases and software, are protected by copyright, trademark law and patent law. The user has a personal, non-exclusive and non-transferable right to use the Network. The user is authorized to download and reproduce the contents of the Network for personal use only. The user agrees not to: Reproduce, represent, modify, distribute or adapt all or part of the Network without the express authorization of the Network owner; Extract or substantially reuse content from the Network; Create hypertext links to the Network without the express authorization of the Network owner; Use the Network for commercial or advertising purposes without the express authorization of the Network owner. Failure to comply with this intellectual property clause may result in legal action being taken against the user. Article 13: Responsibility of the publisher The publisher undertakes to use all necessary means to guarantee the correct operation of the application. However, it cannot be held responsible for interruptions, malfunctions, bugs, viruses or loss of data. The editor is responsible for the content published on the application. He undertakes not to disseminate any content that is illicit, defamatory, offensive or that infringes the rights of third parties. The editor undertakes to correct errors and bugs in the application as soon as possible. The publisher is liable for any damage caused to the user by the application, except in the event of force majeure or fault on the part of the user. Article 14: Applicable law and jurisdiction The GCU are governed by French law. In the event of a dispute, the French courts shall have exclusive jurisdiction. Ignoring the terms and conditions of use and continuing to use the Kaouka application means that you accept the terms and conditions of use. Kaouka specific condition: Pork, alcohol and products to be inhaled (cigarette, vapoteur ...) are prohibited, the network kaouka reserves the right of moderation."})]})},MS=()=>{const e=(0,r.useRef)(null);return(0,pt.jsxs)("div",{className:"container",children:[(0,pt.jsx)("nav",{className:"invoice-navbar",children:(0,pt.jsxs)("ul",{className:"navbar-menu",children:[(0,pt.jsx)("li",{className:"nav-item",children:(0,pt.jsx)("button",{className:"invoice-button-style",children:" Doc"})}),(0,pt.jsx)("li",{className:"nav-item",children:(0,pt.jsx)("button",{className:"invoice-button-style",children:" How To"})}),(0,pt.jsx)("li",{className:"nav-item",children:(0,pt.jsx)("button",{className:"invoice-button-style",children:" FAQ"})}),(0,pt.jsx)("li",{className:"nav-item",children:(0,pt.jsx)("button",{className:"invoice-button-style",onClick:t=>{t.preventDefault(),e.current.scrollIntoView({behavior:"smooth"})},children:" Contact"})})]})}),(0,pt.jsx)("h1",{className:"invoiceTitle",children:"Welcome to GitHub Invoice"}),(0,pt.jsx)("img",{alt:"",src:$t,loading:"lazy",width:150,height:150,style:{textAlign:"center"}}),(0,pt.jsx)("p",{className:"description",children:"GitHub Invoice is a billing tool designed to generate invoices based on GitHub issues. It simplifies the process of tracking billable work and creating invoices for your GitHub projects."}),(0,pt.jsxs)("div",{className:"features",children:[(0,pt.jsx)("h2",{children:"Key Features:"}),(0,pt.jsxs)("ul",{children:[(0,pt.jsx)("li",{children:"Automatic Invoice Generation"}),(0,pt.jsx)("li",{children:"Customizable Templates"}),(0,pt.jsx)("li",{children:"Issue Tracking"}),(0,pt.jsx)("li",{children:"Export to PDF"})]})]}),(0,pt.jsxs)("div",{className:"how-it-works",children:[(0,pt.jsx)("h2",{children:"How It Works:"}),(0,pt.jsxs)("ul",{children:[(0,pt.jsx)("li",{children:"Connect GitHub Account"}),(0,pt.jsx)("li",{children:"Select Repository & Install Github Invoice from marketplace"}),(0,pt.jsx)("li",{children:"Customize Invoice using json generate on repo"}),(0,pt.jsx)("li",{children:"On issue labelize a quote is created on github-invoice empty branch"}),(0,pt.jsx)("li",{children:"On push or pull on default branch an invoice is created on github-invoice empty branch"})]})]}),(0,pt.jsx)("p",{className:"get-started",children:"Get started today and streamline your billing process with GitHub Invoice!"}),(0,pt.jsxs)("div",{ref:e,style:{height:"100%",paddingTop:"10px",alignItems:"center",background:"#333",textAlign:"center"},children:[(0,pt.jsx)("h2",{style:{textAlign:"center",color:"white"},children:"Contact"}),(0,pt.jsxs)("p",{style:{color:"white"},children:["K\xe9ny HENRY mobile:",(0,pt.jsx)("a",{href:"tel:+33640292594",className:"project-link",children:"+33640292594"}),"mail:",(0,pt.jsx)("a",{href:"mailto:henry.keny@outlook.fr",className:"project-link",children:"henry.keny@outlook.fr"})]}),(0,pt.jsxs)("footer",{className:"footer",children:[(0,pt.jsxs)("ul",{className:"social-icons",children:[(0,pt.jsx)("li",{children:(0,pt.jsx)("a",{href:"https://github.com/kenyhenry",target:"_blank",rel:"noopener noreferrer",children:(0,pt.jsx)(At,{size:32})})}),(0,pt.jsx)("li",{children:(0,pt.jsx)("a",{href:"https://www.linkedin.com/in/keny-h-69b373101/",target:"_blank",rel:"noopener noreferrer",children:(0,pt.jsx)(Nt,{size:32})})}),(0,pt.jsx)("li",{children:(0,pt.jsx)("a",{href:"https://kenyhenry.github.io/elaborium_website/",target:"_blank",rel:"noopener noreferrer",children:(0,pt.jsx)(Pt,{size:32})})})]}),(0,pt.jsx)("p",{children:"\xa9 2023 K\xe9ny HENRY. Tous droits r\xe9serv\xe9s."})]})]})]})},FS=()=>{const e=te();return(0,pt.jsxs)("div",{children:[(0,pt.jsx)("button",{className:"button-style",onClick:()=>{e("/Website")},children:" Return"}),(0,pt.jsxs)("div",{className:"container",children:[(0,pt.jsx)("h2",{children:"Nexter Syst\xe8me"}),(0,pt.jsx)("h3",{children:"Conception du logiciel d'un char d'assault"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Conception d'une strat\xe9gie de test du char"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Optimisation du logiciel pour du temps r\xe9el (contrainte 2ms)"}),(0,pt.jsx)("h2",{children:"Dassault Aviation"}),(0,pt.jsx)("h3",{children:"D\xe9veloppement d\u2019un logiciel de tableau de bord d'un avion de chasse"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 D\xe9veloppement d\u2019un g\xe9n\xe9rateur de code pour les interfaces"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 D\xe9ploiement et compilation du logiciel et essai avec pilote"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Maintenance et d\xe9veloppement d\u2019outils en vue d\u2019automatisation continue"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Mod\xe9lisation et d\xe9veloppement de tableau de bord en environnement r\xe9el (sur les avions de chasse)"}),(0,pt.jsx)("h2",{children:"Sagemcom"}),(0,pt.jsx)("h3",{children:"D\xe9veloppement d\u2019un logiciel de Soundbox (ex:Livebox)"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Int\xe9gration des applications Netflix et Prime vid\xe9o dans soundbox (ex: Livebox)"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Migration d'un navigateur d\u2019une ancienne version \xe0 une plus r\xe9cente"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Amelioration et Maintient des applications de gestion du syst\xe8me de la soundbox"}),(0,pt.jsx)("h2",{children:"Vedecom"}),(0,pt.jsx)("h3",{children:"D\xe9veloppement d'un pilote automatique voiture"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Reprise d\u2019un logiciel middleware Qt/C++ entre des capteurs type Lidar, cam\xe9ra thermique et un v\xe9hicule ou superviseur (syst\xe8me de conduite autonome)"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Publication des donn\xe9es capteur sur broker Mqtt"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 D\xe9veloppement d\u2019outils de mesure nodejs, expressjs, jquery"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 D\xe9ploiement d\u2019une infrastructure r\xe9seau"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Conception d\u2019un algorithme de calcul sur un Plan 3d"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 R\xe9daction d\u2019une documentation pour appel \xe0 projet"}),(0,pt.jsx)("h2",{children:"GearO"}),(0,pt.jsx)("h3",{children:"D\xe9veloppement d\u2019un jeu video MMPORG Play2Earn classNamemonnaie"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Conception d\u2019un backend NodeJs capable de recevoir des dizaines de milliers de connexions en simultan\xe9"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Cr\xe9ation de Smart contract avec Solidity"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Conception du front-end WebApp en ReactJs"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Conception d\u2019une application native multiplateforme en ElectronJs"}),(0,pt.jsx)("h2",{children:"Crypteral"}),(0,pt.jsx)("h3",{children:"\u2022 D\xe9veloppement d\u2019un robot trading"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Conception de l\u2019algorithme de trading"}),(0,pt.jsx)("p",{className:"global-description",children:"\u2022 Prise en main de l\u2019API broker"})]})]})},jS=()=>{const e=te();return(0,pt.jsxs)("div",{children:[(0,pt.jsx)("button",{className:"button-style",onClick:()=>{e("/Website")},children:" Retour"}),(0,pt.jsxs)("div",{className:"container",children:[(0,pt.jsx)("h2",{children:"K\xe9ny HENRY"}),(0,pt.jsx)("p",{children:"0640292594"}),(0,pt.jsx)("h2",{children:"C\xe9dric ZOU"}),(0,pt.jsx)("p",{children:"0640292594"}),(0,pt.jsx)("h2",{children:"Inasse HENRY"}),(0,pt.jsx)("p",{children:"0640292594"})]})]})},US=()=>{const e=te();return(0,pt.jsxs)("div",{children:[(0,pt.jsx)("button",{className:"button-style",onClick:()=>{e("/")},children:" Return"}),(0,pt.jsx)("div",{className:"container",children:(0,pt.jsx)("p",{children:"Dans les m\xe9thodes Agile, le paiement est g\xe9n\xe9ralement bas\xe9 sur des it\xe9rations ou des livraisons continues plut\xf4t que sur des mod\xe8les de paiement traditionnels. Voici quelques approches courantes de paiement utilis\xe9es dans les projets Agile : Facturation au temps et aux mat\xe9riaux : Dans cette approche, le client est factur\xe9 en fonction du temps pass\xe9 par l'\xe9quipe de d\xe9veloppement sur le projet et des co\xfbts mat\xe9riels associ\xe9s, tels que les licences logicielles ou l'infrastructure. Les paiements sont effectu\xe9s p\xe9riodiquement, g\xe9n\xe9ralement mensuellement ou selon un autre accord convenu. Facturation par it\xe9ration : Dans cette approche, le paiement est bas\xe9 sur les it\xe9rations de d\xe9veloppement, qui sont des cycles de travail d\xe9finis avec des objectifs sp\xe9cifiques. \xc0 la fin de chaque it\xe9ration, le client peut \xe9valuer les fonctionnalit\xe9s livr\xe9es et proc\xe9der au paiement correspondant. Facturation par livraison : Dans cette approche, le paiement est effectu\xe9 \xe0 chaque livraison de fonctionnalit\xe9s ou de versions du logiciel. Les paiements peuvent \xeatre d\xe9clench\xe9s lorsque certaines fonctionnalit\xe9s ou crit\xe8res de qualit\xe9 sont atteints. Facturation par valeur ajout\xe9e : Cette approche est bas\xe9e sur la valeur ajout\xe9e par le projet au client ou \xe0 l'entreprise. Les paiements peuvent \xeatre bas\xe9s sur les r\xe9sultats obtenus, tels que l'augmentation des revenus ou des \xe9conomies r\xe9alis\xe9es gr\xe2ce \xe0 l'utilisation du logiciel d\xe9velopp\xe9."})})]})},VS=()=>{const e=te();return(0,pt.jsxs)("div",{style:{height:"100%",backgroundColor:"rgb(33, 73, 68)"},children:[(0,pt.jsx)("button",{className:"button-style",onClick:()=>{e("/Website")},children:" Return"}),(0,pt.jsx)("a",{href:"/FormationInformatique.pdf",download:"plaquette.pdf",children:"Click to Download PDF"})]})},qS=new class{#v;#p;#u;#y;#b;#w;#_;#I;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#v=e.queryCache||new at,this.#p=e.mutationCache||new ut,this.#u=e.defaultOptions||{},this.#y=new Map,this.#b=new Map,this.#w=0}mount(){this.#w++,1===this.#w&&(this.#_=Ye.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#v.onFocus())})),this.#I=Xe.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#v.onOnline())})))}unmount(){this.#w--,0===this.#w&&(this.#_?.(),this.#_=void 0,this.#I?.(),this.#I=void 0)}isFetching(e){return this.#v.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#p.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#v.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(void 0===t)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#v.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(De(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#v.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#v.get(r.queryHash),s=i?.state.data,o=function(e,t){return"function"===typeof e?e(t):e}(t,s);if(void 0!==o)return this.#v.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return $e.batch((()=>this.#v.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#v.get(t.queryHash)?.state}removeQueries(e){const t=this.#v;$e.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#v,r={type:"active",...e};return $e.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(r,t))))}cancelQueries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=$e.batch((()=>this.#v.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(Oe).catch(Oe)}invalidateQueries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $e.batch((()=>{if(this.#v.findAll(e).forEach((e=>{e.invalidate()})),"none"===e.refetchType)return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)}))}refetchQueries(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=$e.batch((()=>this.#v.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(Oe)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(Oe)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#v.build(this,t);return n.isStaleByTime(De(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Oe).catch(Oe)}fetchInfiniteQuery(e){return e.behavior=ht(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Oe).catch(Oe)}ensureInfiniteQueryData(e){return e.behavior=ht(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Xe.isOnline()?this.#p.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#v}getMutationCache(){return this.#p}getDefaultOptions(){return this.#u}setDefaultOptions(e){this.#u=e}setQueryDefaults(e,t){this.#y.set(je(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#y.values()];let n={};return t.forEach((t=>{Ue(e,t.queryKey)&&(n={...n,...t.defaultOptions})})),n}setMutationDefaults(e,t){this.#b.set(je(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#b.values()];let n={};return t.forEach((t=>{Ue(e,t.mutationKey)&&(n={...n,...t.defaultOptions})})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#u.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fe(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),!0!==t.enabled&&t.queryFn===We&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#u.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#v.clear(),this.#p.clear()}};const zS=function(){return(0,pt.jsx)(gt,{client:qS,children:(0,pt.jsx)(ke,{children:(0,pt.jsxs)(we,{children:[(0,pt.jsx)(ye,{path:"/",element:(0,pt.jsx)(r.Suspense,{fallback:(0,pt.jsx)(Ht,{}),children:(0,pt.jsx)(vt,{})})}),(0,pt.jsx)(ye,{path:"/Website",element:(0,pt.jsx)(Mt,{})}),(0,pt.jsx)(ye,{path:"/Offer",element:(0,pt.jsx)(Wt,{})}),(0,pt.jsx)(ye,{path:"/Realisation",element:(0,pt.jsx)(Jt,{})}),(0,pt.jsx)(ye,{path:"/Kaouka",element:(0,pt.jsx)(kI,{})}),(0,pt.jsx)(ye,{path:"/Kaouka_app_apple",element:(0,pt.jsx)(RS,{})}),(0,pt.jsx)(ye,{path:"/Kaouka_app_android",element:(0,pt.jsx)(OS,{})}),(0,pt.jsx)(ye,{path:"/Kaouka_app_cgu",element:(0,pt.jsx)(DS,{})}),(0,pt.jsx)(ye,{path:"/Kaouka_app_cgu_en",element:(0,pt.jsx)(LS,{})}),(0,pt.jsx)(ye,{path:"/GithubInvoice",element:(0,pt.jsx)(MS,{})}),(0,pt.jsx)(ye,{path:"/CV",element:(0,pt.jsx)(FS,{})}),(0,pt.jsx)(ye,{path:"/Team",element:(0,pt.jsx)(jS,{})}),(0,pt.jsx)(ye,{path:"/Contact",element:(0,pt.jsx)(US,{})}),(0,pt.jsx)(ye,{path:"/Formation",element:(0,pt.jsx)(VS,{})})]})})})},BS=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,488)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};s.createRoot(document.getElementById("root")).render((0,pt.jsx)(r.StrictMode,{children:(0,pt.jsx)(zS,{})})),BS()})()})();
//# sourceMappingURL=main.ca9abbab.js.map